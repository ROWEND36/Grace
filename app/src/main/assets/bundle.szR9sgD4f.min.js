;/*! jQuery v2.2.0 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.0",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!k.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=R.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c}catch(e){}O.set(a,b,c);
}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return this;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.rnamespace||a.rnamespace.test(g.namespace))&&(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(b,c,e){var f=!0,g="width"===c?b.offsetWidth:b.offsetHeight,h=Ca(b),i="border-box"===n.css(b,"boxSizing",!1,h);if(d.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(g=Math.round(100*b.getBoundingClientRect()[c])),0>=g||null==g){if(g=Fa(b,c,h),(0>g||null==g)&&(g=b.style[c]),Ba.test(g))return g;f=i&&(l.boxSizingReliable()||g===b.style[c]),g=parseFloat(g)||0}return g+Oa(b,c,e||(i?"border":"content"),f,h)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b];
},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(void 0===a||"boolean"===c)&&(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){return n.trim(a.value)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var hb=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!hb.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,hb.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var ib=a.location,jb=n.now(),kb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return(!c||c.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+b),c};var lb=/#.*$/,mb=/([?&])_=[^&]*/,nb=/^(.*?):[ \t]*([^\r\n]*)$/gm,ob=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pb=/^(?:GET|HEAD)$/,qb=/^\/\//,rb={},sb={},tb="*/".concat("*"),ub=d.createElement("a");ub.href=ib.href;function vb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function wb(a,b,c,d){var e={},f=a===sb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function xb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function yb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function zb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ib.href,type:"GET",isLocal:ob.test(ib.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?xb(xb(a,n.ajaxSettings),b):xb(n.ajaxSettings,a)},ajaxPrefilter:vb(rb),ajaxTransport:vb(sb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=nb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||ib.href)+"").replace(lb,"").replace(qb,ib.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=ub.protocol+"//"+ub.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),wb(rb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!pb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(kb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=mb.test(f)?f.replace(mb,"$1_="+jb++):f+(kb.test(f)?"&":"?")+"_="+jb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+tb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=wb(sb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=yb(m,x,d)),u=zb(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,(b||!y)&&(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Ab=/%20/g,Bb=/\[\]$/,Cb=/\r?\n/g,Db=/^(?:submit|button|image|reset|file)$/i,Eb=/^(?:input|select|textarea|keygen)/i;function Fb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Bb.test(a)?d(a,e):Fb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Fb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Fb(c,a[c],b,e);return d.join("&").replace(Ab,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Eb.test(this.nodeName)&&!Db.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Cb,"\r\n")}}):{name:b.name,value:c.replace(Cb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Gb={0:200,1223:204},Hb=n.ajaxSettings.xhr();l.cors=!!Hb&&"withCredentials"in Hb,l.ajax=Hb=!!Hb,n.ajaxTransport(function(b){var c,d;return l.cors||Hb&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Gb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Ib=[],Jb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ib.pop()||n.expando+"_"+jb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Jb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Jb,"$1"+e):b.jsonp!==!1&&(b.url+=(kb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Ib.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),l.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||(l.createHTMLDocument?d.implementation.createHTMLDocument(""):d);var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Kb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Kb)return Kb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(g,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Lb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Lb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0)-a.scrollTop(),d.left+=n.css(a[0],"borderLeftWidth",!0)-a.scrollLeft()),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Lb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Mb=a.jQuery,Nb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Nb),b&&a.jQuery===n&&(a.jQuery=Mb),n},b||(a.jQuery=a.$=n),n});;var M={};!function(t){"function"==typeof define&&define.amd?define("M",[],function(){return t}):"undefined"==typeof exports||exports.nodeType?window.M=t:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=t),exports.default=t)}(M);var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(t){return $jscomp.SYMBOL_PREFIX+(t||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.iterator;t||(t=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&$jscomp.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(t){var e=0;return $jscomp.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},$jscomp.iteratorPrototype=function(t){return $jscomp.initSymbolIterator(),t={next:t},t[$jscomp.global.Symbol.iterator]=function(){return this},t},$jscomp.array=$jscomp.array||{},$jscomp.iteratorFromArray=function(t,e){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var n=0,o={next:function(){if(n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return o.next=function(){return{done:!0,value:void 0}},o.next()}};return o[Symbol.iterator]=function(){return o},o},$jscomp.polyfill=function(t,e,n,o){if(e){for(n=$jscomp.global,t=t.split("."),o=0;o<t.length-1;o++){var i=t[o];i in n||(n[i]={}),n=n[i]}t=t[t.length-1],o=n[t],e=e(o),e!=o&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.keys",function(t){return t?t:function(){return $jscomp.iteratorFromArray(this,function(t){return t})}},"es6-impl","es3");var $jscomp$this=this;!function(t){M.anime=t()}(function(){function t(t){if(!S.col(t))try{return document.querySelectorAll(t)}catch(e){}}function e(t,e){for(var n=t.length,o=2<=arguments.length?arguments[1]:void 0,i=[],r=0;n>r;r++)if(r in t){var a=t[r];e.call(o,a,r,t)&&i.push(a)}return i}function n(t){return t.reduce(function(t,e){return t.concat(S.arr(e)?n(e):e)},[])}function o(e){return S.arr(e)?e:(S.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function i(t,e){return t.some(function(t){return t===e})}function r(t){var e,n={};for(e in t)n[e]=t[e];return n}function a(t,e){var n,o=r(t);for(n in t)o[n]=e.hasOwnProperty(n)?e[n]:t[n];return o}function s(t,e){var n,o=r(t);for(n in e)o[n]=S.und(t[n])?e[n]:t[n];return o}function u(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,o){return e+e+n+n+o+o});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);t=parseInt(e[1],16);var n=parseInt(e[2],16),e=parseInt(e[3],16);return"rgba("+t+","+n+","+e+",1)"}function l(t){function e(t,e,n){return 0>n&&(n+=1),n>1&&--n,1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(n[1])/360;var o=parseInt(n[2])/100,i=parseInt(n[3])/100,n=n[4]||1;if(0==o)i=o=t=i;else{var r=.5>i?i*(1+o):i+o-i*o,a=2*i-r,i=e(a,r,t+1/3),o=e(a,r,t);t=e(a,r,t-1/3)}return"rgba("+255*i+","+255*o+","+255*t+","+n+")"}function c(t){return(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))?t[2]:void 0}function d(t){return-1<t.indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}function f(t,e){return S.fnc(t)?t(e.target,e.id,e.total):t}function h(t,e){return e in t.style?getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0":void 0}function p(t,e){return S.dom(t)&&i(D,e)?"transform":S.dom(t)&&(t.getAttribute(e)||S.svg(t)&&t[e])?"attribute":S.dom(t)&&"transform"!==e&&h(t,e)?"css":null!=t[e]?"object":void 0}function m(t,n){var o=d(n),o=-1<n.indexOf("scale")?1:0+o;if(t=t.style.transform,!t)return o;for(var i=[],r=[],a=[],s=/(\w+)\((.+?)\)/g;i=s.exec(t);)r.push(i[1]),a.push(i[2]);return t=e(a,function(t,e){return r[e]===n}),t.length?t[0]:o}function v(t,e){switch(p(t,e)){case"transform":return m(t,e);case"css":return h(t,e);case"attribute":return t.getAttribute(e)}return t[e]||0}function g(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var o=c(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(n[0],"")),n[0][0]){case"+":return e+t+o;case"-":return e-t+o;case"*":return e*t+o}}function y(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function b(t){t=t.points;for(var e,n=0,o=0;o<t.numberOfItems;o++){var i=t.getItem(o);o>0&&(n+=y(e,i)),e=i}return n}function _(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return y({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return b(t);case"polygon":var e=t.points;return b(t)+y(e.getItem(e.numberOfItems-1),e.getItem(0))}}function w(t,e){function n(n){return n=void 0===n?0:n,t.el.getPointAtLength(e+n>=1?e+n:0)}var o=n(),i=n(-1),r=n(1);switch(t.property){case"x":return o.x;case"y":return o.y;case"angle":return 180*Math.atan2(r.y-i.y,r.x-i.x)/Math.PI}}function k(t,e){var n,o=/-?\d*\.?\d+/g;if(n=S.pth(t)?t.totalLength:t,S.col(n))if(S.rgb(n)){var i=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=i?"rgba("+i[1]+",1)":n}else n=S.hex(n)?u(n):S.hsl(n)?l(n):void 0;else i=(i=c(n))?n.substr(0,n.length-i.length):n,n=e&&!/\s/g.test(n)?i+e:i;return n+="",{original:n,numbers:n.match(o)?n.match(o).map(Number):[0],strings:S.str(t)||e?n.split(o):[]}}function O(t){return t=t?n(S.arr(t)?t.map(o):o(t)):[],e(t,function(t,e,n){return n.indexOf(t)===e})}function E(t){var e=O(t);return e.map(function(t,n){return{target:t,id:n,total:e.length}})}function $(t,e){var n=r(e);if(S.arr(t)){var i=t.length;2!==i||S.obj(t[0])?S.fnc(e.duration)||(n.duration=e.duration/i):t={value:t}}return o(t).map(function(t,n){return n=n?0:e.delay,t=S.obj(t)&&!S.pth(t)?t:{value:t},S.und(t.delay)&&(t.delay=n),t}).map(function(t){return s(t,n)})}function M(t,e){var n,o={};for(n in t){var i=f(t[n],e);S.arr(i)&&(i=i.map(function(t){return f(t,e)}),1===i.length&&(i=i[0])),o[n]=i}return o.duration=parseFloat(o.duration),o.delay=parseFloat(o.delay),o}function x(t){return S.arr(t)?X.apply(this,t):F[t]}function C(t,e){var n;return t.tweens.map(function(o){o=M(o,e);var i=o.value,r=v(e.target,t.name),a=n?n.to.original:r,a=S.arr(i)?i[0]:a,s=g(S.arr(i)?i[1]:i,a),r=c(s)||c(a)||c(r);return o.from=k(a,r),o.to=k(s,r),o.start=n?n.end:t.offset,o.end=o.start+o.delay+o.duration,o.easing=x(o.easing),o.elasticity=(1e3-Math.min(Math.max(o.elasticity,1),999))/1e3,o.isPath=S.pth(i),o.isColor=S.col(o.from.original),o.isColor&&(o.round=1),n=o})}function j(t,o){return e(n(t.map(function(t){return o.map(function(e){var n=p(t.target,e.name);if(n){var o=C(e,t);e={type:n,property:e.name,animatable:t,tweens:o,duration:o[o.length-1].end,delay:o[0].delay}}else e=void 0;return e})})),function(t){return!S.und(t)})}function T(t,e,n,o){var i="delay"===t;return e.length?(i?Math.min:Math.max).apply(Math,e.map(function(e){return e[t]})):i?o.delay:n.offset+o.delay+o.duration}function L(t){var e,n=a(P,t),o=a(I,t),i=E(t.targets),r=[],u=s(n,o);for(e in t)u.hasOwnProperty(e)||"targets"===e||r.push({name:e,offset:u.offset,tweens:$(t[e],o)});return t=j(i,r),s(n,{children:[],animatables:i,animations:t,duration:T("duration",t,n,o),delay:T("delay",t,n,o)})}function A(t){function n(){return window.Promise&&new Promise(function(t){return d=t})}function o(t){return p.reversed?p.duration-t:t}function i(t){for(var n=0,o={},i=p.animations,r=i.length;r>n;){var a=i[n],s=a.animatable,u=a.tweens,l=u.length-1,c=u[l];l&&(c=e(u,function(e){return t<e.end})[0]||c);for(var u=Math.min(Math.max(t-c.start-c.delay,0),c.duration)/c.duration,d=isNaN(u)?1:c.easing(u,c.elasticity),u=c.to.strings,f=c.round,l=[],m=void 0,m=c.to.numbers.length,v=0;m>v;v++){var g=void 0,g=c.to.numbers[v],y=c.from.numbers[v],g=c.isPath?w(c.value,d*g):y+d*(g-y);f&&(c.isColor&&v>2||(g=Math.round(g*f)/f)),l.push(g)}if(c=u.length)for(m=u[0],d=0;c>d;d++)f=u[d+1],v=l[d],isNaN(v)||(m=f?m+(v+f):m+(v+" "));else m=l[0];N[a.type](s.target,a.property,m,o,s.id),a.currentValue=m,n++}if(n=Object.keys(o).length)for(i=0;n>i;i++)B||(B=h(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[i].target.style[B]=o[i].join(" ");p.currentTime=t,p.progress=t/p.duration*100}function r(t){p[t]&&p[t](p)}function a(){p.remaining&&!0!==p.remaining&&p.remaining--}function s(t){var e=p.duration,s=p.offset,h=s+p.delay,m=p.currentTime,v=p.reversed,g=o(t);if(p.children.length){var y=p.children,b=y.length;if(g>=p.currentTime)for(var _=0;b>_;_++)y[_].seek(g);else for(;b--;)y[b].seek(g)}(g>=h||!e)&&(p.began||(p.began=!0,r("begin")),r("run")),g>s&&e>g?i(g):(s>=g&&0!==m&&(i(0),v&&a()),(g>=e&&m!==e||!e)&&(i(e),v||a())),r("update"),t>=e&&(p.remaining?(l=u,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,r("complete"),"Promise"in window&&(d(),f=n()))),c=0)}t=void 0===t?{}:t;var u,l,c=0,d=null,f=n(),p=L(t);return p.reset=function(){var t=p.direction,e=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===t,p.remaining="alternate"===t&&1===e?2:e,i(0),t=p.children.length;t--;)p.children[t].reset()},p.tick=function(t){u=t,l||(l=u),s((c+u-l)*A.speed)},p.seek=function(t){s(o(t))},p.pause=function(){var t=Y.indexOf(p);t>-1&&Y.splice(t,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,l=0,c=o(p.currentTime),Y.push(p),z||R())},p.reverse=function(){p.reversed=!p.reversed,l=0,c=o(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=f,p.reset(),p.autoplay&&p.play(),p}var B,P={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},I={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},D="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),S={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return S.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||S.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return"undefined"==typeof t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return S.hex(t)||S.rgb(t)||S.hsl(t)}},X=function(){function t(t,e,n){return(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t}return function(e,n,o,i){if(e>=0&&1>=e&&o>=0&&1>=o){var r=new Float32Array(11);if(e!==n||o!==i)for(var a=0;11>a;++a)r[a]=t(.1*a,e,o);return function(a){if(e===n&&o===i)return a;if(0===a)return 0;if(1===a)return 1;for(var s=0,u=1;10!==u&&r[u]<=a;++u)s+=.1;--u;var u=s+(a-r[u])/(r[u+1]-r[u])*.1,l=3*(1-3*o+3*e)*u*u+2*(3*o-6*e)*u+3*e;if(l>=.001){for(s=0;4>s&&(l=3*(1-3*o+3*e)*u*u+2*(3*o-6*e)*u+3*e,0!==l);++s)var c=t(u,e,o)-a,u=u-c/l;a=u}else if(0===l)a=u;else{var u=s,s=s+.1,d=0;do c=u+(s-u)/2,l=t(c,e,o)-a,l>0?s=c:u=c;while(1e-7<Math.abs(l)&&10>++d);a=c}return t(a,n,i)}}}}(),F=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),o={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,n){return 1-t(1-e,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,n){return.5>e?t(2*e,n)/2:1-t(-2*e+2,n)/2}]},i={linear:X(.25,.25,.75,.75)},r={};for(e in o)r.type=e,o[r.type].forEach(function(t){return function(e,o){i["ease"+t.type+n[o]]=S.fnc(e)?e:X.apply($jscomp$this,e)}}(r)),r={type:r.type};return i}(),N={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,o,i){o[i]||(o[i]=[]),o[i].push(e+"("+n+")")}},Y=[],z=0,R=function(){function t(){z=requestAnimationFrame(e)}function e(e){var n=Y.length;if(n){for(var o=0;n>o;)Y[o]&&Y[o].tick(e),o++;t()}else cancelAnimationFrame(z),z=0}return t}();return A.version="2.2.0",A.speed=1,A.running=Y,A.remove=function(t){t=O(t);for(var e=Y.length;e--;)for(var n=Y[e],o=n.animations,r=o.length;r--;)i(t,o[r].animatable.target)&&(o.splice(r,1),o.length||n.pause())},A.getValue=v,A.path=function(e,n){var o=S.str(e)?t(e)[0]:e,i=n||100;return function(t){return{el:o,property:t,totalLength:_(o)*(i/100)}}},A.setDashoffset=function(t){var e=_(t);return t.setAttribute("stroke-dasharray",e),e},A.bezier=X,A.easings=F,A.timeline=function(t){var e=A(t);return e.pause(),e.duration=0,e.add=function(n){return e.children.forEach(function(t){t.began=!0,t.completed=!0}),o(n).forEach(function(n){var o=s(n,a(I,t||{}));o.targets=o.targets||t.targets,n=e.duration;var i=o.offset;o.autoplay=!1,o.direction=e.direction,o.offset=S.und(i)?n:g(i,n),e.began=!0,e.completed=!0,e.seek(o.offset),o=A(o),o.began=!0,o.completed=!0,o.duration>n&&(e.duration=o.duration),e.children.push(o)}),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},A.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},A});var unsafeAnime=M.anime;M.anime=Object.assign(function(t){if(t.complete){var e=t.complete;t.complete=function(){try{e.call(this,arguments)}catch(t){console.error(t)}}}return unsafeAnime(t)},M.anime),function(t){"use strict";function e(t){return null!==t&&t===t.window}function n(t){return e(t)?t:9===t.nodeType&&t.defaultView}function o(t){var e,o,i={top:0,left:0},r=t&&t.ownerDocument;return e=r.documentElement,"undefined"!=typeof t.getBoundingClientRect&&(i=t.getBoundingClientRect()),o=n(r),{top:i.top+o.pageYOffset-e.clientTop,left:i.left+o.pageXOffset-e.clientLeft}}function i(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e}function r(t){if(c.allowEvent(t)===!1)return null;for(var e=null,n=t.target||t.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){e=n;break}n=n.parentNode}return e}function a(e){var n=r(e);null!==n&&(l.show(e,n),"ontouchstart"in t&&(n.addEventListener("touchend",l.hide,!1),n.addEventListener("touchcancel",l.hide,!1)),n.addEventListener("mouseup",l.hide,!1),n.addEventListener("mouseleave",l.hide,!1),n.addEventListener("dragend",l.hide,!1))}var s=s||{},u=document.querySelectorAll.bind(document),l={duration:750,show:function(t,e){if(2===t.button)return!1;var n=e||this,r=document.createElement("div");r.className="waves-ripple",n.appendChild(r);var a=o(n),s=t.pageY-a.top,u=t.pageX-a.left,c="scale("+n.clientWidth/100*10+")";"touches"in t&&(s=t.touches[0].pageY-a.top,u=t.touches[0].pageX-a.left),r.setAttribute("data-hold",Date.now()),r.setAttribute("data-scale",c),r.setAttribute("data-x",u),r.setAttribute("data-y",s);var d={top:s+"px",left:u+"px"};r.className=r.className+" waves-notransition",r.setAttribute("style",i(d)),r.className=r.className.replace("waves-notransition",""),d["-webkit-transform"]=c,d["-moz-transform"]=c,d["-ms-transform"]=c,d["-o-transform"]=c,d.transform=c,d.opacity="1",d["-webkit-transition-duration"]=l.duration+"ms",d["-moz-transition-duration"]=l.duration+"ms",d["-o-transition-duration"]=l.duration+"ms",d["transition-duration"]=l.duration+"ms",d["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",d["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",d["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",d["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",r.setAttribute("style",i(d))},hide:function(t){c.touchup(t);var e=this,n=(1.4*e.clientWidth,null),o=e.getElementsByClassName("waves-ripple");if(!(o.length>0))return!1;n=o[o.length-1];var r=n.getAttribute("data-x"),a=n.getAttribute("data-y"),s=n.getAttribute("data-scale"),u=Date.now()-Number(n.getAttribute("data-hold")),d=350-u;0>d&&(d=0),setTimeout(function(){var t={top:a+"px",left:r+"px",opacity:"0","-webkit-transition-duration":l.duration+"ms","-moz-transition-duration":l.duration+"ms","-o-transition-duration":l.duration+"ms","transition-duration":l.duration+"ms","-webkit-transform":s,"-moz-transform":s,"-ms-transform":s,"-o-transform":s,transform:s};n.setAttribute("style",i(t)),setTimeout(function(){try{e.removeChild(n)}catch(t){return!1}},l.duration)},d)},wrapInput:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("input"===n.tagName.toLowerCase()){var o=n.parentNode;if("i"===o.tagName.toLowerCase()&&-1!==o.className.indexOf("waves-effect"))continue;var i=document.createElement("i");i.className=n.className+" waves-input-wrapper";var r=n.getAttribute("style");r||(r=""),i.setAttribute("style",r),n.className="waves-button-input",n.removeAttribute("style"),o.replaceChild(i,n),i.appendChild(n)}}}},c={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?c.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout(function(){c.touches>0&&(c.touches-=1)},500):"mousedown"===t.type&&c.touches>0&&(e=!1),e},touchup:function(t){c.allowEvent(t)}};s.displayEffect=function(e){e=e||{},"duration"in e&&(l.duration=e.duration),l.wrapInput(u(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",a,!1),document.body.addEventListener("mousedown",a,!1)},s.attach=function(e){"input"===e.tagName.toLowerCase()&&(l.wrapInput([e]),e=e.parentNode),"ontouchstart"in t&&e.addEventListener("touchstart",a,!1),e.addEventListener("mousedown",a,!1)},t.Waves=s,document.addEventListener("DOMContentLoaded",function(){s.displayEffect()},!1)}(window),function(){function t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}window.jQuery=$,M.jQueryLoaded=!!window.jQuery;var o=function u(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:u(i,e,n)}if("value"in o)return o.value;var r=o.get;return void 0===r?void 0:r.call(n)},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=jQuery,a=function(){function t(e,o){n(this,t),o instanceof Element||console.error(Error(o+" is not an HTML Element"));var i=e.getInstance(o);i&&i.destroy(),this.el=o,this.$el=r(o)}return i(t,null,[{key:"init",value:function(t,e,n){var o=null;if(e instanceof Element)o=new t(e,n);else if(e&&(e.jquery||e.cash||e instanceof NodeList)){for(var i=[],r=0;r<e.length;r++)i.push(new t(e[r],n));o=i}return o}}]),t}();M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.initializeJqueryWrapper=function(t,e,n){jQuery.fn[e]=function(o){if(t.prototype[o]){var i=Array.prototype.slice.call(arguments,1);if("get"===o.slice(0,3)){var r=this.first()[0][n];return r[o].apply(r,i)}return this.each(function(){var t=this[n];t[o].apply(t,i)})}return"object"!=typeof o&&o?void jQuery.error("Method "+o+" does not exist on jQuery."+e):(t.init(this,arguments[0]),this)}},M.escapeHash=function(t){return t.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.getIdFromTrigger=function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href"),e=e?e.slice(1):""),e},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0};var s=Date.now||function(){return(new Date).getTime()};M.throttle=function(t,e,n){var o=void 0,i=void 0,r=void 0,a=null,u=0;n||(n={});var l=function(){u=n.leading===!1?0:s(),a=null,r=t.apply(o,i),o=i=null};return function(){var c=s();u||n.leading!==!1||(u=c);var d=e-(c-u);return o=this,i=arguments,0>=d?(clearTimeout(a),a=null,u=c,r=t.apply(o,i),o=i=null):a||n.trailing===!1||(a=setTimeout(l,d)),r}},function(r,s){"use strict";var u={opacity:.5,inDuration:100,outDuration:50,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},l=function(a){function l(e,o){n(this,l);var i=t(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,o));return i.el.M_Modal=i,i.options=r.extend({},l.defaults,o),i.isOpen=!1,i.id=i.$el.attr("id"),i._openingTrigger=void 0,i.$overlay=r('<div class="modal-overlay"></div>'),i.el.tabIndex=0,i._nthModalOpened=0,l._count++,i._setupEventHandlers(),i}return e(l,a),i(l,[{key:"destroy",value:function(){l._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===l._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===l._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(t){var e=r(t.target).closest(".modal-trigger");if(e.length){var n=M.getIdFromTrigger(e[0]),o=document.getElementById(n).M_Modal;o&&o.open(e),t.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(t){var e=r(t.target).closest(".modal-close");e.length&&this.close()}},{key:"_handleKeydown",value:function(t){27===t.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(t){this.el.contains(t.target)||this._nthModalOpened!==l._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var t=this;r.extend(this.el.style,{display:"block",opacity:0}),r.extend(this.$overlay[0].style,{display:"block",opacity:0}),s({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var e={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el,t._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(r.extend(e,{bottom:0,opacity:1}),s(e)):(r.extend(e,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),s(e))}},{key:"_animateOut",value:function(){var t=this;s({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var e={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){t.el.style.display="none",t.$overlay.remove(),"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}};this.el.classList.contains("bottom-sheet")?(r.extend(e,{bottom:"-100%",opacity:0}),s(e)):(r.extend(e,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),s(e))}},{key:"open",value:function(t){return this.isOpen?void 0:(this.isOpen=!0,l._modalsOpen++,this._nthModalOpened=l._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*l._modalsOpen,this.el.style.zIndex=1e3+2*l._modalsOpen+1,this._openingTrigger=t?t[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),s.remove(this.el),s.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this)}},{key:"close",value:function(){return this.isOpen?(this.isOpen=!1,l._modalsOpen--,this._nthModalOpened=0,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===l._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&document.removeEventListener("keydown",this._handleKeydownBound),s.remove(this.el),s.remove(this.$overlay[0]),this._animateOut(),this):void 0}}],[{key:"init",value:function(t,e){return o(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Modal}},{key:"defaults",get:function(){return u}}]),l}(a);l._modalsOpen=0,l._count=0,M.Modal=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"modal","M_Modal")}(r,M.anime),function(t,e){"use strict";var o={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},r=function(){function r(e){n(this,r),this.options=t.extend({},r.defaults,e),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===r._toasts.length&&r._createContainer(),r._toasts.push(this);var o=this._createToast();o.M_Toast=this,this.el=o,this.$el=t(o),this._animateIn(),this._setTimer()}return i(r,[{key:"_createToast",value:function(){var e=document.createElement("div");return e.classList.add("toast"),this.options.classes.length&&t(e).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?e.appendChild(this.message):this.message.jquery?t(e).append(this.message[0]):e.innerHTML=this.message,r._container.appendChild(e),e}},{key:"_animateIn",value:function(){e({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var t=this;1/0!==this.timeRemaining&&(this.counterInterval=setInterval(function(){t.panning||(t.timeRemaining-=20),t.timeRemaining<=0&&t.dismiss()},20))}},{key:"dismiss",value:function(){var t=this;window.clearInterval(this.counterInterval);var n=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+(this.swipeDirection?-n:n)+"px)",this.el.style.opacity=0),e({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof t.options.completeCallback&&t.options.completeCallback(),t.$el.remove(),r._toasts.splice(r._toasts.indexOf(t),1),0===r._toasts.length&&r._removeContainer()}})}}],[{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Toast}},{key:"_createContainer",value:function(){var t=document.createElement("div");t.setAttribute("id","toast-container"),t.addEventListener("touchstart",r._onDragStart),t.addEventListener("touchmove",r._onDragMove),t.addEventListener("touchend",r._onDragEnd),t.addEventListener("mousedown",r._onDragStart),document.addEventListener("mousemove",r._onDragMove),document.addEventListener("mouseup",r._onDragEnd),document.body.appendChild(t),r._container=t}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",r._onDragMove),document.removeEventListener("mouseup",r._onDragEnd),t(r._container).remove(),r._container=null}},{key:"_onDragStart",value:function(e){if(e.target&&t(e.target).closest(".toast").length){var n=t(e.target).closest(".toast"),o=n[0].M_Toast;o.panning=!0,r._draggedToast=o,o.el.classList.add("panning"),o.el.style.transition="",o.startingXPos=r._xPos(e),o.time=Date.now(),o.xPos=r._xPos(e)}}},{key:"_onDragMove",value:function(t){if(r._draggedToast){t.preventDefault();var e=r._draggedToast;e.deltaX=Math.abs(e.xPos-r._xPos(t));var n=e.xPos>r._xPos(t);e.swipeDirection!=n&&(e.velocityX=0,e.swipeDirection=n),e.xPos=r._xPos(t),e.velocityX=Math.max(e.velocityX,e.deltaX/(Date.now()-e.time)),e.time=Date.now();var o=e.xPos-e.startingXPos,i=e.el.offsetWidth*e.options.activationPercent;e.el.style.transform="translateX("+o+"px)",e.el.style.opacity=1-Math.abs(o/i)}}},{key:"_onDragEnd",value:function(){if(r._draggedToast){var t=r._draggedToast;t.panning=!1,t.el.classList.remove("panning");var e=t.xPos-t.startingXPos,n=t.el.offsetWidth*t.options.activationPercent,o=Math.abs(e)>n||t.velocityX>1;o?(t.wasSwiped=!0,t.dismiss()):(t.el.style.transition="transform .2s, opacity .2s",t.el.style.transform="",t.el.style.opacity=""),r._draggedToast=null}}},{key:"_xPos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}},{key:"dismissAll",value:function(){for(var t in r._toasts)r._toasts[t].dismiss()}},{key:"defaults",get:function(){return o}}]),r}();r._toasts=[],r._container=null,r._draggedToast=null,M.Toast=r,M.toast=function(t){return new r(t)}}(r,M.anime),function(r,s){"use strict";var u={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};r.fn.reverse=[].reverse;var l=function(a){function l(e,o){n(this,l);var i=t(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,o));return i.el.M_FloatingActionButton=i,i.options=r.extend({},l.defaults,o),i.isOpen=!1,i.$anchor=i.$el.children("a").first(),i.$menu=i.$el.children("ul").first(),i.$floatingBtns=i.$el.find("ul .btn-floating"),i.$floatingBtnsReverse=i.$el.find("ul .btn-floating").reverse(),i.offsetY=0,i.offsetX=0,i.$el.addClass("direction-"+i.options.direction),"top"===i.options.direction?i.offsetY=40:"right"===i.options.direction?i.offsetX=-40:"bottom"===i.options.direction?i.offsetY=-40:i.offsetX=40,i._setupEventHandlers(),i}return e(l,a),i(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)
}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(t){r(t.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var t=this;this.$el.addClass("active");var e=0;this.$floatingBtnsReverse.each(function(n){s({targets:n,opacity:1,scale:[.4,1],translateY:[t.offsetY,0],translateX:[t.offsetX,0],duration:275,delay:e,easing:"easeInOutQuad"}),e+=40})}},{key:"_animateOutFAB",value:function(){var t=this;this.$floatingBtnsReverse.each(function(e){s.remove(e),s({targets:e,opacity:0,scale:.4,translateY:t.offsetY,translateX:t.offsetX,duration:175,easing:"easeOutQuad",complete:function(){t.$el.removeClass("active")}})})}},{key:"_animateInToolbar",value:function(){var t=this,e=void 0,n=window.innerWidth,o=window.innerHeight,i=this.el.getBoundingClientRect(),a=r('<div class="fab-backdrop"></div>'),s=this.$anchor.css("background-color");this.$anchor.append(a),this.offsetX=i.left-n/2+i.width/2,this.offsetY=o-i.bottom,e=n/a[0].clientWidth,this.btnBottom=i.bottom,this.btnLeft=i.left,this.btnWidth=i.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),a.css({"background-color":s}),setTimeout(function(){t.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),t.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout(function(){t.$el.css({overflow:"hidden","background-color":s}),a.css({transform:"scale("+e+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),t.$menu.children("li").children("a").css({opacity:1}),t._handleDocumentClickBound=t._handleDocumentClick.bind(t),window.addEventListener("scroll",t._handleCloseBound,!0),document.body.addEventListener("click",t._handleDocumentClickBound,!0)},100)},0)}},{key:"_animateOutToolbar",value:function(){var t=this,e=window.innerWidth,n=window.innerHeight,o=this.$el.find(".fab-backdrop"),i=this.$anchor.css("background-color");this.offsetX=this.btnLeft-e/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),o.css({transform:"scale(0)","background-color":i}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout(function(){o.remove(),t.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-t.offsetX+"px,0,0)"}),t.$anchor.css({overflow:"",transform:"translate3d(0,"+t.offsetY+"px,0)"}),setTimeout(function(){t.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),t.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})},20)},200)}}],[{key:"init",value:function(t,e){return o(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_FloatingActionButton}},{key:"defaults",get:function(){return u}}]),l}(a);M.FloatingActionButton=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"floatingActionButton","M_FloatingActionButton")}(r,M.anime)}();;var Base64={};!function(e){"use strict";for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),n=0;n<r.length;n++)t[r.charCodeAt(n)]=n;e.encode=function(e){var t,n=e,a=n.length,h="";for(t=0;a>t;t+=3)h+=r[n[t]>>2],h+=r[(3&n[t])<<4|n[t+1]>>4],h+=r[(15&n[t+1])<<2|n[t+2]>>6],h+=r[63&n[t+2]];return a%3===2?h=h.substring(0,h.length-1)+"=":a%3===1&&(h=h.substring(0,h.length-2)+"=="),h},e.decode=function(e){var r,n,a,h,o,c=.75*e.length,g=e.length,d=0;"="===e[e.length-1]&&(c--,"="===e[e.length-2]&&c--);var i=new Uint8Array(c);for(r=0;g>r;r+=4)n=t[e.charCodeAt(r)],a=t[e.charCodeAt(r+1)],h=t[e.charCodeAt(r+2)],o=t[e.charCodeAt(r+3)],i[d++]=n<<2|a>>4,i[d++]=(15&a)<<4|h>>2,i[d++]=(3&h)<<6|63&o;return i}}(Base64);;(function(){function o(n){var i=e;n&&(e[n]||(e[n]={}),i=e[n]);if(!i.define||!i.define.packaged)t.original=i.define,i.define=t,i.define.packaged=!0;if(!i.require||!i.require.packaged)r.original=i.require,i.require=r,i.require.packaged=!0}var ACE_NAMESPACE = "ace",e=function(){return this}();!e&&typeof window!="undefined"&&(e=window);if(!ACE_NAMESPACE&&typeof requirejs!="undefined")return;var t=function(e,n,r){if(typeof e!="string"){t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(r=n),t.modules[e]||(t.payloads[e]=r,t.modules[e]=null)};t.modules={},t.payloads={};var n=function(e,t,n){if(typeof t=="string"){var i=s(e,t);if(i!=undefined)return n&&n(),i}else if(Object.prototype.toString.call(t)==="[object Array]"){var o=[];for(var u=0,a=t.length;u<a;++u){var f=s(e,t[u]);if(f==undefined&&r.original)return;o.push(f)}return n&&n.apply(null,o)||!0}},r=function(e,t){var i=n("",e,t);return i==undefined&&r.original?r.original.apply(this,arguments):i},i=function(e,t){if(t.indexOf("!")!==-1){var n=t.split("!");return i(e,n[0])+"!"+i(e,n[1])}if(t.charAt(0)=="."){var r=e.split("/").slice(0,-1).join("/");t=r+"/"+t;while(t.indexOf(".")!==-1&&s!=t){var s=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},s=function(e,r){r=i(e,r);var s=t.modules[r];if(!s){s=t.payloads[r];if(typeof s=="function"){var o={},u={id:r,uri:"",exports:o,packaged:!0},a=function(e,t){return n(r,e,t)},f=s(a,o,u);o=f||u.exports,t.modules[r]=o,delete t.payloads[r]}s=t.modules[r]=o||s}return s};o(ACE_NAMESPACE)})(),ace.define("ace/lib/fixoldbrowsers",[],function(e,t,n){"use strict";typeof Element!="undefined"&&!Element.prototype.remove&&Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),ace.define("ace/lib/useragent",[],function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var r=typeof navigator=="object"?navigator:{},i=(/mac|win|linux/i.exec(r.platform)||["other"])[0].toLowerCase(),s=r.userAgent||"",o=r.appName||"";t.isWin=i=="win",t.isMac=i=="mac",t.isLinux=i=="linux",t.isIE=o=="Microsoft Internet Explorer"||o.indexOf("MSAppHost")>=0?parseFloat((s.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((s.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=s.match(/ Gecko\/\d+/),t.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",t.isWebKit=parseFloat(s.split("WebKit/")[1])||undefined,t.isChrome=parseFloat(s.split(" Chrome/")[1])||undefined,t.isEdge=parseFloat(s.split(" Edge/")[1])||undefined,t.isAIR=s.indexOf("AdobeAIR")>=0,t.isAndroid=s.indexOf("Android")>=0,t.isChromeOS=s.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(s)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid}),ace.define("ace/lib/dom",[],function(e,t,n){"use strict";var r=e("./useragent"),i="http://www.w3.org/1999/xhtml";t.buildDom=function o(e,t,n){if(typeof e=="string"&&e){var r=document.createTextNode(e);return t&&t.appendChild(r),r}if(!Array.isArray(e))return e&&e.appendChild&&t&&t.appendChild(e),e;if(typeof e[0]!="string"||!e[0]){var i=[];for(var s=0;s<e.length;s++){var u=o(e[s],t,n);u&&i.push(u)}return i}var a=document.createElement(e[0]),f=e[1],l=1;f&&typeof f=="object"&&!Array.isArray(f)&&(l=2);for(var s=l;s<e.length;s++)o(e[s],a,n);return l==2&&Object.keys(f).forEach(function(e){var t=f[e];e==="class"?a.className=Array.isArray(t)?t.join(" "):t:typeof t=="function"||e=="value"||e[0]=="$"?a[e]=t:e==="ref"?n&&(n[t]=a):t!=null&&a.setAttribute(e,t)}),t&&t.appendChild(a),a},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||i,e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){var n=t?t.ownerDocument:document;return n.createTextNode(e)},t.createFragment=function(e){var t=e?e.ownerDocument:document;return t.createDocumentFragment()},t.hasCssClass=function(e,t){var n=(e.className+"").split(/\s+/g);return n.indexOf(t)!==-1},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){var n=e.className.split(/\s+/g);for(;;){var r=n.indexOf(t);if(r==-1)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){var n=e.className.split(/\s+/g),r=!0;for(;;){var i=n.indexOf(t);if(i==-1)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n=0,r;t=t||document;if(r=t.querySelectorAll("style"))while(n<r.length)if(r[n++].id===e)return!0},t.importCssString=function(n,r,i){var s=i;if(!i||!i.getRootNode)s=document;else{s=i.getRootNode();if(!s||s==i)s=document}var o=s.ownerDocument||s;if(r&&t.hasCssString(r,s))return null;r&&(n+="\n/*# sourceURL=ace/css/"+r+" */");var u=t.createElement("style");u.appendChild(o.createTextNode(n)),r&&(u.id=r),s==o&&(s=t.getDocumentHead(o)),s.insertBefore(u,s.firstChild)},t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",r.appendChild(n);var s=e.documentElement;s.appendChild(r);var o=n.offsetWidth;i.overflow="scroll";var u=n.offsetWidth;return o==u&&(u=r.clientWidth),s.removeChild(r),o-u},typeof document=="undefined"&&(t.importCssString=function(){}),t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=r.isWin?typeof window!="undefined"&&window.devicePixelRatio>=1.5:!0;if(typeof document!="undefined"){var s=document.createElement("div");t.HI_DPI&&s.style.transform!==undefined&&(t.HAS_CSS_TRANSFORMS=!0),!r.isEdge&&typeof s.style.animationName!="undefined"&&(t.HAS_CSS_ANIMATION=!0),s=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}}),ace.define("ace/lib/oop",[],function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),ace.define("ace/lib/keys",[],function(e,t,n){"use strict";var r=e("./oop"),i=function(){var e={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},t,n;for(n in e.FUNCTION_KEYS)t=e.FUNCTION_KEYS[n].toLowerCase(),e[t]=parseInt(n,10);for(n in e.PRINTABLE_KEYS)t=e.PRINTABLE_KEYS[n].toLowerCase(),e[t]=parseInt(n,10);return r.mixin(e,e.MODIFIER_KEYS),r.mixin(e,e.PRINTABLE_KEYS),r.mixin(e,e.FUNCTION_KEYS),e.enter=e["return"],e.escape=e.esc,e.del=e["delete"],e[173]="-",function(){var t=["cmd","ctrl","alt","shift"];for(var n=Math.pow(2,t.length);n--;)e.KEY_MODS[n]=t.filter(function(t){return n&e.KEY_MODS[t]}).join("-")+"-"}(),e.KEY_MODS[0]="",e.KEY_MODS[-1]="input-",e}();r.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return typeof t!="string"&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/event",[],function(e,t,n){"use strict";function a(){u=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){u={passive:!1}}})}catch(e){}}function f(){return u==undefined&&a(),u}function l(e,t,n){this.elem=e,this.type=t,this.callback=n}function d(e,t,n){var u=p(t);if(!i.isMac&&s){t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(u|=8);if(s.altGr){if((3&u)==3)return;s.altGr=0}if(n===18||n===17){var a="location"in t?t.location:t.keyLocation;if(n===17&&a===1)s[n]==1&&(o=t.timeStamp);else if(n===18&&u===3&&a===2){var f=t.timeStamp-o;f<50&&(s.altGr=!0)}}}n in r.MODIFIER_KEYS&&(n=-1);if(!u&&n===13){var a="location"in t?t.location:t.keyLocation;if(a===3){e(t,u,-n);if(t.defaultPrevented)return}}if(i.isChromeOS&&u&8){e(t,u,n);if(t.defaultPrevented)return;u&=-9}return!!u||n in r.FUNCTION_KEYS?e(t,u,n):!1}function v(){s=Object.create(null)}var r=e("./keys"),i=e("./useragent"),s=null,o=0,u;l.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=undefined};var c=t.addListener=function(e,t,n,r){e.addEventListener(t,n,f()),r&&r.$toDestroy.push(new l(e,t,n))},h=t.removeListener=function(e,t,n){e.removeEventListener(t,n,f())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return e.type=="dblclick"?0:e.type=="contextmenu"||i.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){function i(e){t&&t(e),n&&n(e),h(r,"mousemove",t),h(r,"mouseup",i),h(r,"dragstart",i)}var r=e&&e.ownerDocument||document;return c(r,"mousemove",t),c(r,"mouseup",i),c(r,"dragstart",i),i},t.addMouseWheelListener=function(e,t,n){"onmousewheel"in e?c(e,"mousewheel",function(e){var n=8;e.wheelDeltaX!==undefined?(e.wheelX=-e.wheelDeltaX/n,e.wheelY=-e.wheelDeltaY/n):(e.wheelX=0,e.wheelY=-e.wheelDelta/n),t(e)},n):"onwheel"in e?c(e,"wheel",function(e){var n=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*n||0,e.wheelY=e.deltaY*n||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=(e.deltaX||0)*5,e.wheelY=(e.deltaY||0)*5}t(e)},n):c(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=(e.detail||0)*5,e.wheelY=0):(e.wheelX=0,e.wheelY=(e.detail||0)*5),t(e)},n)},t.addMultiMouseDownListener=function(e,n,r,s,o){function p(e){t.getButton(e)!==0?u=0:e.detail>1?(u++,u>4&&(u=1)):u=1;if(i.isIE){var o=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-f)>5;if(!l||o)u=1;l&&clearTimeout(l),l=setTimeout(function(){l=null},n[u-1]||600),u==1&&(a=e.clientX,f=e.clientY)}e._clicks=u,r[s]("mousedown",e);if(u>4)u=0;else if(u>1)return r[s](h[u],e)}var u=0,a,f,l,h={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){c(e,"mousedown",p,o)})};var p=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};t.getModifierString=function(e){return r.KEY_MODS[p(e)]},t.addCommandKeyListener=function(e,n,r){if(i.isOldGecko||i.isOpera&&!("KeyboardEvent"in window)){var o=null;c(e,"keydown",function(e){o=e.keyCode},r),c(e,"keypress",function(e){return d(n,e,o)},r)}else{var u=null;c(e,"keydown",function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=d(n,e,e.keyCode);return u=e.defaultPrevented,t},r),c(e,"keypress",function(e){u&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),u=null)},r),c(e,"keyup",function(e){s[e.keyCode]=null},r),s||(v(),c(window,"focus",v))}};if(typeof window=="object"&&window.postMessage&&!i.isOldIE){var m=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+m++,i=function(s){s.data==r&&(t.stopPropagation(s),h(n,"message",i),e())};c(n,"message",i),n.postMessage(r,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout(function r(){t.$idleBlocked?setTimeout(r,100):e()},n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout(function(){t.$idleBlocked=!1},e||100)},t.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/range",[],function(e,t,n){"use strict";var r=function(e,t){return e.row-t.row||e.column-t.column},i=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return this.compare(e,t)==0},this.compareRange=function(e){var t,n=e.end,r=e.start;return t=this.compare(n.row,n.column),t==1?(t=this.compare(r.row,r.column),t==1?2:t==0?1:0):t==-1?-2:(t=this.compare(r.row,r.column),t==-1?-1:t==1?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return this.comparePoint(e.start)==0&&this.comparePoint(e.end)==0},this.intersects=function(e){var t=this.compareRange(e);return t==-1||t==0||t==1},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){typeof e=="object"?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){typeof e=="object"?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return this.compare(e,t)==0?this.isEnd(e,t)||this.isStart(e,t)?!1:!0:!1},this.insideStart=function(e,t){return this.compare(e,t)==0?this.isEnd(e,t)?!1:!0:!1},this.insideEnd=function(e,t){return this.compare(e,t)==0?this.isStart(e,t)?!1:!0:!1},this.compare=function(e,t){return!this.isMultiLine()&&e===this.start.row?t<this.start.column?-1:t>this.end.column?1:0:e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)var r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(n==0)return this;if(n==-1)var r={row:e,column:t};else var s={row:e,column:t};return i.fromPoints(r||this.start,s||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=r,i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i}),ace.define("ace/lib/lang",[],function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){var n="";while(t>0){t&1&&(n+=e);if(t>>=1)e+=e}return n};var r=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)e[n]&&typeof e[n]=="object"?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function s(e){if(typeof e!="object"||!e)return e;var t;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n++)t[n]=s(e[n]);return t}if(Object.prototype.toString.call(e)!=="[object Object]")return e;t={};for(var n in e)t[n]=s(e[n]);return t},t.arrayToMap=function(e){var t={};for(var n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){n==null&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}}),ace.define("ace/clipboard",[],function(e,t,n){"use strict";var r;n.exports={lineMode:!1,pasteCancelled:function(){return r&&r>Date.now()-50?!0:r=!1},cancel:function(){r=Date.now()}}}),ace.define("ace/keyboard/textinput",[],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),s=e("../lib/dom"),o=e("../lib/lang"),u=e("../clipboard"),a=i.isChrome<18,f=i.isIE,l=i.isChrome>63,c=400,h=e("../lib/keys"),p=h.KEY_MODS,d=i.isIOS,v=d?/\s/:/\n/,m=i.isMobile,g=function(e,t){function U(){S=!0,n.blur(),n.focus(),S=!1}function $(){clearTimeout(V),V=setTimeout(function(){w&&(n.style.cssText=w,w=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()},0)}function K(e,t,n){var r=null,i=!1;n.addEventListener("keydown",function(e){r&&clearTimeout(r),i=!0},!0),n.addEventListener("keyup",function(e){r=setTimeout(function(){i=!1},100)},!0);var s=function(e){if(document.activeElement!==n)return;if(i||y||t.$mouseHandler.isMousePressed)return;if(o)return;var r=n.selectionStart,s=n.selectionEnd,u=null,a=0;if(r==0)u=h.up;else if(r==1)u=h.home;else if(s>N&&x[s]=="\n")u=h.end;else if(r<T&&x[r-1]==" ")u=h.left,a=p.option;else if(r<T||r==T&&N!=T&&r==s)u=h.left;else if(s>N&&x.slice(0,s).split("\n").length>2)u=h.down;else if(s>N&&x[s-1]==" ")u=h.right,a=p.option;else if(s>N||s==N&&N!=T&&r==s)u=h.right;r!==s&&(a|=p.shift);if(u){var f=t.onCommandKey({},a,u);if(!f&&t.commands){u=h.keyCodeToString(u);var l=t.commands.findKeyCommand(a,u);l&&t.execCommand(l)}T=r,N=s,A("")}};document.addEventListener("selectionchange",s),t.on("destroy",function(){document.removeEventListener("selectionchange",s)})}var n=s.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),e.insertBefore(n,e.firstChild);var o=!1,g=!1,y=!1,b=!1,w="";m||(n.style.fontSize="1px");var E=!1,S=!1,x="",T=0,N=0,C=0;try{var k=document.activeElement===n}catch(L){}r.addListener(n,"blur",function(e){if(S)return;t.onBlur(e),k=!1},t),r.addListener(n,"focus",function(e){if(S)return;k=!0;if(i.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),i.isEdge?setTimeout(A):A()},t),this.$focusScroll=!1,this.focus=function(){if(w||l||this.$focusScroll=="browser")return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var t=n.getBoundingClientRect().top!=0}catch(r){return}var i=[];if(t){var s=n.parentElement;while(s&&s.nodeType==1)i.push(s),s.setAttribute("ace_nocontext",!0),!s.parentElement&&s.getRootNode?s=s.getRootNode().host:s=s.parentElement}n.focus({preventScroll:!0}),t&&i.forEach(function(e){e.removeAttribute("ace_nocontext")}),setTimeout(function(){n.style.position="",n.style.top=="0px"&&(n.style.top=e)},0)},this.blur=function(){n.blur()},this.isFocused=function(){return k},t.on("beforeEndOperation",function(){var e=t.curOp,n=e&&e.command&&e.command.name;if(n=="insertstring")return;var r=n&&(e.docChanged||e.selectionChanged);y&&r&&R(),A()});var A=d?function(e){if(!k||o&&!e||b)return;e||(e="");var r="\n ab"+e+"cde fg\n";r!=n.value&&(n.value=x=r);var i=4,s=4+(e.length||(t.selection.isEmpty()?0:1));(T!=i||N!=s)&&n.setSelectionRange(i,s),T=i,N=s}:function(){if(y||b)return;if(!k&&!_)return;y=!0;var e=0,r=0,i="";if(t.session){var s=t.selection,o=s.getRange(),u=s.cursor.row;e=o.start.column,r=o.end.column,i=t.session.getLine(u);if(o.start.row!=u){var a=t.session.getLine(u-1);e=o.start.row<u-1?0:e,r+=a.length+1,i=a+"\n"+i}else if(o.end.row!=u){var f=t.session.getLine(u+1);r=o.end.row>u+1?f.length:r,r+=i.length+1,i=i+"\n"+f}else m&&u>0&&(i="\n"+i,r+=1,e+=1);i.length>c&&(e<c&&r<c?i=i.slice(0,c):(i="\n",e==r?e=r=0:(e=0,r=1)))}var l=i+"\n\n";l!=x&&(n.value=x=l,T=N=l.length),_&&(T=n.selectionStart,N=n.selectionEnd);if(N!=r||T!=e||n.selectionEnd!=N)try{n.setSelectionRange(e,r),T=e,N=r}catch(h){}y=!1};this.resetSelection=A,k&&t.onFocus();var O=function(e){return e.selectionStart===0&&e.selectionEnd>=x.length&&e.value===x&&x&&e.selectionEnd!==N},M=function(e){if(y)return;o?o=!1:O(n)?(t.selectAll(),A()):m&&n.selectionStart!=T&&A()};this.setInputHandler=function(e){console.warn("Deprecated Method")};var _=!1,D=function(e,r){_&&(_=!1);if(g)return A(),e&&t.onPaste(e),g=!1,"";var s=n.selectionStart,o=n.selectionEnd,u=T,a=x.length-N,f=e,l=e.length-s,c=e.length-o,h=0;while(u>0&&x[h]==e[h])h++,u--;f=f.slice(h),h=1;while(a>0&&x.length-h>T-1&&x[x.length-h]==e[e.length-h])h++,a--;l-=h-1,c-=h-1;var p=f.length-h+1;p<0&&(u=-p,p=0),f=f.slice(0,p);if(!r&&!f&&!l&&!u&&!a&&!c)return"";b=!0;var d=!1;return i.isAndroid&&f==". "&&(f="  ",d=!0),f&&!u&&!a&&!l&&!c||E?t.onTextInput(f):t.onTextInput(f,{extendLeft:u,extendRight:a,restoreStart:l,restoreEnd:c}),b=!1,x=e,T=s,N=o,C=c,d?"\n":f},P=function(e){if(y)return q();if(e&&e.inputType){if(e.inputType=="historyUndo")return t.execCommand("undo");if(e.inputType=="historyRedo")return t.execCommand("redo")}var r=n.value,i=D(r,!0);(r.length>c+100||v.test(i)||m&&T<1&&T==N)&&A()},H=function(e,t,n){var r=e.clipboardData||window.clipboardData;if(!r||a)return;var i=f||n?"Text":"text/plain";try{return t?r.setData(i,t)!==!1:r.getData(i)}catch(e){if(!n)return H(e,t,!0)}},B=function(e,i){var s=t.getCopyText();if(!s)return r.preventDefault(e);H(e,s)?(d&&(A(s),o=s,setTimeout(function(){o=!1},10)),i?t.onCut():t.onCopy(),r.preventDefault(e)):(o=!0,n.value=s,n.select(),setTimeout(function(){o=!1,A(),i?t.onCut():t.onCopy()}))},j=function(e){B(e,!0)},F=function(e){B(e,!1)},I=function(e){var s=H(e);if(u.pasteCancelled())return;typeof s=="string"?(s&&t.onPaste(s,e),i.isIE&&setTimeout(A),r.preventDefault(e)):(n.value="",g=!0)};r.addCommandKeyListener(n,t.onCommandKey.bind(t),t),r.addListener(n,"select",M,t),r.addListener(n,"input",P,t),r.addListener(n,"cut",j,t),r.addListener(n,"copy",F,t),r.addListener(n,"paste",I,t),(!("oncut"in n)||!("oncopy"in n)||!("onpaste"in n))&&r.addListener(e,"keydown",function(e){if(i.isMac&&!e.metaKey||!e.ctrlKey)return;switch(e.keyCode){case 67:F(e);break;case 86:I(e);break;case 88:j(e)}},t);var q=function(){if(!y||!t.onCompositionUpdate||t.$readOnly)return;if(E)return U();if(y.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;D(e),y.markerRange&&(y.context&&(y.markerRange.start.column=y.selectionStart=y.context.compositionStartOffset),y.markerRange.end.column=y.markerRange.start.column+N-y.selectionStart+C)}},R=function(e){if(!t.onCompositionEnd||t.$readOnly)return;y=!1,t.onCompositionEnd(),t.off("mousedown",U),e&&P()};this.getElement=function(){return n},this.setCommandMode=function(e){E=e,n.readOnly=!1},this.setReadOnly=function(e){E||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){};var z=!1,W=function(e){n.blur(),n.focus(),A(),x=n.value="abcde\n"+e+"\n",n.selectionStart=6,n.selectionEnd=6+e.length,T=6,N=6+e.length,z=!0},X=function(){n.value=x,n.selectionStart=T,n.selectionEnd=N,z=!1};this.onContextMenu=function(e){_=!0,A(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0);if(!d){var n=t.getSelectedText();m&&n.length>1e6&&(n=n.substring(0,999975)+"<Clip limit of 1mb exceeded>"),W(n)}},this.moveToMouse=function(e,o){w||(w=n.style.cssText),n.style.cssText=(o?"z-index:100000;":"")+(i.isIE?"opacity:0.1;":"")+"text-indent: -"+(T+N)*t.renderer.characterWidth*.5+"px;",n.style.fontSize=Math.max(t.renderer.layerConfig.lineHeight*2,40)+"px";var u=t.container.getBoundingClientRect(),a=s.computedStyle(t.container),f=u.top+(parseInt(a.borderTopWidth)||0),l=u.left+(parseInt(u.borderLeftWidth)||0),c=u.bottom-f-n.clientHeight-2,h=function(e){s.translate(n,e.clientX-l-2,Math.min(e.clientY-f-t.renderer.layerConfig.lineHeight,c))};h(e);if(e.type!="mousedown")return;t.renderer.$isMousePressed=!0,clearTimeout(V),i.isWin&&r.capture(t.container,h,$)},this.onContextMenuClose=$;var V,J=function(e){t.textInput.onContextMenu(e),$()};r.addListener(n,"mouseup",J,t),r.addListener(n,"mousedown",function(e){e.preventDefault(),$()},t),r.addListener(t.renderer.scroller,"contextmenu",J,t),r.addListener(n,"contextmenu",J,t),d&&K(e,t,n)};t.TextInput=g,t.$setUserAgentForTests=function(e,t){m=e,d=t}}),ace.define("ace/mouse/default_handlers",[],function(e,t,n){"use strict";function o(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function u(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function a(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row==e.end.row-1&&!e.start.column&&!e.end.column)var n=t.column-4;else var n=2*t.row-e.start.row-e.end.row;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var r=e("../lib/useragent"),i=0,s=550;(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,s=e.getButton();if(s!==0){var o=i.getSelectionRange(),u=o.isEmpty();(u||s==1)&&i.selection.moveToPosition(n),s==2&&(i.textInput.onContextMenu(e.domEvent),r.isMozilla||e.preventDefault());return}this.mousedownEvent.time=Date.now();if(t&&!i.isFocused()){i.focus();if(this.$focusTimeout&&!this.$clickSelection&&!i.inMultiSelectMode){this.setState("focusWait"),this.captureMouse(e);return}}return this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;if(!this.mousedownEvent)return;this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select")},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(r==-1)e=this.$clickSelection.end;else if(r==1)e=this.$clickSelection.start;else{var i=a(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(i.start),o=this.$clickSelection.comparePoint(i.end);if(s==-1&&o<=0){t=this.$clickSelection.end;if(i.end.row!=r.row||i.end.column!=r.column)r=i.start}else if(o==1&&s>=0){t=this.$clickSelection.start;if(i.start.row!=r.row||i.start.column!=r.column)r=i.end}else if(s==-1&&o==1)r=i.end,t=i.start;else{var u=a(this.$clickSelection,r);r=u.cursor,t=u.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>i||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session,i=r.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(e.getAccelKey())return;e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,r=e.domEvent.timeStamp,i=r-n.t,o=i?e.wheelX/i:n.vx,u=i?e.wheelY/i:n.vy;i<s&&(o=(o+n.vx)/2,u=(u+n.vy)/2);var a=Math.abs(o/u),f=!1;a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(f=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(f=!0);if(f)n.allowed=r;else if(r-n.allowed<s){var l=Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(u)<=1.5*Math.abs(n.vy);l?(f=!0,n.allowed=r):n.allowed=0}n.t=r,n.vx=o,n.vy=u;if(f)return t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}).call(o.prototype),t.DefaultHandlers=o}),ace.define("ace/tooltip",[],function(e,t,n){"use strict";function s(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var r=e("./lib/oop"),i=e("./lib/dom");(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){e!=null&&this.setText(e),t!=null&&n!=null&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(s.prototype),t.Tooltip=s}),ace.define("ace/mouse/default_gutter_handler",[],function(e,t,n){"use strict";function u(e){function l(){var r=u.getDocumentPosition().row,s=n.$annotations[r];if(!s)return c();var o=t.session.getLength();if(r==o){var a=t.renderer.pixelToScreenCoordinates(0,u.y).row,l=u.$pos;if(a>t.session.documentToScreenRow(l.row,l.column))return c()}if(f==s)return;f="<span class='"+s.className+"'>"+s.text.join("<br/>")+"</span>",i.setHtml(f),i.show(),t._signal("showGutterTooltip",i),t.on("mousewheel",c);if(e.$tooltipFollowsMouse)h(u);else{var p=u.domEvent.target,d=p.getBoundingClientRect(),v=i.getElement().style;v.left=d.right+"px",v.top=d.bottom+"px"}}function c(){o&&(o=clearTimeout(o)),f&&(i.hide(),f=null,t._signal("hideGutterTooltip",i),t.off("mousewheel",c))}function h(e){i.setPosition(e.x,e.y)}var t=e.editor,n=t.renderer.$gutterLayer,i=new a(t.container);e.editor.setDefaultHandler("guttermousedown",function(r){if(!t.isFocused()||r.getButton()!=0)return;var i=n.getRegion(r);if(i=="foldWidgets")return;var s=r.getDocumentPosition().row,o=t.session.selection;if(r.getShiftKey())o.selectTo(s,0);else{if(r.domEvent.detail==2)return t.selectAll(),r.preventDefault();e.$clickSelection=t.selection.getLineRange(s)}return e.setState("selectByLines"),e.captureMouse(r),r.preventDefault()});var o,u,f;e.editor.setDefaultHandler("guttermousemove",function(t){var n=t.domEvent.target||t.domEvent.srcElement;if(r.hasCssClass(n,"ace_fold-widget"))return c();f&&e.$tooltipFollowsMouse&&h(t),u=t;if(o)return;o=setTimeout(function(){o=null,u&&!e.isMousePressed?l():c()},50)}),s.addListener(t.renderer.$gutter,"mouseout",function(e){u=null;if(!f||o)return;o=setTimeout(function(){o=null,c()},50)},t),t.on("changeSession",c)}function a(e){o.call(this,e)}var r=e("../lib/dom"),i=e("../lib/oop"),s=e("../lib/event"),o=e("../tooltip").Tooltip;i.inherits(a,o),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),s=this.getHeight();e+=15,t+=15,e+i>n-50&&(e-=e+i-n),t+s>r-50&&(t-=20+s),o.prototype.setPosition.call(this,e,t)}}.call(a.prototype),t.GutterHandler=u}),ace.define("ace/mouse/mouse_event",[],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),s=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(s.prototype)}),ace.define("ace/mouse/dragdrop_handler",[],function(e,t,n){"use strict";function f(e){function T(e,n){var r=Date.now(),i=!n||e.row!=n.row,s=!n||e.column!=n.column;if(!S||i||s)t.moveCursorToPosition(e),S=r,x={x:p,y:d};else{var o=l(x.x,x.y,p,d);o>a?S=null:r-S>=u&&(t.renderer.scrollCursorIntoView(),S=null)}}function N(e,n){var r=Date.now(),i=t.renderer.layerConfig.lineHeight,s=t.renderer.layerConfig.characterWidth,u=t.renderer.scroller.getBoundingClientRect(),a={x:{left:p-u.left,right:u.right-p},y:{top:d-u.top,bottom:u.bottom-d}},f=Math.min(a.x.left,a.x.right),l=Math.min(a.y.top,a.y.bottom),c={row:e.row,column:e.column};f/s<=2&&(c.column+=a.x.left<a.x.right?-3:2),l/i<=1&&(c.row+=a.y.top<a.y.bottom?-1:1);var h=e.row!=c.row,v=e.column!=c.column,m=!n||e.row!=n.row;h||v&&!m?E?r-E>=o&&t.renderer.scrollCursorIntoView(c):E=r:E=null}function C(){var e=g;g=t.renderer.screenToTextCoordinates(p,d),T(g,e),N(g,e)}function k(){m=t.selection.toOrientedRange(),h=t.session.addMarker(m,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(v),C(),v=setInterval(C,20),y=0,i.addListener(document,"mousemove",O)}function L(){clearInterval(v),t.session.removeMarker(h),h=null,t.selection.fromOrientedRange(m),t.isFocused()&&!w&&t.$resetCursorStyle(),m=null,g=null,y=0,E=null,S=null,i.removeListener(document,"mousemove",O)}function O(){A==null&&(A=setTimeout(function(){A!=null&&h&&L()},20))}function M(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return e=="text/plain"||e=="Text"})}function _(e){var t=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],r=s.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var o="none";return r&&t.indexOf(i)>=0?o="copy":n.indexOf(i)>=0?o="move":t.indexOf(i)>=0&&(o="copy"),o}var t=e.editor,n=r.createElement("img");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",s.isOpera&&(n.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var f=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];f.forEach(function(t){e[t]=this[t]},this),t.on("mousedown",this.onMouseDown.bind(e));var c=t.container,h,p,d,v,m,g,y=0,b,w,E,S,x;this.onDragStart=function(e){if(this.cancelDrag||!c.draggable){var r=this;return setTimeout(function(){r.startSelect(),r.captureMouse(e)},0),e.preventDefault()}m=t.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=t.getReadOnly()?"copy":"copyMove",s.isOpera&&(t.container.appendChild(n),n.scrollTop=0),i.setDragImage&&i.setDragImage(n,0,0),s.isOpera&&t.container.removeChild(n),i.clearData(),i.setData("Text",t.session.getTextRange()),w=!0,this.setState("drag")},this.onDragEnd=function(e){c.draggable=!1,w=!1,this.setState(null);if(!t.getReadOnly()){var n=e.dataTransfer.dropEffect;!b&&n=="move"&&t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(t.getReadOnly()||!M(e.dataTransfer))return;return p=e.clientX,d=e.clientY,h||k(),y++,e.dataTransfer.dropEffect=b=_(e),i.preventDefault(e)},this.onDragOver=function(e){if(t.getReadOnly()||!M(e.dataTransfer))return;return p=e.clientX,d=e.clientY,h||(k(),y++),A!==null&&(A=null),e.dataTransfer.dropEffect=b=_(e),i.preventDefault(e)},this.onDragLeave=function(e){y--;if(y<=0&&h)return L(),b=null,i.preventDefault(e)},this.onDrop=function(e){if(!g)return;var n=e.dataTransfer;if(w)switch(b){case"move":m.contains(g.row,g.column)?m={start:g,end:g}:m=t.moveText(m,g);break;case"copy":m=t.moveText(m,g,!0)}else{var r=n.getData("Text");m={start:g,end:t.session.insert(g,r)},t.focus(),b=null}return L(),i.preventDefault(e)},i.addListener(c,"dragstart",this.onDragStart.bind(e),t),i.addListener(c,"dragend",this.onDragEnd.bind(e),t),i.addListener(c,"dragenter",this.onDragEnter.bind(e),t),i.addListener(c,"dragover",this.onDragOver.bind(e),t),i.addListener(c,"dragleave",this.onDragLeave.bind(e),t),i.addListener(c,"drop",this.onDrop.bind(e),t);var A=null}function l(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}var r=e("../lib/dom"),i=e("../lib/event"),s=e("../lib/useragent"),o=200,u=200,a=5;(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var n=s.isWin?"default":"move";e.renderer.setCursorStyle(n),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;if(s.isIE&&this.state=="dragReady"){var n=l(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&t.dragDrop()}if(this.state==="dragWait"){var n=l(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(!this.$dragEnabled)return;this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton(),i=e.domEvent.detail||1;if(i===1&&r===0&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;"unselectable"in o&&(o.unselectable="on");if(t.getDragDelay()){if(s.isWebKit){this.cancelDrag=!0;var u=t.container;u.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}).call(f.prototype),t.DragdropHandler=f}),ace.define("ace/mouse/touch_handler",[],function(e,t,n){"use strict";var r=e("./mouse_event").MouseEvent,i=e("../lib/dom");t.addTouchListeners=function(e,t){function w(){f=null,clearTimeout(f);var e=t.selection.getRange(),r=e.contains(h.row,h.column),i,s=h.column==t.session.getDocumentLastRowColumn(h.row,h.column)||!(i=t.session.getTokenAt(h.row,h.column))||i.value[0]==" "||i.value[0]=="	";(e.isEmpty()||!r)&&!s&&(t.selection.moveToPosition(h),t.selection.selectWord()),n="wait"}function E(e){n="wait",f=null,clearTimeout(f);if(p>2)t.selectAll(),p=2;else{if(p==1){t._signal("dblclick",e);if(e.defaultPrevented)return}t.selection.moveToPosition(h);var r=p==2?t.selection.getLineRange(h.row):t.session.getBracketRange(h);r&&!r.isEmpty()?t.selection.setRange(r):t.selection.selectWord()}}function N(){function s(){var e,n=t.getSelection().getCursor();if(t.selection.isEmpty())A.style.visibility="hidden",k.style.visibility="hidden",e=C(n),L.style.visibility="visible",L.style.left=1+e.left-L.clientWidth/2+"px",L.style.top=e.top+t.renderer.layerConfig.lineHeight+"px";else{L.style.visibility="hidden",A.style.visibility="visible",k.style.visibility="visible";var r=t.selection.getRange();e=C(r.start),k.style.left=e.left-k.clientWidth+"px",k.style.top=e.top+t.renderer.layerConfig.lineHeight+"px",e=C(r.end),A.style.left=e.left+"px",A.style.top=e.top+t.renderer.layerConfig.lineHeight+"px"}}L=i.createElement("div"),L.className="ace_cursor_handle-center",k=i.createElement("div"),k.className="ace_cursor_handle-left",A=i.createElement("div"),A.className="ace_cursor_handle-right",A.style.visibility="hidden",k.style.visibility="hidden",L.style.visibility="hidden";var e=function(e){e.addEventListener("mousedown",function(e){e.preventDefault()},{passive:!1})};t.renderer.container.appendChild(k),t.renderer.container.appendChild(A),t.renderer.container.appendChild(L),e(L),e(k),e(A);var n=function(){s(),t.once("input",r),t.renderer.on("afterRender",s)},r=function(){A.style.visibility="hidden",k.style.visibility="hidden",L.style.visibility="hidden",t.once("mousedown",n),t.renderer.off("afterRender",s)};r(),n()}function C(e){var n=t.renderer.getCursorPixelPosition(e,!0);return n.left+=t.renderer.gutterWidth-t.session.getScrollLeft()+t.renderer.margin.left,n.top-=t.renderer.layerConfig.offset,n}function O(){function n(){var n=S.clientHeight-t.renderer.scroller.clientHeight+t.renderer.scrollMargin.v+t.renderer.layerConfig.maxHeight+"px",r=S.clientWidth-t.renderer.$size.scrollerWidth+t.renderer.scrollBarH.scrollWidth+"px";n!=e.style.height&&(e.style.height=n),r!=e.style.width&&(e.style.width=r),t.session.getScrollTop()!=S.scrollTop-t.renderer.scrollMargin.top&&(S.scrollTop=t.session.getScrollTop()+t.renderer.scrollMargin.top),t.session.getScrollLeft()!=S.scrollLeft-t.renderer.scrollMargin.left&&(S.scrollLeft=t.session.getScrollLeft()+t.renderer.scrollMargin.left)}var e=i.createElement("div");e.style.height="2px",e.style.width="2px",S=i.createElement("div"),S.className="touch_scroller",S.style.overflow="scroll",S.style.position="absolute",S.style.touchAction="pan-x pan-y",S.style.zIndex=1,S.style.top=S.style.bottom=S.style.left=S.style.right="-50px",t.renderer.scroller.appendChild(S),e.style.visibility="hidden",S.appendChild(e),S.addEventListener("scroll",function(e){t.session.getScrollTop()!=S.scrollTop-t.renderer.scrollMargin.top&&t.session.setScrollTop(this.scrollTop-t.renderer.scrollMargin.top),t.session.getScrollLeft()!=S.scrollLeft-t.renderer.scrollMargin.left&&t.session.setScrollLeft(this.scrollLeft-t.renderer.scrollMargin.left)}),S.addEventListener("touchstart",function(e){x=!0}),S.addEventListener("dblclick",function(e){if(T)clearTimeout(T);else{this.style.visibility="hidden";var t=document.elementFromPoint(e.clientX,e.clientY);t.click()}T=setTimeout(function(){S.style.visibility="visible",T=null},5e3)}),t.renderer.on("afterRender",n),n()}function M(n){n&&e.removeEventListener("touchend",M);if(c>0){setTimeout(M,c*17);return}!S&&t.$useTouchScroller!==!1&&(t.$useTouchScroller=!0,setTimeout(O,0)),!k&&!t.$disableTouchHandles&&setTimeout(N,0)}function H(e){var n=e[0].clientX-e[1].clientX,r=e[0].clientY-e[1].clientY;b=-1;var i=t.renderer;D=-n*.5+e[0].clientX,P=-r*.5+e[0].clientY,_=t.renderer.screenToTextCoordinates(D,P)}function j(){var e=t.renderer;e.$computeLayerConfig();var n=t.renderer.textToScreenCoordinates(_.row,_.column),r=n.pageX-D,i=n.pageY-P;e.scrollBy(r,i)}function F(e){e=Math.min(2,Math.max(.5,e));var n=t.getFontSize(),r=n*e;if(Math.abs(n-r)<1)return;b=y,t.setFontSize(r),B||(B=!0,t.renderer.on("beforeRender",j))}function I(e){function u(){var n=(new Date).getTime(),i=Math.min(50,n-r);if((c-=i/17)<=0){l=null,c=0,e&&e();return}Math.abs(d)<.01&&(d=0),Math.abs(v)<.01&&(v=0);var a=t.session.getScrollLeft(),f=t.session.getScrollTop();t.renderer.scrollBy(i*d,i*v),a==t.session.getScrollLeft()&&f==t.session.getScrollTop()&&(c=0);var h=1;c<s?h=.96:c<o?h=.98:h=.99+(c-o)*.001;var p=Math.pow(h,i/17);d*=p,v*=p,l=setTimeout(u,Math.max(0,34-i)),r=n}var n=Math.sqrt(d*d+v*v),r=(new Date).getTime(),i=1/Math.max(Math.abs(d),Math.abs(v));d*=i*Math.abs(d),v*=i*Math.abs(v),c=Math.min(c+n*25,90);var s=c>100?c*.1:0,o=c*.5;l&&clearTimeout(l),l=setTimeout(u,10)}var n="scroll",s,o,u,a,f,l,c=0,h,p=0,d=0,v=0,m,g,y,b;e.addEventListener("contextmenu",function(e){if(!m)return e.preventDefault();t.textInput.getElement().focus()});var S,x,T,k,L,A;e.addEventListener("touchstart",function(e){var i=e.touches;f&&(clearTimeout(f),f=null,u=-1);if(i.length>1){n="zoom",H(i);return}B&&(t.renderer.off("beforeRender",j),B=!1),m=t.$mouseHandler.isMousePressed=!0;var g=t.renderer.layerConfig.lineHeight,y=e.timeStamp;a=y;var b=i[0],S=b.clientX,x=b.clientY;Math.abs(s-S)+Math.abs(o-x)>g&&(u=-1),s=e.clientX=S,o=e.clientY=x,l&&(clearTimeout(l),l=null),d=v=0;var T=new r(e,t);h=T.getDocumentPosition();if(y-u<p*100+500&&i.length==1&&!c)p++,e.preventDefault(),e.button=0,E(T);else if(c>0)p=0,n="scroll";else{f=setTimeout(w,450),p=0;if(k)e.target==k?n=t.selection.isBackwards()?"cursor":"anchor":e.target==A?n=t.selection.isBackwards()?"anchor":"cursor":e.target==L?n="cursor":n="scroll";else{var N=t.selection.cursor,O=t.selection.isEmpty()?N:t.selection.anchor,M=t.renderer.layerConfig.lineHeight,_=C(N),D=C(O),P=t.container.getBoundingClientRect(),F=function(e,t){return e=e/M-.5,t=t/g-.75,e*e+t*t},I=F(e.clientX-P.left-_.left,e.clientY-P.top-_.top),q=F(e.clientX-P.left-D.left,e.clientY-P.top-D.top);I<3.5&&q<3.5?n=I>q?"cursor":"anchor":q<3.5?n="anchor":I<3.5?n="cursor":n="scroll"}}u=y}),e.addEventListener("touchend",function(e){m=t.$mouseHandler.isMousePressed=!1;if(n=="scroll")if(!x){var r;S&&(r=function(){S.style.visibility=""}),I(r)}else x=!1;else x=!1,c=0,n=="zoom"?(n="",b=y=-1,B&&(t.renderer.off("beforeRender",j),B=!1)):f&&t.selection.moveToPosition(h);f&&(clearTimeout(f),f=null)}),e.addEventListener("touchmove",function(e){f&&(clearTimeout(f),f=null);var i=e.touches;if(i.length>1&&n=="zoom"){var u=i[0].clientX-i[1].clientX,l=i[0].clientY-i[1].clientY;y=u*u+l*l,b<0&&(b=y);var c=y/b;F(Math.sqrt(c))}var h=i[0],p=s-h.clientX,m=o-h.clientY;if(n=="wait"){if(!(p*p+m*m>4))return e.preventDefault();n="cursor"}s=h.clientX,o=h.clientY,e.clientX=h.clientX,e.clientY=h.clientY;var g=e.timeStamp,w=g-a;a=g;if(n=="scroll"){if(x)return;S&&T&&(clearTimeout(T),T=null);var E=new r(e,t);E.speed=1,3*Math.abs(p)<Math.abs(m)&&(p=0),3*Math.abs(m)<Math.abs(p)&&(m=0),w!==0&&(d=p/w,v=m/w),E.wheelX=p,E.wheelY=m,t._emit("mousewheel",E),E.propagationStopped||(d=v=0)}else{var N=new r(e,t);if(n=="cursor"||n=="anchor"){N.clientY=N.clientY-50;var C=N.getDocumentPosition();n=="cursor"?t.selection.moveCursorToPosition(C):t.selection.setSelectionAnchor(C.row,C.column),t.renderer.scrollSelectionIntoView({row:C.row,column:C.column-1},{row:C.row,column:C.column+2})}e.preventDefault()}}),e.addEventListener("touchend",M);var _,D=.5,P=.5,B=!1}}),ace.define("ace/lib/net",[],function(e,t,n){"use strict";var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){n.readyState===4&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),i=document.createElement("script");i.src=e,n.appendChild(i),i.onload=i.onreadystatechange=function(e,n){if(n||!i.readyState||i.readyState=="loaded"||i.readyState=="complete")i=i.onload=i.onreadystatechange=null,n||t()}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",[],function(e,t,n){"use strict";var r={},i=function(){this.propagationStopped=!0},s=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(!n.length&&!r)return;if(typeof t!="object"||!t)t={};t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=s),n=n.slice();for(var o=0;o<n.length;o++){n[o](t,this);if(t.propagationStopped)break}if(r&&!t.defaultPrevented)return r(t,this)},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(!n)return;n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)},r.once=function(e,t){var n=this;this.on(e,function r(){n.off(e,r),t.apply(null,arguments)});if(!t)return new Promise(function(e){t=e})},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;n||(n=this._defaultHandlers={_disabled_:{}});if(n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var s=i.indexOf(t);s!=-1&&i.splice(s,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(!n)return;var r=n._disabled_[e];if(n[e]==t)r&&this.setDefaultHandler(e,r.pop());else if(r){var i=r.indexOf(t);i!=-1&&r.splice(i,1)}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),r.indexOf(t)==-1&&r[n?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(!n)return;var r=n.indexOf(t);r!==-1&&n.splice(r,1)},r.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=undefined),this._eventRegistry&&(this._eventRegistry[e]=undefined),this._defaultHandlers&&(this._defaultHandlers[e]=undefined)},t.EventEmitter=r}),ace.define("ace/lib/app_config",[],function(e,t,n){"no use strict";function o(e){typeof console!="undefined"&&console.warn&&console.warn.apply(console,arguments)}function u(e,t){var n=new Error(e);n.data=t,typeof console=="object"&&console.error&&console.error(n),setTimeout(function(){throw n})}var r=e("./oop"),i=e("./event_emitter").EventEmitter,s={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};if(!e){var n=this.$options;e=Object.keys(n).filter(function(e){return!n[e].hidden})}else Array.isArray(e)||(t=e,e=Object.keys(t));return e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]===t)return;var n=this.$options[e];if(!n)return o('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:o('misspelled option "'+e+'"')}},a=function(){this.$defaultOptions={}};(function(){r.implement(this,i),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var r=n[t];typeof r=="string"&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)}),r.implement(e,s),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=o,this.reportError=u}).call(a.prototype),t.AppConfig=a}),ace.define("ace/config",[],function(e,t,n){"no use strict";function l(r){if(!u||!u.document)return;a.packaged=r||e.packaged||n.packaged||u.define&&define.packaged;var i={},s="",o=document.currentScript||document._currentScript,f=o&&o.ownerDocument||document,l=f.getElementsByTagName("script");for(var h=0;h<l.length;h++){var p=l[h],d=p.src||p.getAttribute("src");if(!d)continue;var v=p.attributes;for(var m=0,g=v.length;m<g;m++){var y=v[m];y.name.indexOf("data-ace-")===0&&(i[c(y.name.replace(/^data-ace-/,""))]=y.value)}var b=d.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(s=b[1])}s&&(i.base=i.base||s,i.packaged=!0),i.basePath=i.base,i.workerPath=i.workerPath||i.base,i.modePath=i.modePath||i.base,i.themePath=i.themePath||i.base,delete i.base;for(var w in i)typeof i[w]!="undefined"&&t.set(w,i[w])}function c(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var r=e("./lib/lang"),i=e("./lib/oop"),s=e("./lib/net"),o=e("./lib/app_config").AppConfig;n.exports=t=new o;var u=function(){return this||typeof window!="undefined"&&window}(),a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!1,sharedPopups:!1};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},t.set=function(e,t){if(a.hasOwnProperty(e))a[e]=t;else if(this.setDefaultValue("",e,t)==0)throw new Error("Unknown config key: "+e)},t.all=function(){return r.copyObject(a)},t.$modes={},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var r=t=="snippets"?"/":"-",i=n[n.length-1];if(t=="worker"&&r=="-"){var s=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(s,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var o=a[t+"Path"];return o==null?o=a.basePath:r=="/"&&(t=r=""),o&&o.slice(-1)!="/"&&(o+="/"),o+t+r+i+this.get("suffix")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var i,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{i=e(n)}catch(u){}if(i&&!t.$loading[n])return r&&r(i);t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r);if(t.$loading[n].length>1)return;var a=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach(function(t){t&&t(e)})})};if(!t.get("packaged"))return a();s.loadScript(t.moduleUrl(n,o),a),f()};var f=function(){!a.basePath&&!a.workerPath&&!a.modePath&&!a.themePath&&!Object.keys(a.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),f=function(){})};t.init=l,t.version="1.4.12"}),ace.define("ace/mouse/mouse_handler",[],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),s=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,u=e("./mouse_event").MouseEvent,a=e("./dragdrop_handler").DragdropHandler,f=e("./touch_handler").addTouchListeners,l=e("../config"),c=function(e){var t=this;this.editor=e,new s(this),new o(this),new a(this);var n=function(t){var n=!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement());n&&window.focus(),e.focus()},u=e.renderer.getMouseEventTarget();r.addListener(u,"click",this.onMouseEvent.bind(this,"click"),e),r.addListener(u,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),r.addMultiMouseDownListener([u,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),f(e.container,e);var l=e.renderer.$gutter;r.addListener(l,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),r.addListener(l,"click",this.onMouseEvent.bind(this,"gutterclick"),e),r.addListener(l,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),r.addListener(l,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),r.addListener(u,"mousedown",n,e),r.addListener(l,"mousedown",n,e),i.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),r.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",function(n){if(t.state||t.$dragDelay||!t.$dragEnabled)return;var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),s=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?s.setCursorStyle("default"):s.setCursorStyle("")},e)};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new u(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;if(!n||!n.length)return;this.editor._emit(e,new u(t,this.editor))},this.onMouseWheel=function(e,t){var n=new u(t,this.editor);n.speed=this.$scrollSpeed*2,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,s=this.editor.renderer;s.$isMousePressed=!0;var o=this,a=function(e){if(!e)return;if(i.isWebKit&&!e.which&&o.releaseMouse)return o.releaseMouse();o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new u(e,o.editor),o.$mouseMoved=!0},f=function(e){n.off("beforeEndOperation",c),clearInterval(h),l(),o[o.state+"End"]&&o[o.state+"End"](e),o.state="",o.isMousePressed=s.$isMousePressed=!1,s.$keepTextAreaAtCursor&&s.$moveTextAreaToCursor(),o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent("mouseup",e),n.endOperation()},l=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(i.isOldIE&&e.domEvent.type=="dblclick")return setTimeout(function(){f(e)});var c=function(e){if(!o.releaseMouse)return;n.curOp.command.name&&n.curOp.selectionChanged&&(o[o.state+"End"]&&o[o.state+"End"](),o.state="",o.releaseMouse())};n.on("beforeEndOperation",c),n.startOperation({command:{name:"mouse"}}),o.$onCaptureMouseMove=a,o.releaseMouse=r.capture(this.editor.container,a,f);var h=setInterval(l,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){if(t&&t.domEvent&&t.domEvent.type!="contextmenu")return;this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent)}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(c.prototype),l.defineOptions(c.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=c}),ace.define("ace/mouse/fold_handler",[],function(e,t,n){"use strict";function i(e){e.on("click",function(t){var n=t.getDocumentPosition(),i=e.session,s=i.getFoldAt(n.row,n.column,1);s&&(t.getAccelKey()?i.removeFold(s):i.expandFold(s),t.stop());var o=t.domEvent&&t.domEvent.target;o&&r.hasCssClass(o,"ace_inline_button")&&r.hasCssClass(o,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),e.renderer.scrollCursorIntoView())}),e.on("gutterclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if(n=="foldWidgets"){var r=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[r]&&e.session.onFoldWidgetClick(r,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if(n=="foldWidgets"){var r=t.getDocumentPosition().row,i=e.session,s=i.getParentFoldRangeData(r,!0),o=s.range||s.firstRange;if(o){r=o.start.row;var u=i.getFoldAt(r,i.getLine(r).length,1);u?i.removeFold(u):(i.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}})}var r=e("../lib/dom");t.FoldHandler=i}),ace.define("ace/keyboard/keybinding",[],function(e,t,n){"use strict";var r=e("../lib/keys"),i=e("../lib/event"),s=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]==e)return;while(t[t.length-1]&&t[t.length-1]!=this.$defaultHandler)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)},this.addKeyboardHandler=function(e,t){if(!e)return;typeof e=="function"&&!e.handleKeyboard&&(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);n!=-1&&this.$handlers.splice(n,1),t==undefined?this.$handlers.push(e):this.$handlers.splice(t,0,e),n==-1&&e.attach&&e.attach(this.$editor)},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return t==-1?!1:(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){var s,o=!1,u=this.$editor.commands;for(var a=this.$handlers.length;a--;){s=this.$handlers[a].handleKeyboard(this.$data,e,t,n,r);if(!s||!s.command)continue;s.command=="null"?o=!0:o=u.exec(s.command,this.$editor,s.args,r),o&&r&&e!=-1&&s.passEvent!=1&&s.command.passEvent!=1&&i.stopEvent(r);if(o)break}return!o&&e==-1&&(s={command:"insertstring"},o=u.exec("insertstring",this.$editor,t)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",s),o},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);return this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(s.prototype),t.KeyBinding=s}),ace.define("ace/lib/bidiutil",[],function(e,t,n){"use strict";function F(e,t,n,r){var i=s?d:p,c=null,h=null,v=null,m=0,g=null,y=null,b=-1,w=null,E=null,T=[];if(!r)for(w=0,r=[];w<n;w++)r[w]=R(e[w]);o=s,u=!1,a=!1,f=!1,l=!1;for(E=0;E<n;E++){c=m,T[E]=h=q(e,r,T,E),m=i[c][h],g=m&240,m&=15,t[E]=v=i[m][5];if(g>0)if(g==16){for(w=b;w<E;w++)t[w]=1;b=-1}else b=-1;y=i[m][6];if(y)b==-1&&(b=E);else if(b>-1){for(w=b;w<E;w++)t[w]=v;b=-1}r[E]==S&&(t[E]=0),o|=v}if(l)for(w=0;w<n;w++)if(r[w]==x){t[w]=s;for(var C=w-1;C>=0;C--){if(r[C]!=N)break;t[C]=s}}}function I(e,t,n){if(o<e)return;if(e==1&&s==m&&!f){n.reverse();return}var r=n.length,i=0,u,a,l,c;while(i<r){if(t[i]>=e){u=i+1;while(u<r&&t[u]>=e)u++;for(a=i,l=u-1;a<l;a++,l--)c=n[a],n[a]=n[l],n[l]=c;i=u}i++}}function q(e,t,n,r){var i=t[r],o,c,h,p;switch(i){case g:case y:u=!1;case E:case w:return i;case b:return u?w:b;case T:return u=!0,a=!0,y;case N:return E;case C:if(r<1||r+1>=t.length||(o=n[r-1])!=b&&o!=w||(c=t[r+1])!=b&&c!=w)return E;return u&&(c=w),c==o?c:E;case k:o=r>0?n[r-1]:S;if(o==b&&r+1<t.length&&t[r+1]==b)return b;return E;case L:if(r>0&&n[r-1]==b)return b;if(u)return E;p=r+1,h=t.length;while(p<h&&t[p]==L)p++;if(p<h&&t[p]==b)return b;return E;case A:h=t.length,p=r+1;while(p<h&&t[p]==A)p++;if(p<h){var d=e[r],v=d>=1425&&d<=2303||d==64286;o=t[p];if(v&&(o==y||o==T))return y}if(r<1||(o=t[r-1])==S)return E;return n[r-1];case S:return u=!1,f=!0,s;case x:return l=!0,E;case O:case M:case D:case P:case _:u=!1;case H:return E}}function R(e){var t=e.charCodeAt(0),n=t>>8;return n==0?t>191?g:B[t]:n==5?/[\u0591-\u05f4]/.test(e)?y:g:n==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?A:/[\u0660-\u0669\u066b-\u066c]/.test(e)?w:t==1642?L:/[\u06f0-\u06f9]/.test(e)?b:T:n==32&&t<=8287?j[t&255]:n==254?t>=65136?T:E:E}function U(e){return e>="\u064b"&&e<="\u0655"}var r=["\u0621","\u0641"],i=["\u063a","\u064a"],s=0,o=0,u=!1,a=!1,f=!1,l=!1,c=!1,h=!1,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v=0,m=1,g=0,y=1,b=2,w=3,E=4,S=5,x=6,T=7,N=8,C=9,k=10,L=11,A=12,O=13,M=14,_=15,D=16,P=17,H=18,B=[H,H,H,H,H,H,H,H,H,x,S,x,N,S,H,H,H,H,H,H,H,H,H,H,H,H,H,H,S,S,S,x,N,E,E,L,L,L,E,E,E,E,E,k,C,k,C,C,b,b,b,b,b,b,b,b,b,b,C,E,E,E,E,E,E,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,E,E,E,E,E,E,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,E,E,E,E,H,H,H,H,H,H,S,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,C,E,L,L,L,L,E,E,E,E,g,E,E,H,E,E,L,L,b,b,E,g,E,E,E,b,g,E,E,E,E,E],j=[N,N,N,N,N,N,N,N,N,N,N,H,H,H,g,y,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,N,S,O,M,_,D,P,C,L,L,L,L,L,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,C,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,N];t.L=g,t.R=y,t.EN=b,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="\u00b7",t.doBidiReorder=function(e,n,r){if(e.length<2)return{};var i=e.split(""),o=new Array(i.length),u=new Array(i.length),a=[];s=r?m:v,F(i,a,i.length,n);for(var f=0;f<o.length;o[f]=f,f++);I(2,a,o),I(1,a,o);for(var f=0;f<o.length-1;f++)n[f]===w?a[f]=t.AN:a[f]===y&&(n[f]>T&&n[f]<O||n[f]===E||n[f]===H)?a[f]=t.ON_R:f>0&&i[f-1]==="\u0644"&&/\u0622|\u0623|\u0625|\u0627/.test(i[f])&&(a[f-1]=a[f]=t.R_H,f++);i[i.length-1]===t.DOT&&(a[i.length-1]=t.B),i[0]==="\u202b"&&(a[0]=t.RLE);for(var f=0;f<o.length;f++)u[f]=a[o[f]];return{logicalFromVisual:o,bidiLevels:u}},t.hasBidiCharacters=function(e,t){var n=!1;for(var r=0;r<e.length;r++)t[r]=R(e.charAt(r)),!n&&(t[r]==y||t[r]==T||t[r]==w)&&(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}}),ace.define("ace/bidihandler",[],function(e,t,n){"use strict";var r=e("./lib/bidiutil"),i=e("./lib/lang"),s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=r,this.charWidths=[],this.EOL="\u00ac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\u00b6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=s.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return this.seenBidi?(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},this.onChange=function(e){this.seenBidi?this.currentRow=null:e.action=="insert"&&s.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n,r=this.session.$getRowCacheIndex(t,this.currentRow);while(this.currentRow-e>0){n=this.session.$getRowCacheIndex(t,this.currentRow-e-1);if(n!==r)break;r=n,e++}}else e=this.currentRow;return e},this.updateRowLine=function(e,t){e===undefined&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1,s=n?this.EOF:this.EOL;this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE;if(this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(t===undefined&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[r.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t])),t==o.length&&(this.line+=this.showInvisibles?s:r.DOT)}else this.line+=this.showInvisibles?s:r.DOT;var u=this.session,a=0,f;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(e,t){return e==="	"||u.isFullWidth(e.charCodeAt(0))?(f=e==="	"?u.getScreenTabSize(t+a):2,a+=f-1,i.stringRepeat(r.DOT,f)):e}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==r.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];r.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=r.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth===e.$characterSize.width)return;this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("\u05d4");this.charWidths[r.L]=this.charWidths[r.EN]=this.charWidths[r.ON_R]=t,this.charWidths[r.R]=this.charWidths[r.AN]=n,this.charWidths[r.R_H]=n*.45,this.charWidths[r.B]=this.charWidths[r.RLE]=0,this.currentRow=null},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return this.$isRtl?!0:e!=undefined?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir},this.setRtlDirection=function(e,t){var n=e.getCursorPosition();for(var r=e.selection.getSelectionAnchor().row;r<=n.row;r++)!t&&e.session.getLine(r).charAt(0)===e.session.$bidiHandler.RLE?e.session.doc.removeInLine(r,0,1):t&&e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:r},e.session.$bidiHandler.RLE)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,i=r.getVisualFromLogicalIdx(n,this.bidiMap),s=this.bidiMap.bidiLevels,o=0;!this.session.getOverwrite()&&e<=t&&s[i]%2!==0&&i++;for(var u=0;u<i;u++)o+=this.charWidths[s[u]];return!this.session.getOverwrite()&&e>t&&s[i]%2===0&&(o+=this.charWidths[s[i]]),this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(o+=this.rtlLineOffset),o},this.getSelections=function(e,t){var n=this.bidiMap,r=n.bidiLevels,i,s=[],o=0,u=Math.min(e,t)-this.wrapIndent,a=Math.max(e,t)-this.wrapIndent,f=!1,l=!1,c=0;this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var h,p=0;p<r.length;p++)h=n.logicalFromVisual[p],i=r[p],f=h>=u&&h<a,f&&!l?c=o:!f&&l&&s.push({left:c,width:o-c}),o+=this.charWidths[i],l=f;f&&p===r.length&&s.push({left:c,width:o-c});if(this.isRtlDir)for(var d=0;d<s.length;d++)s[d].left+=this.rtlLineOffset;return s},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,e=Math.max(e,0),n=0,r=0,i=this.bidiMap.bidiLevels,s=this.charWidths[i[r]];this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);while(e>n+s/2){n+=s;if(r===i.length-1){s=0;break}s=this.charWidths[i[++r]]}return r>0&&i[r-1]%2!==0&&i[r]%2===0?(e<n&&r--,t=this.bidiMap.logicalFromVisual[r]):r>0&&i[r-1]%2===0&&i[r]%2!==0?t=1+(e>n?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===i.length-1&&s===0&&i[r-1]%2===0||!this.isRtlDir&&r===0&&i[r]%2!==0?t=1+this.bidiMap.logicalFromVisual[r]:(r>0&&i[r-1]%2!==0&&s!==0&&r--,t=this.bidiMap.logicalFromVisual[r]),t===0&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(o.prototype),t.BidiHandler=o}),ace.define("ace/selection",[],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),s=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,u=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),!t.$isEmpty&&!t.$silent&&t._emit("changeSelection"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)}),this.anchor.on("change",function(){t.$anchorChanged=!0,!t.$isEmpty&&!t.$silent&&t._emit("changeSelection")})};(function(){r.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,r=t?e.start:e.end;this.$setSelection(n.row,n.column,r.row,r.column)},this.$setSelection=function(e,t,n,r){if(this.$silent)return;var i=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,r),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||i!=this.$isEmpty||s)&&this._emit("changeSelection")},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(typeof t=="undefined"){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n=typeof e=="number"?e:this.lead.row,r,i=this.session.getFoldLine(n);return i?(n=i.start.row,r=i.end.row):r=n,t===!0?new o(n,0,r,this.session.getLine(r).length):new o(n,0,r+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var r=e.column,i=e.column+t;return n<0&&(r=e.column-t,i=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(r,i).split(" ").length-1==t},this.moveCursorLeft=function(){var e=this.lead.getPosition(),t;if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(e.column===0)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(e,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e=this.lead.getPosition(),t;if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),e=this.lead;this.wouldMoveIntoSoftTab(e,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column),s=i.match(/^\s*/);s[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(r.column+=s[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(e,t,1);if(i){this.moveCursorTo(i.end.row,i.end.column);return}this.session.nonTokenRe.exec(r)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t));if(t>=n.length){this.moveCursorTo(e,n.length),this.moveCursorRight(),e<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(r)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)},this.moveCursorLongWordLeft=function(){var e=this.lead.row,t=this.lead.column,n;if(n=this.session.getFoldAt(e,t,-1)){this.moveCursorTo(n.start.row,n.start.column);return}var r=this.session.getFoldStringAt(e,t,-1);r==null&&(r=this.doc.getLine(e).substring(0,t));var s=i.stringReverse(r);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(s)&&(t-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0);if(t<=0){this.moveCursorTo(e,0),this.moveCursorLeft(),e>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(s)&&(t-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)},this.$shortWordEndIndex=function(e){var t=0,n,r=/\s/,i=this.session.tokenRe;i.lastIndex=0;if(this.session.tokenRe.exec(e))t=this.session.tokenRe.lastIndex;else{while((n=e[t])&&r.test(n))t++;if(t<1){i.lastIndex=0;while((n=e[t])&&!i.test(n)){i.lastIndex=0,t++;if(r.test(n)){if(t>2){t--;break}while((n=e[t])&&r.test(n))t++;if(t>2)break}}}}return i.lastIndex=0,t},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var s=this.doc.getLength();do e++,r=this.doc.getLine(e);while(e<s&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var o=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+o)},this.moveCursorShortWordLeft=function(){var e=this.lead.row,t=this.lead.column,n;if(n=this.session.getFoldAt(e,t,-1))return this.moveCursorTo(n.start.row,n.start.column);var r=this.session.getLine(e).substring(0,t);if(t===0){do e--,r=this.doc.getLine(e);while(e>0&&/^\s*$/.test(r));t=r.length,/\s+$/.test(r)||(r="")}var s=i.stringReverse(r),o=this.$shortWordEndIndex(s);return this.moveCursorTo(e,t-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column),r;t===0&&(e!==0&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(r=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(r/this.session.$bidiHandler.charWidths[0])):r=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);if(e!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var i=this.session.lineWidgets[this.lead.row];e<0?e-=i.rowsAbove||0:e>0&&(e+=i.rowCount-(i.rowsAbove||0))}var s=this.session.screenToDocumentPosition(n.row+e,n.column,r);e!==0&&t===0&&s.row===this.lead.row&&s.column===this.lead.column,this.moveCursorTo(s.row,s.column+t,t===0)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(i.charAt(t))&&i.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return o.fromPoints(t,n)}catch(r){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(e.start==undefined){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(u.prototype),t.Selection=u}),ace.define("ace/tokenizer",[],function(e,t,n){"use strict";var r=e("./config"),i=2e3,s=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){var n=this.states[t],r=[],i=0,s=this.matchMappings[t]={defaultToken:"text"},o="g",u=[];for(var a=0;a<n.length;a++){var f=n[a];f.defaultToken&&(s.defaultToken=f.defaultToken),f.caseInsensitive&&(o="gi");if(f.regex==null)continue;f.regex instanceof RegExp&&(f.regex=f.regex.toString().slice(1,-1));var l=f.regex,c=(new RegExp("(?:("+l+")|(.))")).exec("a").length-2;Array.isArray(f.token)?f.token.length==1||c==1?f.token=f.token[0]:c-1!=f.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:f,groupCount:c-1}),f.token=f.token[0]):(f.tokenArray=f.token,f.token=null,f.onMatch=this.$arrayTokens):typeof f.token=="function"&&!f.onMatch&&(c>1?f.onMatch=this.$applyToken:f.onMatch=f.token),c>1&&(/\\\d/.test(f.regex)?l=f.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+i+1)}):(c=1,l=this.removeCapturingGroups(f.regex)),!f.splitRegex&&typeof f.token!="string"&&u.push(f)),s[i]=a,i+=c,r.push(l),f.onMatch||(f.onMatch=null)}r.length||(s[0]=0,r.push("$")),u.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)},this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(e){i=e|0},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if(typeof n=="string")return[{type:n,value:e}];var r=[];for(var i=0,s=n.length;i<s;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";var n=[],r=this.tokenArray;for(var i=0,s=r.length;i<s;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},this.removeCapturingGroups=function(e){var t=e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t},this.createSplitterRegexp=function(e,t){if(e.indexOf("(?=")!=-1){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,s,o,u,a){return r?r=u!="]":u?r=!0:o?(n==i.stack&&(i.end=a+1,i.stack=-1),n--):s&&(n++,s.length!=1&&(i.stack=n,i.start=a)),e}),i.end!=null&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return e.charAt(0)!="^"&&(e="^"+e),e.charAt(e.length-1)!="$"&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&typeof t!="string"){var n=t.slice(0);t=n[0],t==="#tmp"&&(n.shift(),t=n.shift())}else var n=[];var r=t||"start",s=this.states[r];s||(r="start",s=this.states[r]);var o=this.matchMappings[r],u=this.regExps[r];u.lastIndex=0;var a,f=[],l=0,c=0,h={type:null,value:""};while(a=u.exec(e)){var p=o.defaultToken,d=null,v=a[0],m=u.lastIndex;if(m-v.length>l){var g=e.substring(l,m-v.length);h.type==p?h.value+=g:(h.type&&f.push(h),h={type:p,value:g})}for(var y=0;y<a.length-2;y++){if(a[y+1]===undefined)continue;d=s[o[y]],d.onMatch?p=d.onMatch(v,r,n,e):p=d.token,d.next&&(typeof d.next=="string"?r=d.next:r=d.next(r,n),s=this.states[r],s||(this.reportError("state doesn't exist",r),r="start",s=this.states[r]),o=this.matchMappings[r],l=m,u=this.regExps[r],u.lastIndex=m),d.consumeLineEnd&&(l=m);break}if(v)if(typeof p=="string")!!d&&d.merge===!1||h.type!==p?(h.type&&f.push(h),h={type:p,value:v}):h.value+=v;else if(p){h.type&&f.push(h),h={type:null,value:""};for(var y=0;y<p.length;y++)f.push(p[y])}if(l==e.length)break;l=m;if(c++>i){c>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});while(l<e.length)h.type&&f.push(h),h={value:e.substring(l,l+=500),type:"overflow"};r="start",n=[];break}}return h.type&&f.push(h),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:f,state:n.length?n:r}},this.reportError=r.reportError}).call(s.prototype),t.Tokenizer=s}),ace.define("ace/mode/text_highlight_rules",[],function(e,t,n){"use strict";var r=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(!t){for(var n in e)this.$rules[n]=e[n];return}for(var n in e){var r=e[n];for(var i=0;i<r.length;i++){var s=r[i];if(s.next||s.onMatch)typeof s.next=="string"&&s.next.indexOf(t)!==0&&(s.next=t+s.next),s.nextState&&s.nextState.indexOf(t)!==0&&(s.nextState=t+s.nextState)}this.$rules[t+n]=r}},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,s){var o=typeof e=="function"?(new e).getRules():e;if(i)for(var u=0;u<i.length;u++)i[u]=t+i[u];else{i=[];for(var a in o)i.push(t+a)}this.addRules(o,t);if(n){var f=Array.prototype[s?"push":"unshift"];for(var u=0;u<i.length;u++)f.apply(this.$rules[i[u]],r.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return(e!="start"||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function i(s){var o=r[s];o.processed=!0;for(var u=0;u<o.length;u++){var a=o[u],f=null;Array.isArray(a)&&(f=a,a={}),!a.regex&&a.start&&(a.regex=a.start,a.next||(a.next=[]),a.next.push({defaultToken:a.token},{token:a.token+".end",regex:a.end||a.start,next:"pop"}),a.token=a.token+".start",a.push=!0);var l=a.next||a.push;if(l&&Array.isArray(l)){var c=a.stateName;c||(c=a.token,typeof c!="string"&&(c=c[0]||""),r[c]&&(c+=n++)),r[c]=l,a.next=c,i(c)}else l=="pop"&&(a.next=t);a.push&&(a.nextState=a.next||a.push,a.next=e,delete a.push);if(a.rules)for(var h in a.rules)r[h]?r[h].push&&r[h].push.apply(r[h],a.rules[h]):r[h]=a.rules[h];var p=typeof a=="string"?a:a.include;p&&(Array.isArray(p)?f=p.map(function(e){return r[e]}):f=r[p]);if(f){var d=[u,1].concat(f);a.noEscape&&(d=d.filter(function(e){return!e.next})),o.splice.apply(o,d),u--}a.keywordMap&&(a.token=this.createKeywordMapper(a.keywordMap,a.defaultToken||"text",a.caseInsensitive),delete a.defaultToken)}}var n=0,r=this.$rules;Object.keys(r).forEach(i,this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach(function(t){var s=e[t],o=s.split(r||"|");for(var u=o.length;u--;){var a=o[u];this.$keywordList.push(a),n&&(a=a.toLowerCase()),i[a]=t}},this),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i}),ace.define("ace/mode/behaviour",[],function(e,t,n){"use strict";var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if(typeof e=="function")var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(!e)return this.$behaviours;var t={};for(var n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}}).call(r.prototype),t.Behaviour=r}),ace.define("ace/token_iterator",[],function(e,t,n){"use strict";var r=e("./range").Range,i=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){this.$tokenIndex-=1;while(this.$tokenIndex<0){this.$row-=1;if(this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;var e;while(this.$tokenIndex>=this.$rowTokens.length){this.$row+=1,e||(e=this.$session.getLength());if(this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(n!==undefined)return n;n=0;while(t>0)t-=1,n+=e[t].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new r(this.$row,t,this.$row,t+e.value.length)}}).call(i.prototype),t.TokenIterator=i}),ace.define("ace/mode/behaviour/cstyle",[],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,o=e("../../lib/lang"),u=["text","paren.rparen","rparen","paren","punctuation.operator"],a=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],f,l={},c={'"':'"',"'":"'"},h=function(e){var t=-1;e.multiSelect&&(t=e.selection.index,l.rangeCount!=e.multiSelect.rangeCount&&(l={rangeCount:e.multiSelect.rangeCount}));if(l[t])return f=l[t];f=l[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},p=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},d=function(e){this.add("braces","insertion",function(t,n,r,i,s){var u=r.getCursorPosition(),a=i.doc.getLine(u.row);if(s=="{"){h(r);var l=r.getSelectionRange(),c=i.doc.getTextRange(l);if(c!==""&&c!=="{"&&r.getWrapBehavioursEnabled())return p(l,c,"{","}");if(d.isSaneInsertion(r,i))return/[\]\}\)]/.test(a[u.column])||r.inMultiSelectMode||e&&e.braces?(d.recordAutoInsert(r,i,"}"),{text:"{}",selection:[1,1]}):(d.recordMaybeInsert(r,i,"{"),{text:"{",selection:[1,1]})}else if(s=="}"){h(r);var v=a.substring(u.column,u.column+1);if(v=="}"){var m=i.$findOpeningBracket("}",{column:u.column+1,row:u.row});if(m!==null&&d.isAutoInsertedClosing(u,a,s))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if(s=="\n"||s=="\r\n"){h(r);var g="";d.isMaybeInsertedClosing(u,a)&&(g=o.stringRepeat("}",f.maybeInsertedBrackets),d.clearMaybeInsertedClosing());var v=a.substring(u.column,u.column+1);if(v==="}"){var y=i.findMatchingBracket({row:u.row,column:u.column+1},"}");if(!y)return null;var b=this.$getIndent(i.getLine(y.row))}else{if(!g){d.clearMaybeInsertedClosing();return}var b=this.$getIndent(a)}var w=b+i.getTabString();return{text:"\n"+w+"\n"+b+g,selection:[1,w.length,1,w.length]}}d.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s=="{"){h(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.end.column,i.end.column+1);if(u=="}")return i.end.column++,i;f.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,r,i){if(i=="("){h(n);var s=n.getSelectionRange(),o=r.doc.getTextRange(s);if(o!==""&&n.getWrapBehavioursEnabled())return p(s,o,"(",")");if(d.isSaneInsertion(n,r))return d.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(i==")"){h(n);var u=n.getCursorPosition(),a=r.doc.getLine(u.row),f=a.substring(u.column,u.column+1);if(f==")"){var l=r.$findOpeningBracket(")",{column:u.column+1,row:u.row});if(l!==null&&d.isAutoInsertedClosing(u,a,i))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s=="("){h(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u==")")return i.end.column++,i}}),this.add("brackets","insertion",function(e,t,n,r,i){if(i=="["){h(n);var s=n.getSelectionRange(),o=r.doc.getTextRange(s);if(o!==""&&n.getWrapBehavioursEnabled())return p(s,o,"[","]");if(d.isSaneInsertion(n,r))return d.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if(i=="]"){h(n);var u=n.getCursorPosition(),a=r.doc.getLine(u.row),f=a.substring(u.column,u.column+1);if(f=="]"){var l=r.$findOpeningBracket("]",{column:u.column+1,row:u.row});if(l!==null&&d.isAutoInsertedClosing(u,a,i))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s=="["){h(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u=="]")return i.end.column++,i}}),this.add("string_dquotes","insertion",function(e,t,n,r,i){var s=r.$mode.$quotes||c;if(i.length==1&&s[i]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(i)!=-1)return;h(n);var o=i,u=n.getSelectionRange(),a=r.doc.getTextRange(u);if(a!==""&&(a.length!=1||!s[a])&&n.getWrapBehavioursEnabled())return p(u,a,o,o);if(!a){var f=n.getCursorPosition(),l=r.doc.getLine(f.row),d=l.substring(f.column-1,f.column),v=l.substring(f.column,f.column+1),m=r.getTokenAt(f.row,f.column),g=r.getTokenAt(f.row,f.column+1);if(d=="\\"&&m&&/escape/.test(m.type))return null;var y=m&&/string|escape/.test(m.type),b=!g||/string|escape/.test(g.type),w;if(v==o)w=y!==b,w&&/string\.end/.test(g.type)&&(w=!1);else{if(y&&!b)return null;if(y&&b)return null;var E=r.$mode.tokenRe;E.lastIndex=0;var S=E.test(d);E.lastIndex=0;var x=E.test(d);if(S||x)return null;if(v&&!/[\s;,.})\]\\]/.test(v))return null;var T=l[f.column-2];if(!(d!=o||T!=o&&!E.test(T)))return null;w=!0}return{text:w?o+o:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,r,i){var s=r.$mode.$quotes||c,o=r.doc.getTextRange(i);if(!i.isMultiLine()&&s.hasOwnProperty(o)){h(n);var u=r.doc.getLine(i.start.row),a=u.substring(i.start.column+1,i.start.column+2);if(a==o)return i.end.column++,i}})};d.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new s(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",u)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var i=new s(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",u))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",a)},d.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},d.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),i=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,i,f.autoInsertedLineEnd[0])||(f.autoInsertedBrackets=0),f.autoInsertedRow=r.row,f.autoInsertedLineEnd=n+i.substr(r.column),f.autoInsertedBrackets++},d.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),i=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,i)||(f.maybeInsertedBrackets=0),f.maybeInsertedRow=r.row,f.maybeInsertedLineStart=i.substr(0,r.column)+n,f.maybeInsertedLineEnd=i.substr(r.column),f.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(e,t,n){return f.autoInsertedBrackets>0&&e.row===f.autoInsertedRow&&n===f.autoInsertedLineEnd[0]&&t.substr(e.column)===f.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(e,t){return f.maybeInsertedBrackets>0&&e.row===f.maybeInsertedRow&&t.substr(e.column)===f.maybeInsertedLineEnd&&t.substr(0,e.column)==f.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){f.autoInsertedLineEnd=f.autoInsertedLineEnd.substr(1),f.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){f&&(f.maybeInsertedBrackets=0,f.maybeInsertedRow=-1)},r.inherits(d,i),t.CstyleBehaviour=d}),ace.define("ace/unicode",[],function(e,t,n){"use strict";var r=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],i=0,s=[];for(var o=0;o<r.length;o+=2)s.push(i+=r[o]),r[o+1]&&s.push(45,i+=r[o+1]);t.wordChars=String.fromCharCode.apply(null,s)}),ace.define("ace/mode/text",[],function(e,t,n){"use strict";var r=e("../config"),i=e("../tokenizer").Tokenizer,s=e("./text_highlight_rules").TextHighlightRules,o=e("./behaviour/cstyle").CstyleBehaviour,u=e("../unicode"),a=e("../lib/lang"),f=e("../token_iterator").TokenIterator,l=e("../range").Range,c=function(){this.HighlightRules=s};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+u.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+u.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){function w(e){for(var t=n;t<=r;t++)e(i.getLine(t),t)}var i=t.doc,s=!0,o=!0,u=Infinity,f=t.getTabSize(),l=!1;if(!this.lineCommentStart){if(!this.blockComment)return!1;var c=this.blockComment.start,h=this.blockComment.end,p=new RegExp("^(\\s*)(?:"+a.escapeRegExp(c)+")"),d=new RegExp("(?:"+a.escapeRegExp(h)+")\\s*$"),v=function(e,t){if(g(e,t))return;if(!s||/\S/.test(e))i.insertInLine({row:t,column:e.length},h),i.insertInLine({row:t,column:u},c)},m=function(e,t){var n;(n=e.match(d))&&i.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(p))&&i.removeInLine(t,n[1].length,n[0].length)},g=function(e,n){if(p.test(e))return!0;var r=t.getTokens(n);for(var i=0;i<r.length;i++)if(r[i].type==="comment")return!0}}else{if(Array.isArray(this.lineCommentStart))var p=this.lineCommentStart.map(a.escapeRegExp).join("|"),c=this.lineCommentStart[0];else var p=a.escapeRegExp(this.lineCommentStart),c=this.lineCommentStart;p=new RegExp("^(\\s*)(?:"+p+") ?"),l=t.getUseSoftTabs();var m=function(e,t){var n=e.match(p);if(!n)return;var r=n[1].length,s=n[0].length;!b(e,r,s)&&n[0][s-1]==" "&&s--,i.removeInLine(t,r,s)},y=c+" ",v=function(e,t){if(!s||/\S/.test(e))b(e,u,u)?i.insertInLine({row:t,column:u},y):i.insertInLine({row:t,column:u},c)},g=function(e,t){return p.test(e)},b=function(e,t,n){var r=0;while(t--&&e.charAt(t)==" ")r++;if(r%f!=0)return!1;var r=0;while(e.charAt(n++)==" ")r++;return f>2?r%f!=f-1:r%f==0}}var E=Infinity;w(function(e,t){var n=e.search(/\S/);n!==-1?(n<u&&(u=n),o&&!g(e,t)&&(o=!1)):E>e.length&&(E=e.length)}),u==Infinity&&(u=E,s=!1,o=!1),l&&u%f!=0&&(u=Math.floor(u/f)*f),w(o?m:v)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(!i)return;!i.start&&i[0]&&(i=i[0]);var s=new f(t,r.row,r.column),o=s.getCurrentToken(),u=t.selection,a=t.selection.toOrientedRange(),c,h;if(o&&/comment/.test(o.type)){var p,d;while(o&&/comment/.test(o.type)){var v=o.value.indexOf(i.start);if(v!=-1){var m=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+v;p=new l(m,g,m,g+i.start.length);break}o=s.stepBackward()}var s=new f(t,r.row,r.column),o=s.getCurrentToken();while(o&&/comment/.test(o.type)){var v=o.value.indexOf(i.end);if(v!=-1){var m=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+v;d=new l(m,g,m,g+i.end.length);break}o=s.stepForward()}d&&t.remove(d),p&&(t.remove(p),c=p.start.row,h=-i.start.length)}else h=i.start.length,c=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);a.start.row==c&&(a.start.column+=h),a.end.row==c&&(a.end.column+=h),t.selection.fromOrientedRange(a)},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)if(e[t]){var n=e[t],i=n.prototype.$id,s=r.$modes[i];s||(r.$modes[i]=s=new n),r.$modes[t]||(r.$modes[t]=s),this.$embeds.push(t),this.$modes[t]=s}var o=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(var t=0;t<o.length;t++)(function(e){var n=o[t],r=e[n];e[o[t]]=function(){return this.$delegator(n,arguments,r)}})(this)},this.$delegator=function(e,t,n){var r=t[0]||"start";if(typeof r!="string"){if(Array.isArray(r[2])){var i=r[2][r[2].length-1],s=this.$modes[i];if(s)return s[e].apply(s,[r[1]].concat([].slice.call(t,1)))}r=r[0]||"start"}for(var o=0;o<this.$embeds.length;o++){if(!this.$modes[this.$embeds[o]])continue;var u=r.split(this.$embeds[o]);if(!u[0]&&u[1]){t[0]=u[1];var s=this.$modes[this.$embeds[o]];return s[e].apply(s,t)}}var a=n.apply(this,t);return n?a:undefined},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][t]){var u=s[o][t].apply(this,arguments);if(u)return u}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t){var i=t[r];for(var s=0,o=i.length;s<o;s++)if(typeof i[s].token=="string")/keyword|support|storage/.test(i[s].token)&&n.push(i[s].regex);else if(typeof i[s].token=="object")for(var u=0,a=i[s].token.length;u<a;u++)if(/keyword|support|storage/.test(i[s].token[u])){var r=i[s].regex.match(/\(.+?\)/g)[u];n.push(r.substr(1,r.length-2))}}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){var i=this.$keywordList||this.$createKeywordList();return i.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(c.prototype),t.Mode=c}),ace.define("ace/apply_delta",[],function(e,t,n){"use strict";function r(e,t){throw console.log("Invalid Delta:",e),"Invalid Delta: "+t}function i(e,t){return t.row>=0&&t.row<e.length&&t.column>=0&&t.column<=e[t.row].length}function s(e,t){t.action!="insert"&&t.action!="remove"&&r(t,"delta.action must be 'insert' or 'remove'"),t.lines instanceof Array||r(t,"delta.lines must be an Array"),(!t.start||!t.end)&&r(t,"delta.start/end must be an present");var n=t.start;i(e,t.start)||r(t,"delta.start must be contained in document");var s=t.end;t.action=="remove"&&!i(e,s)&&r(t,"delta.end must contained in document for 'remove' actions");var o=s.row-n.row,u=s.column-(o==0?n.column:0);(o!=t.lines.length-1||t.lines[o].length!=u)&&r(t,"delta.range must match delta lines")}t.applyDelta=function(e,t,n){var r=t.start.row,i=t.start.column,s=e[r]||"";switch(t.action){case"insert":var o=t.lines;if(o.length===1)e[r]=s.substring(0,i)+t.lines[0]+s.substring(i);else{var u=[r,1].concat(t.lines);e.splice.apply(e,u),e[r]=s.substring(0,i)+e[r],e[r+t.lines.length-1]+=s.substring(i)}break;case"remove":var a=t.end.column,f=t.end.row;r===f?e[r]=s.substring(0,i)+s.substring(a):e.splice(r,f-r+1,s.substring(0,i)+e[f].substring(a))}}}),ace.define("ace/anchor",[],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,s=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),typeof n=="undefined"?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}function t(t,n,r){var i=t.action=="insert",s=(i?1:-1)*(t.end.row-t.start.row),o=(i?1:-1)*(t.end.column-t.start.column),u=t.start,a=i?u:t.end;return e(n,u,r)?{row:n.row,column:n.column}:e(a,n,!r)?{row:n.row+s,column:n.column+(n.row==a.row?o:0)}:{row:u.row,column:u.column}}r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(e.start.row==e.end.row&&e.start.row!=this.row)return;if(e.start.row>this.row)return;var n=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)},this.setPosition=function(e,t,n){var r;n?r={row:e,column:t}:r=this.$clipPositionToDocument(e,t);if(this.row==r.row&&this.column==r.column)return;var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(s.prototype)}),ace.define("ace/document",[],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./apply_delta").applyDelta,s=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,u=e("./anchor").Anchor,a=function(e){this.$lines=[""],e.length===0?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){r.implement(this,s),this.setValue=function(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new u(this,e,t)},"aaa".split(/a/).length===0?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){if(this.$newLineMode===e)return;this.$newLineMode=e,this._signal("changeNewLineMode")},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return e=="\r\n"||e=="\r"||e=="\n"},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var n=this.getLength();e===undefined?e=n:e<0?e=0:e>=n&&(e=n-1,t=undefined);var r=this.getLine(e);return t==undefined&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:e,column:t}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var n=0;e<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(t.length==1?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:"remove",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var n=t==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,s=n?this.getLine(i).length:0,u=r?t+1:t,a=r?0:this.getLine(u).length,f=new o(i,s,u,a),l=this.$lines.slice(e,t+1);return this.applyDelta({start:f.start,end:f.end,action:"remove",lines:this.getLinesForRange(f)}),l},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){e instanceof o||(e=o.fromPoints(e.start,e.end));if(t.length===0&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);var n;return t?n=this.insert(e.start,t):n=e.start,n},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n=e.action=="insert";if(n?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))return;n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(i(this.$lines,e,t),this._signal("change",e))},this.$safeApplyDelta=function(e){var t=this.$lines.length;(e.action=="remove"&&e.start.row<t&&e.end.row<t||e.action=="insert"&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){var n=e.lines,r=n.length-t+1,i=e.start.row,s=e.start.column;for(var o=0,u=0;o<r;o=u){u+=t-1;var a=n.slice(o,u);a.push(""),this.applyDelta({start:this.pos(i+o,s),end:this.pos(i+u,s=0),action:e.action,lines:a},!0)}e.lines=n.slice(o),e.start.row=i+o,e.start.column=s,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:e.action=="insert"?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length;for(var i=t||0,s=n.length;i<s;i++){e-=n[i].length+r;if(e<0)return{row:i,column:e+n[i].length+r}}return{row:s-1,column:e+n[s-1].length+r}},this.positionToIndex=function(e,t){var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,s=Math.min(e.row,n.length);for(var o=t||0;o<s;++o)i+=n[o].length+r;return i+e.column}}).call(a.prototype),t.Document=a}),ace.define("ace/background_tokenizer",[],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,s=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(!n.running)return;var e=new Date,t=n.currentLine,r=-1,i=n.doc,s=t;while(n.lines[t])t++;var o=i.getLength(),u=0;n.running=!1;while(t<o){n.$tokenizeRow(t),r=t;do t++;while(n.lines[t]);u++;if(u%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,r==-1&&(r=t),s<=r&&n.fireUpdateEvent(s,r)}};(function(){r.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(n===0)this.lines[t]=null;else if(e.action=="remove")this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(s.prototype),t.BackgroundTokenizer=s}),ace.define("ace/search_highlight",[],function(e,t,n){"use strict";var r=e("./lib/lang"),i=e("./lib/oop"),s=e("./range").Range,o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){if(this.regExp+""==e+"")return;this.regExp=e,this.cache=[]},this.update=function(e,t,n,i){if(!this.regExp)return;var o=i.firstRow,u=i.lastRow;for(var a=o;a<=u;a++){var f=this.cache[a];f==null&&(f=r.getMatchOffsets(n.getLine(a),this.regExp),f.length>this.MAX_RANGES&&(f=f.slice(0,this.MAX_RANGES)),f=f.map(function(e){return new s(a,e.offset,a,e.offset+e.length)}),this.cache[a]=f.length?f:"");for(var l=f.length;l--;)t.drawSingleLineMarker(e,f[l].toScreenRange(n),this.clazz,i)}}}).call(o.prototype),t.SearchHighlight=o}),ace.define("ace/annotations/annotations",[],function(e,t,n){"use strict";function r(e,t,n,r){function f(e,t){function n(e){return e===undefined||e===null?!1:!0}var r=t&&n(t.id)?t.id:n(e.$id)?e.$id:"#"+Math.random()+"#";return i[r]&&l(i[r]),i[r]=e,r}function l(e){var t=i[e];if(!t)return;delete i[e];var n=s[e];if(!n)return;delete s[e];if(Array.isArray(n))for(var r in n)n[r].worker.terminate();else n.worker.terminate()}function c(e){var t=Object.create(null);for(var n in s){var r=s[n];if(!r)continue;if(Array.isArray(r))for(var i in r){var o=r[i];if(o.session===e){t[n]=i;break}}else r.sessions[e.id]&&(t[n]=e.id)}return t}function h(e,t,n){var r=[],s=-Infinity;for(var o in i){var u=i[o],a;if(u.canHandle){a=u.canHandle(e,t,n);if(!a)continue}else if(u.supportedModes)u.supportedModes.indexOf(e)>-1&&(a=u.priority||1);else{if(o!==e)continue;a=1}a>s||!u.allowsSupport&&a==s?(s=a,r[0]&&!i[r[0]].allowsSupport&&r.shift(),r.unshift(o)):u.allowsSupport&&r.push(o)}return r}function p(e,t){var n=c(e),r=t&&t.mode||e.getMode().$id,i=h(r,e,t),s;for(s in n)i.indexOf(s)<0&&w(s,n[s]);for(var o in i)s=i[o],n[s]===undefined&&b(s,e,t)}function d(e){var t=c(e);for(var n in t)w(n,t[n])}function b(e,t,n){t[a]||(t[a]={}),t[a][e]=[];var r=i[e],f=s[e];if(r.isGlobal&&!Array.isArray(f))f||(f=s[e]={worker:r.createWorker(),sessions:Object.create(null),num:0},f.$handleUpdate=v.bind(f,e),f.$handleTerminate=m.bind(f,e),f.worker.on(o,f.$handleUpdate),f.worker.on(u,f.$handleTerminate)),f.sessions[t.id]=t,f.num++,f.worker.addDocument(t.id,t.getDocument(),n),t._signal("startWorker",{worker:f.worker,id:e,provider:r,isGlobal:!0});else{var l=r.createWorker();f||(f=s[e]=[]);var c={worker:l,session:t};f.push(c),c.$handleUpdate=g.bind(c,e),c.$handleTerminate=y.bind(c,e),l.on(o,c.$handleUpdate),l.on(u,c.$handleTerminate),l.attachToDocument(t.getDocument(),n),t._signal("startWorker",{worker:l,id:e,provider:r})}}function w(e,n){var r=i[e],o=s[e];if(Array.isArray(o)){var u=n;o[u].worker.terminate()}else{var f=n;o.num<2?o.worker.terminate():(o.worker.removeDocument(f),delete o.sessions[f][a][e],t(o.sessions[f]),delete o.sessions[f],o.num--)}}var i=Object.create(null),s=Object.create(null),o=n||"update",u=r||"terminate",a=e,v=function(e,n){var r=n.data.doc,i=this.sessions[r];i&&(i[a][e]=n.data.data,t(i))},m=function(e,n){if(this.sessions){for(var r in this.sessions){var i=this.sessions[r];delete i[a][e],t(i)}s[e]===this&&delete s[e],this.worker.off(o,this.$handleUpdate),this.worker.off(u,this.$handleTerminate)}},g=function(e,n){this.session[a][e]=n.data,t(this.session)},y=function(e,n){delete this.session[a][e],t(this.session);var r=s[e],i;r&&(i=r.indexOf(this))>-1&&(r.length>0?r.splice(i,1):s[e]=null),this.worker.off(o,this.$handleUpdate),this.worker.off(u,this.$handleTerminate)};this.updateWorkers=p,this.registerProvider=f,this.unregisterProvider=l,this.removeWorkers=d,this.listWorkers=function(e){var t=c(e);return Object.keys(t).map(function(e){var n=s[e];return{provider:i[e],worker:Array.isArray(n)?n[t[e]].worker:n.worker,id:e}})},this.listSessions=function(e){var t=s[e];if(t){if(Array.isArray(t))return t.map(function(e){return e.session});var n=[];for(var r in t.sessions)n.push(t.sessions[r]);return n}return[]}}var i=new r("$annotationChannels",function(t){var n=[];for(var r in t.$annotationChannels)n=n.concat(t.$annotationChannels[r]);t.annotationFilters&&t.annotationFilters.forEach(function(e){n=e(n)}),t.setAnnotations(n)},"annotate");t.Annotations=i,t.ChannelManager=r}),ace.define("ace/edit_session/fold_line",[],function(e,t,n){"use strict";function i(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var r=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r=0,i=this.folds,s,o,u,a=!0;t==null&&(t=this.end.row,n=this.end.column);for(var f=0;f<i.length;f++){s=i[f],o=s.range.compareStart(t,n);if(o==-1){e(null,t,n,r,a);return}u=e(null,s.start.row,s.start.column,r,a),u=!u&&e(s.placeholder,s.start.row,s.start.column,r);if(u||o===0)return;a=!s.sameRow,r=s.end.column}e(null,t,n,r,a)},this.getNextFoldTo=function(e,t){var n,r;for(var i=0;i<this.folds.length;i++){n=this.folds[i],r=n.range.compareEnd(e,t);if(r==-1)return{fold:n,kind:"after"};if(r===0)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r=this.getNextFoldTo(e,t),i,s;if(r){i=r.fold;if(r.kind=="inside"&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.error("Adding charater inside fold",e,t,i);else if(i.start.row==e){s=this.folds;var o=s.indexOf(i);o===0&&(this.start.column+=n);for(o;o<s.length;o++){i=s[o],i.start.column+=n;if(!i.sameRow)return;i.end.column+=n}this.end.column+=n}}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||n.kind=="inside")return null;var r=n.fold,s=this.folds,o=this.foldData,u=s.indexOf(r),a=s[u-1];this.end.row=a.end.row,this.end.column=a.end.column,s=s.splice(u,s.length-u);var f=new i(o,s);return o.splice(o.indexOf(this)+1,0,f),f},this.merge=function(e){var t=e.folds;for(var n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){var t=0;for(var n=0;n<this.folds.length;n++){var r=this.folds[n];e-=r.start.column-t;if(e<0)return{row:r.start.row,column:r.start.column+e};e-=r.placeholder.length;if(e<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(i.prototype),t.FoldLine=i}),ace.define("ace/range_list",[],function(e,t,n){"use strict";var r=e("./range").Range,i=r.comparePoints,s=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){var r=this.ranges;for(var s=n||0;s<r.length;s++){var o=r[s],u=i(e,o.end);if(u>0)continue;var a=i(e,o.start);return u===0?t&&a!==0?-s-2:s:a>0||a===0&&!t?s:-s-1}return-s-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){var t=[];for(var n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return i(e.start,t.start)});var n=t[0],r;for(var s=1;s<t.length;s++){r=n,n=t[s];var o=i(r.end,n.start);if(o<0)continue;if(o==0&&!r.isEmpty()&&!n.isEmpty())continue;i(r.end,n.end)<0&&(r.end.row=n.end.row,r.end.column=n.end.column),t.splice(s,1),e.push(n),n=r,s--}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);var s=[];for(var o=r;o<i;o++)s.push(n[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){if(!this.session)return;this.session.removeListener("change",this.onChange),this.session=null},this.$onChange=function(e){var t=e.start,n=e.end,r=t.row,i=n.row,s=this.ranges;for(var o=0,u=s.length;o<u;o++){var a=s[o];if(a.end.row>=r)break}if(e.action=="insert"){var f=i-r,l=-t.column+n.column;for(;o<u;o++){var a=s[o];if(a.start.row>r)break;a.start.row==r&&a.start.column>=t.column&&(a.start.column==t.column&&this.$bias<=0||(a.start.column+=l,a.start.row+=f));if(a.end.row==r&&a.end.column>=t.column){if(a.end.column==t.column&&this.$bias<0)continue;a.end.column==t.column&&l>0&&o<u-1&&a.end.column>a.start.column&&a.end.column==s[o+1].start.column&&(a.end.column-=l),a.end.column+=l,a.end.row+=f}}}else{var f=r-i,l=t.column-n.column;for(;o<u;o++){var a=s[o];if(a.start.row>i)break;if(a.end.row<i&&(r<a.end.row||r==a.end.row&&t.column<a.end.column))a.end.row=r,a.end.column=t.column;else if(a.end.row==i)if(a.end.column<=n.column){if(f||a.end.column>t.column)a.end.column=t.column,a.end.row=t.row}else a.end.column+=l,a.end.row+=f;else a.end.row>i&&(a.end.row+=f);if(a.start.row<i&&(r<a.start.row||r==a.start.row&&t.column<a.start.column))a.start.row=r,a.start.column=t.column;else if(a.start.row==i)if(a.start.column<=n.column){if(f||a.start.column>t.column)a.start.column=t.column,a.start.row=t.row}else a.start.column+=l,a.start.row+=f;else a.start.row>i&&(a.start.row+=f)}}if(f!=0&&o<u)for(;o<u;o++){var a=s[o];a.start.row+=f,a.end.row+=f}}}).call(s.prototype),t.RangeList=s}),ace.define("ace/edit_session/fold",[],function(e,t,n){"use strict";function o(e,t){e.row-=t.row,e.row==0&&(e.column-=t.column)}function u(e,t){o(e.start,t),o(e.end,t)}function a(e,t){e.row==0&&(e.column+=t.column),e.row+=t.row}function f(e,t){a(e.start,t),a(e.end,t)}var r=e("../range_list").RangeList,i=e("../lib/oop"),s=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};i.inherits(s,r),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new s(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(this.range.isEqual(e))return;u(e,this.start);var t=e.start.row,n=e.start.column;for(var r=0,i=-1;r<this.subFolds.length;r++){i=this.subFolds[r].range.compare(t,n);if(i!=1)break}var s=this.subFolds[r],o=0;if(i==0){if(s.range.containsRange(e))return s.addSubFold(e);o=1}var t=e.range.end.row,n=e.range.end.column;for(var a=r,i=-1;a<this.subFolds.length;a++){i=this.subFolds[a].range.compare(t,n);if(i!=1)break}var f=0;i==0&&(f=1);var l=this.subFolds.splice(r,a-r+f,e),c=a-r;for(var h=o;h<c;h++)e.addSubFold(l[h]);return e.setFoldLine(this.foldLine),e},this.restoreRange=function(e){return f(e,this.start)}}.call(s.prototype)}),ace.define("ace/edit_session/folding",[],function(e,t,n){"use strict";function u(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;var i=r.folds;for(var s=0;s<i.length;s++){var o=i[s].range;if(o.contains(e,t)){if(n==1&&o.isEnd(e,t)&&!o.isEmpty())continue;if(n==-1&&o.isStart(e,t)&&!o.isEmpty())continue;return i[s]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var s=0;s<r.length;s++){var o=r[s].range.compareRange(e);if(o==2)continue;if(o==-2)break;var u=r[s].folds;for(var a=0;a<u.length;a++){var f=u[a];o=f.range.compareRange(e);if(o==-2)break;if(o==2)continue;if(o==42)break;i.push(f)}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){var e=[],t=this.$foldData;for(var n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){r=r||this.getFoldLine(e);if(!r)return null;var i={end:{column:0}},s,o;for(var u=0;u<r.folds.length;u++){o=r.folds[u];var a=o.range.compareEnd(e,t);if(a==-1){s=this.getLine(o.start.row).substring(i.end.column,o.start.column);break}if(a===0)return null;i=o}return s||(s=this.getLine(o.start.row).substring(i.end.column)),n==-1?s.substring(0,t-i.end.column):n==1?s.substring(t-i.end.column):s},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;t&&(r=n.indexOf(t)),r==-1&&(r=0);for(r;r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;t&&(r=n.indexOf(t)),r==-1&&(r=0);for(r;r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){var n=this.$foldData,r=t-e+1;for(var i=0;i<n.length;i++){var s=n[i],o=s.end.row,u=s.start.row;if(o>=t){u<t&&(u>=e?r-=t-u:r=0);break}o>=e&&(u>=e?r-=o-u:r-=o-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n=this.$foldData,r=!1,o;e instanceof s?o=e:(o=new s(t,e),o.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(o.range);var u=o.start.row,a=o.start.column,f=o.end.row,l=o.end.column,c=this.getFoldAt(u,a,1),h=this.getFoldAt(f,l,-1);if(c&&h==c)return c.addSubFold(o);c&&!c.range.isStart(u,a)&&this.removeFold(c),h&&!h.range.isEnd(f,l)&&this.removeFold(h);var p=this.getFoldsInRange(o.range);p.length>0&&(this.removeFolds(p),o.collapseChildren||p.forEach(function(e){o.addSubFold(e)}));for(var d=0;d<n.length;d++){var v=n[d];if(f==v.start.row){v.addFold(o),r=!0;break}if(u==v.end.row){v.addFold(o),r=!0;if(!o.sameRow){var m=n[d+1];if(m&&m.start.row==f){v.merge(m);break}}break}if(f<=v.start.row)break}return r||(v=this.$addFoldLine(new i(this.$foldData,o))),this.$useWrapMode?this.$updateWrapData(v.start.row,v.start.row):this.$updateRowLengthCache(v.start.row,v.start.row),this.$modified=!0,this._signal("changeFold",{data:o,action:"add"}),o},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,s=t.folds;if(s.length==1)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))s.pop(),t.end.row=s[s.length-1].end.row,t.end.column=s[s.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))s.shift(),t.start.row=s[0].start.row,t.start.column=s[0].start.column;else if(e.sameRow)s.splice(s.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);s=o.folds,s.shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){var t=[];for(var n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,i;if(e==null){i=this.getAllFolds();if(t!==!1){this.removeFolds(i);if(i.length)return i;return}}else typeof e=="number"?n=new r(e,0,e,this.getLine(e).length):"row"in e?(n=r.fromPoints(e,e),t=!1):n=e;t==0?(i=i||this.getFoldsInRangeList(n),this.expandFolds(i)):(i=[],Array.isArray(e)||(e=[n]),e.forEach(function(e){var t;do{t=!0;var n=this.getFoldsInRange(e);for(var r=0,s=n.length;r<s;r++){var o=n[r];e.containsRange(o)?(this.removeFold(o),i.push(o)):(t&&(t=!1),this.expandFold(o))}}while(!t)},this));if(i.length)return i;return},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){r==null&&(r=e.start.row),i==null&&(i=0),t==null&&(t=e.end.row),n==null&&(n=this.getLine(t).length);var s=this.doc,o="";return e.walk(function(e,t,n,u){if(t<r)return;if(t==r){if(n<i)return;u=Math.max(i,u)}e!=null?o+=e:o+=s.getLine(t).substring(u,n)},t,n),o},this.getDisplayLine=function(e,t,n,r){var i=this.getFoldLine(e);if(!i){var s;return s=this.doc.getLine(e),s.substring(r||0,t||s.length)}return this.getFoldDisplayLine(i,e,t,n,r)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new i(e,n)}),e},this.toggleFold=function(e){var t=this.selection,n=t.getRange(),r,i;if(n.isEmpty()){var s=n.start;r=this.getFoldAt(s.row,s.column);if(r){this.expandFold(r);return}(i=this.findMatchingBracket(s))?n.comparePoint(i)==1?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:s.row,column:s.column+1}))?(n.comparePoint(i)==1?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(s.row,s.column)||n}else{var o=this.getFoldsInRange(n);if(e&&o.length){this.expandFolds(o);return}o.length==1&&(r=o[0])}r||(r=this.getFoldAt(n.start.row,n.start.column));if(r&&r.range.toString()==n.toString()){this.expandFold(r);return}var u="...";if(!n.isMultiLine()){u=this.getTextRange(n);if(u.length<4)return;u=u.trim().substring(0,2)+".."}this.addFold(u,n)},this.getCommentFoldRange=function(e,t,n){var i=new o(this,e,t),s=i.getCurrentToken(),u=s&&s.type;if(s&&/^comment|string/.test(u)){u=u.match(/comment|string/)[0],u=="comment"&&(u+="|doc-start");var a=new RegExp(u),f=new r;if(n!=1){do s=i.stepBackward();while(s&&a.test(s.type));i.stepForward()}f.start.row=i.getCurrentTokenRow(),f.start.column=i.getCurrentTokenColumn()+2,i=new o(this,e,t);if(n!=-1){var l=-1;do{s=i.stepForward();if(l==-1){var c=this.getState(i.$row);a.test(c)||(l=i.$row)}else if(i.$row>l)break}while(s&&a.test(s.type));s=i.stepBackward()}else s=i.getCurrentToken();return f.end.row=i.getCurrentTokenRow(),f.end.column=i.getCurrentTokenColumn()+s.value.length-2,f}},this.foldAll=function(e,t,n,r){n==undefined&&(n=1e5);var i=this.foldWidgets;if(!i)return;t=t||this.getLength(),e=e||0;for(var s=e;s<t;s++){i[s]==null&&(i[s]=this.getFoldWidget(s));if(i[s]!="start")continue;if(r&&!r(s))continue;var o=this.getFoldWidgetRange(s);o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e&&(s=o.end.row,o.collapseChildren=n,this.addFold("...",o))}},this.foldToLevel=function(e){this.foldAll();while(e-->0)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,function(t){var n=e.getTokens(t);for(var r=0;r<n.length;r++){var i=n[r];if(i.type=="text"&&/^\s+$/.test(i.value))continue;return/comment/.test(i.type)?!0:!1}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle==e)return;this.$foldStyle=e,e=="manual"&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)},this.$setFolding=function(e){if(this.$foldMode==e)return;this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation");if(!e||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};var r=e-1,i;while(r>=0){var s=n[r];s==null&&(s=n[r]=this.getFoldWidget(r));if(s=="start"){var o=this.getFoldWidgetRange(r);i||(i=o);if(o&&o.end.row>=e)break}r--}return{range:r!==-1&&o,firstRange:i}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},r=this.$toggleFoldWidget(e,n);if(!r){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(!this.getFoldWidget)return;var n=this.getFoldWidget(e),r=this.getLine(e),i=n==="end"?-1:1,s=this.getFoldAt(e,i===-1?0:r.length,i);if(s)return t.children||t.all?this.removeFold(s):this.expandFold(s),s;var o=this.getFoldWidgetRange(e,!0);if(o&&!o.isMultiLine()){s=this.getFoldAt(o.start.row,o.start.column,1);if(s&&o.isEqual(s.range))return this.removeFold(s),s}if(t.siblings){var u=this.getParentFoldRangeData(e);if(u.range)var a=u.range.start.row+1,f=u.range.end.row;this.foldAll(a,f,t.all?1e4:0)}else t.children?(f=o?o.end.row:this.getLength(),this.foldAll(e+1,f,t.all?1e4:0)):o&&(t.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(n)return;var r=this.getParentFoldRangeData(t,!0);n=r.range||r.firstRange;if(n){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold("...",n)}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(n===0)this.foldWidgets[t]=null;else if(e.action=="remove")this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var r=e("../range").Range,i=e("./fold_line").FoldLine,s=e("./fold").Fold,o=e("../token_iterator").TokenIterator;t.Folding=u}),ace.define("ace/edit_session/bracket_match",[],function(e,t,n){"use strict";function s(){this.findMatchingBracket=function(e,t){if(e.column==0)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(n=="")return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t=this.getLine(e.row),n=!0,r,s=t.charAt(e.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);o||(s=t.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),n=!1);if(!o)return null;if(o[1]){var u=this.$findClosingBracket(o[1],e);if(!u)return null;r=i.fromPoints(e,u),n||(r.end.column++,r.start.column--),r.cursor=r.end}else{var u=this.$findOpeningBracket(o[2],e);if(!u)return null;r=i.fromPoints(u,e),n||(r.start.column++,r.end.column--),r.cursor=r.start}return r},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),n=t.charAt(e.column-1),r=n&&n.match(/([\(\[\{])|([\)\]\}])/);r||(n=t.charAt(e.column),e={row:e.row,column:e.column+1},r=n&&n.match(/([\(\[\{])|([\)\]\}])/));if(!r)return null;var s=new i(e.row,e.column-1,e.row,e.column),o=r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e);if(!o)return[s];var u=new i(o.row,o.column,o.row,o.column+1);return[s,u]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var i=this.$brackets[e],s=1,o=new r(this,t.row,t.column),u=o.getCurrentToken();u||(u=o.stepForward());if(!u)return;n||(n=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));var a=t.column-o.getCurrentTokenColumn()-2,f=u.value;for(;;){while(a>=0){var l=f.charAt(a);if(l==i){s-=1;if(s==0)return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else l==e&&(s+=1);a-=1}do u=o.stepBackward();while(u&&!n.test(u.type));if(u==null)break;f=u.value,a=f.length-1}return null},this.$findClosingBracket=function(e,t,n){var i=this.$brackets[e],s=1,o=new r(this,t.row,t.column),u=o.getCurrentToken();u||(u=o.stepForward());if(!u)return;n||(n=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));var a=t.column-o.getCurrentTokenColumn();for(;;){var f=u.value,l=f.length;while(a<l){var c=f.charAt(a);if(c==i){s-=1;if(s==0)return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else c==e&&(s+=1);a+=1}do u=o.stepForward();while(u&&!n.test(u.type));if(u==null)break;a=0}return null}}var r=e("../token_iterator").TokenIterator,i=e("../range").Range;t.BracketMatch=s}),ace.define("ace/edit_session",[],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),s=e("./bidihandler").BidiHandler,o=e("./config"),u=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,f=e("./mode/text").Mode,l=e("./range").Range,c=e("./document").Document,h=e("./background_tokenizer").BackgroundTokenizer,p=e("./search_highlight").SearchHighlight,d=e("./annotations/annotations").Annotations,v=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++v.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this);if(typeof e!="object"||!e.getLine)e=new c(e);this.setDocument(e),this.selection=new a(this),this.$bidiHandler=new s(this),o.resetOptions(this),this.setMode(t),o._signal("session",this)};v.$uid=0,function(){function g(e){return e<4352?!1:e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510}r.implement(this,u),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e){this.$docRowCache=[],this.$screenRowCache=[];return}var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){var n=0,r=e.length-1;while(n<=r){var i=n+r>>1,s=e[i];if(t>s)n=i+1;else{if(!(t<s))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n=this.bgTokenizer.getTokens(e),r,i=0;if(t==null){var s=n.length-1;i=this.getLine(e).length}else for(var s=0;s<n.length;s++){i+=n[s].value.length;if(i>=t)break}return r=n[s],r?(r.index=s,r.start=i-r.value.length,r):null},this.setUndoManager=function(e){this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel();if(e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){t===undefined&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,s={range:e,type:n||"line",renderer:typeof n=="function"?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=s,this._signal("changeFrontMarker")):(this.$backMarkers[i]=s,this._signal("changeBackMarker")),i},this.addDynamicMarker=function(e,t){if(!e.update)return;var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(!t)return;var n=t.inFront?this.$frontMarkers:this.$backMarkers;delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker")},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new p(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){typeof t!="number"&&(n=t,t=e),n||(n="ace_step");var i=new l(e,0,t,Infinity);return i.id=this.addMarker(i,n,"fullLine",r),i},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine="\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe));if(r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var i=/\s/;else var i=this.nonTokenRe;var s=t;if(s>0){do s--;while(s>=0&&n.charAt(s).match(i));s++}var o=t;while(o<n.length&&n.charAt(o).match(i))o++;return new l(e,s,e,o)},this.getAWordRange=function(e,t){var n=this.getWordRange(e,t),r=this.getLine(n.end.row);while(r.charAt(n.end.column).match(/[ \t]/))n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=o.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&typeof e=="object"){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new f);if(this.$modes[r]&&!n){this.$onChangeMode(this.$modes[r]),t&&t();return}this.$modeId=r,o.loadModule(["mode",r],function(e){if(this.$modeId!==r)return t&&t();this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){t||(this.$modeId=e.$id);if(this.$mode===e)return;var n=this.$mode;this.$mode=e,this.$useWorker&&d.updateWorkers(this);var r=e.getTokenizer();if(r.on!==undefined){var i=this.onReloadTokenizer.bind(this);r.on("update",i)}if(!this.bgTokenizer){this.bgTokenizer=new h(r);var s=this;this.bgTokenizer.on("update",function(e){s._signal("tokenizerUpdate",e)})}else this.bgTokenizer.setTokenizer(r);this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){if(this.$scrollTop===e||isNaN(e))return;this.$scrollTop=e,this._signal("changeScrollTop",e)},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){if(this.$scrollLeft===e||isNaN(e))return;this.$scrollLeft=e,this._signal("changeScrollLeft",e)},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){this.$modified=!1;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,s=this.$foldData[i],o=s?s.start.row:Infinity,u=t.length,a=null;for(var f=0;f<u;f++){if(f>o){f=s.end.row+1;if(f>=u)break;s=this.$foldData[i++],o=s?s.start.row:Infinity}if(n[f]==null)if(f==o){n[f]=this.$getStringScreenWidth(t[f].substring(0,s.start.column))[0],a=s,s=this.$foldData[i++];while(s&&s.start.row==a.end.row)n[f]+=this.$getStringScreenWidth(t[f].substring(a.end.column,s.start.column))[0],a=s,s=this.$foldData[i++],n[f]+=3;n[f]+=this.$getStringScreenWidth(t[a.end.row].substring(a.end.column))[0],n[f]+=3,s=a,i--}else n[f]=this.$getStringScreenWidth(t[f])[0];n[f]>r&&(r=n[f])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(!e.length)return;this.$fromUndo=!0;for(var n=e.length-1;n!=-1;n--){var r=e[n];r.action=="insert"||r.action=="remove"?this.doc.revertDelta(r):r.folds&&this.addFolds(r.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1},this.redoChanges=function(e,t){if(!e.length)return;this.$fromUndo=!0;for(var n=0;n<e.length;n++){var r=e[n];(r.action=="insert"||r.action=="remove")&&this.doc.$safeApplyDelta(r)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?e.action!=="insert":e.action==="insert"}var r,i;for(var s=0;s<e.length;s++){var o=e[s];if(!o.start)continue;if(!r){n(o)?r=l.fromPoints(o.start,o.end):r=l.fromPoints(o.start,o.start);continue}n(o)?(i=o.start,r.compare(i.row,i.column)==-1&&r.setStart(i),i=o.end,r.compare(i.row,i.column)==1&&r.setEnd(i)):(i=o.start,r.compare(i.row,i.column)==-1&&(r=l.fromPoints(o.start,o.start)))}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),s=l.fromPoints(t,t);if(!n){this.remove(e);var o=e.start.row-e.end.row,u=o?-e.end.column:e.start.column-e.end.column;u&&(s.start.row==e.end.row&&s.start.column>e.end.column&&(s.start.column+=u),s.end.row==e.end.row&&s.end.column>e.end.column&&(s.end.column+=u)),o&&s.start.row>=e.end.row&&(s.start.row+=o,s.end.row+=o)}s.end=this.insert(s.start,r);if(i.length){var a=e.start,f=s.start,o=f.row-a.row,u=f.column-a.column;this.addFolds(i.map(function(e){return e=e.clone(),e.start.row==a.row&&(e.start.column+=u),e.end.row==a.row&&(e.end.column+=u),e.start.row+=o,e.end.row+=o,e}))}return s},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},this.outdentRows=function(e){var t=e.collapseRows(),n=new l(0,0,0,0),r=this.getTabSize();for(var i=t.start.row;i<=t.end.row;++i){var s=this.getLine(i);n.start.row=i,n.end.row=i;for(var o=0;o<r;++o)if(s.charAt(o)!=" ")break;o<r&&s.charAt(o)=="	"?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.$moveLines=function(e,t,n){e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t);if(n<0){var r=this.getRowFoldStart(e+n);if(r<0)return 0;var i=r-e}else if(n>0){var r=this.getRowFoldEnd(t+n);if(r>this.doc.getLength()-1)return 0;var i=r-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var i=t-e+1}var s=new l(e,0,t,Number.MAX_VALUE),o=this.getFoldsInRange(s).map(function(e){return e=e.clone(),e.start.row+=i,e.end.row+=i,e}),u=n==0?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,u),o.length&&this.addFolds(o),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){t=Math.max(0,t);if(e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0);if(e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){if(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode")},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1?(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,s=r.row,o=i.row,u=o-s,a=null;this.$updating=!0;if(u!=0)if(n==="remove"){this[t?"$wrapData":"$rowLengthCache"].splice(s,u);var f=this.$foldData;a=this.getFoldsInRange(e),this.removeFolds(a);var l=this.getFoldLine(i.row),c=0;if(l){l.addRemoveChars(i.row,i.column,r.column-i.column),l.shiftRow(-u);var h=this.getFoldLine(s);h&&h!==l&&(h.merge(l),l=h),c=f.indexOf(l)+1}for(c;c<f.length;c++){var l=f[c];l.start.row>=i.row&&l.shiftRow(-u)}o=s}else{var p=Array(u);p.unshift(s,0);var d=t?this.$wrapData:this.$rowLengthCache;d.splice.apply(d,p);var f=this.$foldData,l=this.getFoldLine(s),c=0;if(l){var v=l.range.compareInside(r.row,r.column);v==0?(l=l.split(r.row,r.column),l&&(l.shiftRow(u),l.addRemoveChars(o,0,i.column-r.column))):v==-1&&(l.addRemoveChars(s,0,i.column-r.column),l.shiftRow(u)),c=f.indexOf(l)+1}for(c;c<f.length;c++){var l=f[c];l.start.row>=s&&l.shiftRow(u)}}else{u=Math.abs(e.start.column-e.end.column),n==="remove"&&(a=this.getFoldsInRange(e),this.removeFolds(a),u=-u);var l=this.getFoldLine(s);l&&l.addRemoveChars(s,r.column,u)}t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1;var m=this.getNextFoldLine(s);return m&&m.end.row==s&&(s=m.start.row),t?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),a},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var r=this.doc.getAllLines(),i=this.getTabSize(),o=this.$wrapData,u=this.$wrapLimit,a,f,l=e;t=Math.min(t,r.length-1);while(l<=t)f=this.getFoldLine(l,f),f?(a=[],f.walk(function(e,t,i,o){var u;if(e!=null){u=this.$getDisplayTokens(e,a.length),u[0]=n;for(var f=1;f<u.length;f++)u[f]=s}else u=this.$getDisplayTokens(r[t].substring(o,i),a.length);a=a.concat(u)}.bind(this),f.end.row,r[f.end.row].length+1),o[f.start.row]=this.$computeWrapSplits(a,u,i),l=f.end.row+1):(a=this.$getDisplayTokens(r[l]),o[l]=this.$computeWrapSplits(a,u,i),l++)};var e=1,t=2,n=3,s=4,a=9,c=10,v=11,m=12;this.$computeWrapSplits=function(e,r,i){function g(){var t=0;if(d===0)return t;if(p)for(var n=0;n<e.length;n++){var r=e[n];if(r==c)t+=1;else{if(r!=v){if(r==m)continue;break}t+=i}}return h&&p!==!1&&(t+=i),Math.min(t,d)}function y(t){var n=t-f;for(var r=f;r<t;r++){var i=e[r];if(i===12||i===2)n-=1}o.length||(b=g(),o.indent=b),l+=n,o.push(l),f=t}if(e.length==0)return[];var o=[],u=e.length,f=0,l=0,h=this.$wrapAsCode,p=this.$indentedSoftWrap,d=r<=Math.max(2*i,8)||p===!1?0:Math.floor(r/2),b=0;while(u-f>r-b){var w=f+r-b;if(e[w-1]>=c&&e[w]>=c){y(w);continue}if(e[w]==n||e[w]==s){for(w;w!=f-1;w--)if(e[w]==n)break;if(w>f){y(w);continue}w=f+r;for(w;w<e.length;w++)if(e[w]!=s)break;if(w==e.length)break;y(w);continue}var E=Math.max(w-(r-(r>>2)),f-1);while(w>E&&e[w]<n)w--;if(h){while(w>E&&e[w]<n)w--;while(w>E&&e[w]==a)w--}else while(w>E&&e[w]<c)w--;if(w>E){y(++w);continue}w=f+r,e[w]==t&&w--,y(w-b)}return o},this.$getDisplayTokens=function(n,r){var i=[],s;r=r||0;for(var o=0;o<n.length;o++){var u=n.charCodeAt(o);if(u==9){s=this.getScreenTabSize(i.length+r),i.push(v);for(var f=1;f<s;f++)i.push(m)}else u==32?i.push(c):u>39&&u<48||u>57&&u<64?i.push(a):u>=4352&&g(u)?i.push(e,t):i.push(e)}return i},this.$getStringScreenWidth=function(e,t,n){if(t==0)return[0,0];t==null&&(t=Infinity),n=n||0;var r,i;for(i=0;i<e.length;i++){r=e.charCodeAt(i),r==9?n+=this.getScreenTabSize(n):r>=4352&&g(r)?n+=2:n+=1;if(n>t)break}return[n,i]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),!this.$useWrapMode||!this.$wrapData[e]?t:this.$wrapData[e].length+t},this.getRowLineCount=function(e){return!this.$useWrapMode||!this.$wrapData[e]?1:this.$wrapData[e].length+1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:undefined},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var r,i=0,s=0,o,u=0,a=0,f=this.$screenRowCache,l=this.$getRowCacheIndex(f,e),c=f.length;if(c&&l>=0)var u=f[l],i=this.$docRowCache[l],h=e>f[c-1];else var h=!c;var p=this.getLength()-1,d=this.getNextFoldLine(i),v=d?d.start.row:Infinity;while(u<=e){a=this.getRowLength(i);if(u+a>e||i>=p)break;u+=a,i++,i>v&&(i=d.end.row+1,d=this.getNextFoldLine(i,d),v=d?d.start.row:Infinity),h&&(this.$docRowCache.push(i),this.$screenRowCache.push(u))}if(d&&d.start.row<=i)r=this.getFoldDisplayLine(d),i=d.start.row;else{if(u+a<=e||i>p)return{row:p,column:this.getLine(p).length};r=this.getLine(i),d=null}var m=0,g=Math.floor(e-u);if(this.$useWrapMode){var y=this.$wrapData[i];y&&(o=y[g],g>0&&y.length&&(m=y.indent,s=y[g-1]||y[y.length-1],r=r.substring(s)))}return n!==undefined&&this.$bidiHandler.isBidiRow(u+g,i,g)&&(t=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(r,t-m)[1],this.$useWrapMode&&s>=o&&(s=o-1),d?d.idxToPosition(s):{row:i,column:s}},this.documentToScreenPosition=function(e,t){if(typeof t=="undefined")var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r=0,i=null,s=null;s=this.getFoldAt(e,t,1),s&&(e=s.start.row,t=s.start.column);var o,u=0,a=this.$docRowCache,f=this.$getRowCacheIndex(a,e),l=a.length;if(l&&f>=0)var u=a[f],r=this.$screenRowCache[f],c=e>a[l-1];else var c=!l;var h=this.getNextFoldLine(u),p=h?h.start.row:Infinity;while(u<e){if(u>=p){o=h.end.row+1;if(o>e)break;h=this.getNextFoldLine(o,h),p=h?h.start.row:Infinity}else o=u+1;r+=this.getRowLength(u),u=o,c&&(this.$docRowCache.push(u),this.$screenRowCache.push(r))}var d="";h&&u>=p?(d=this.getFoldDisplayLine(h,e,t),i=h.start.row):(d=this.getLine(e).substring(0,t),i=e);var v=0;if(this.$useWrapMode){var m=this.$wrapData[i];if(m){var g=0;while(d.length>=m[g])r++,g++;d=d.substring(m[g-1]||0,d.length),v=g>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[u]&&this.lineWidgets[u].rowsAbove&&(r+=this.lineWidgets[u].rowsAbove),{row:r,column:v+this.$getStringScreenWidth(d)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(!this.$useWrapMode){e=this.getLength();var n=this.$foldData;for(var r=0;r<n.length;r++)t=n[r],e-=t.end.row-t.start.row}else{var i=this.$wrapData.length,s=0,r=0,t=this.$foldData[r++],o=t?t.start.row:Infinity;while(s<i){var u=this.$wrapData[s];e+=u?u.length+1:1,s++,s>o&&(s=t.end.row+1,t=this.$foldData[r++],o=t?t.start.row:Infinity)}}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){if(!this.$enableVarChar)return;this.$getStringScreenWidth=function(t,n,r){if(n===0)return[0,0];n||(n=Infinity),r=r||0;var i,s;for(s=0;s<t.length;s++){i=t.charAt(s),i==="	"?r+=this.getScreenTabSize(r):r+=e.getCharacterWidth(i);if(r>n)break}return[r,s]}},this.destroy=function(){this._signal("destroy",this),this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),d.removeWorkers(this),this.removeAllListeners(),this.selection.detach()},this.isFullWidth=g}.call(v.prototype),e("./edit_session/folding").Folding.call(v.prototype),e("./edit_session/bracket_match").BracketMatch.call(v.prototype),o.defineOptions(v.prototype,"session",{keepRedoStack:{set:function(e){this.getUndoManager().$keepRedoStack=e}},highlightErrorRegions:{set:function(e){var t=this;e?o.loadModule("ace/ext/inline_marker",function(n){e&&!t.$inlineMarkers&&(t.$inlineMarkers=new n.InlineMarkers(t))}):t.$inlineMarkers&&(t.$inlineMarkers.detach(),t.$inlineMarkers=null)},value:!0},wrap:{set:function(e){!e||e=="off"?e=!1:e=="free"?e=!0:e=="printMargin"?e=-1:typeof e=="string"&&(e=parseInt(e,10)||!1);if(this.$wrap==e)return;this.$wrap=e;if(!e)this.setUseWrapMode(!1);else{var t=typeof e=="number"?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){e=e=="auto"?this.$mode.type!="text":e!="text",e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this._signal("changeUseWorkerOption",e),this.$useWorker?d.updateWorkers(this):d.removeWorkers(this)},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){e=parseInt(e),e>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=v}),ace.define("ace/search",[],function(e,t,n){"use strict";function u(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}var r=e("./lib/lang"),i=e("./lib/oop"),s=e("./range").Range,o=function(){this.$options={}};(function(){function e(e){var t=e.flags;return t!==null?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}function t(t,n){var r=e(t),i=r;for(var s=0;s<n.length;s++)i.indexOf(n.charAt(s))==-1&&(i+=n.charAt(s));return r==i?t:new RegExp(t.source,i)}function n(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function o(e,t,n,r,i){for(var s=n.row,o=n.column,u=r.end.row;s<=u;s++,o=0){t.lastIndex=o;var a=e.getLine(s),f=t.exec(a);while(f){if(s==u&&f.index+f[0].length>r.end.column)return;if(i(s,f.index,s,f.index+f[0].length,f))return!0;o=f.index+(f[0].length||1),t.lastIndex=o,f=t.exec(a)}}}function a(e,t,r,i,s){if(!n(t))return o(e,t,r,i,s);var u,a=1;for(var f=r.row,l=r.column,c=i.end.row;f<=c;){for(var h=0;h<a;h++){if(f>c)break;var p=e.getLine(f++);u=u==null?p:u+"\n"+p}a*=2,t.lastIndex=l;var d=t.exec(u);while(d){var v=u.slice(0,d.index).split("\n"),m=d[0].split("\n"),g=r.row+v.length-1,y=v[v.length-1].length,b=m.length==1?y+m[0].length:m[m.length-1].length;if(g==c&&b>i.end.column)return;if(s(g,y,g+m.length-1,b,d))return!0;l=d.index+(d[0].length||1),t.lastIndex=l,d=t.exec(u)}}}function f(e,t){var n=-1,r,i=0;for(;;){t.lastIndex=i;var s=t.exec(e);if(!s)return r;if(s.index+s[0].length<=n){i++;continue}r=s,n=r.index+r[0].length,i=r.index+1;if(n>e.length)return r}}function l(e,n,r,i,s){n=t(n,"g");for(var o=r.row,u=r.column,a=i.start.row;o>=a;o--,u=-1){var l=e.getLine(o);u>-1&&(l=l.slice(0,u));var c=f(l,n);while(c){if(o==a&&c.index<i.start.column)return;if(s(o,c.index,o,c.index+c[0].length,c))return!0;u=c.index;var h=l.slice(0,u);if(h==l){if(!l.length)break;h=l.slice(0,l.length-1)}l=h;var c=f(l,n)}}}function c(e,t,r,i,s){if(!n(t))return l(e,t,r,i,s);var o,u=1;for(var a=r.row,c=i.start.row;a>=c;){for(var h=0;h<u;h++){var p=e.getLine(a--);o=o==null?p.slice(0,r.column):p+"\n"+o}u*=2;var d=f(o,t);while(d){var v=o.slice(0,d.index).split("\n"),m=d[0].split("\n"),g=a+v.length,y=v[v.length-1].length;if(g==c&&y<i.start.column)return;if(s(g,y,g+m.length-1,m.length==1?y+m[0].length:m[m.length-1].length,d))return!0;var b=d.index,w=o.slice(0,b);if(w==o){if(!o.length)break;w=o.slice(0,o.length-1)}o=w,d=f(o,t)}}}this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e};var h=function(e,t){var n=t.re;if(!n)return!1;var r=e.getDocument(),i=t.range?s.fromPoints(t.range.start,t.range.end):null,o=t.backwards===!0,u=t.skipCurrent!==!1,f=t.start;f||(f=i?i[o?"end":"start"]:e.selection.getRange());if(f.start){var l=f[u!=o?"end":"start"];u&&!s.comparePoints(f.start,f.end)&&(!o||l.column>0?l.column+=o?-1:1:l.row-=1),f=l}i||(i=s.fromPoints({row:0,column:0},r.clippedPos(Number.MAX_VALUE,Number.MAX_VALUE))),this.findNext=function(e){if((o?c:a)(r,n,f,i,e))return;if(t.wrap===!1)return;if(o){c(r,n,i.end,i,function(t,n,r,i,s){return r<f.row||r==f.row&&i<=f.column?!0:e(t,n,r,i,s)});return}a(r,n,i.start,i,function(t,n,r,i,s){return t>f.row||t==f.row&&n>=f.column?!0:e(t,n,r,i,s)});return}};this.find=function(e){var t=this.$options;if(!t.needle)return!1;this.$assembleRegExp(t);var n=this.iterator=new h(e,t);if(!n)return!1;var r;return n.findNext(function(e,t,n,i,o){return r=new s(e,t,n,i),r.match=o,!0}),r},this.getSearchIterator=function(e,t){var n=this.$options;return n.needle?(this.$assembleRegExp(n),t&&(n.skipCurrent=!1,n.start=n.range?n.range[n.backwards?"end":"start"]:{row:0,column:0}),new h(e,n)):!1},this.findAll=function(e,t,n,r,i){var o=this.$options;if(!o.needle)return!1;this.$assembleRegExp(o),o.skipCurrent=!1,o.start=o.range?o.range[o.backwards?"end":"start"]:{row:0,column:0};var u=this.iterator=new h(e,o);if(!u)return!1;var a=[];return r?u.findNext(function(e,t,n,r,i){var o=new s(e,t,n,r);o.match=i,a.push(o)}):u.findNext(function(e,t,n,r){return a.push(new s(e,t,n,r)),!1}),o.backwards?a.reverse():a},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n)),e.wholeWord&&(n=u(n,e));var i=e.caseSensitive?"gm":"gmi";/\r\n|\r|\n/.test(n)?(n=n.replace(/\r\n|\r|\n/g,"$\n^"),e.$isMultiline=!0):e.$isMultiline=!1;var s=new RegExp(n,i);return e.re=s},this.replace=function(e,t,n){var r=this.$options;if(!n){this.$assembleRegExp(r),n=r.re.exec(e);if(!n||n[0].length!=e.length)return null}r.regExp&&(t=t.replace(/\\(\\|n|r|t)/g,function(e,t){switch(t){case"\\":return"\\";case"r":return"\r";case"n":return"\n";case"t":return"	"}}),t=t.replace(/\$(\d{1,3}|\$|\&|<\w+>)/g,function(t,r){return r=="$"?r:r=="&"?e:r[0]=="<"?n.groups&&n.groups[r.substring(1,r.length-1)]||"":n[r]===undefined?"$"+r:n[r]}));if(r.preserveCase){t=t.split("");for(var i=Math.min(t.length,e.length);i--;){var s=e[i];s&&s.toLowerCase()!=s?t[i]=t[i].toUpperCase():t[i]=t[i].toLowerCase()}t=t.join("")}return t}}).call(o.prototype),t.Search=o}),ace.define("ace/keyboard/hash_handler",[],function(e,t,n){"use strict";function o(e,t){this.platform=t||(i.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function u(e,t){o.call(this,e,t),this.$singleCommand=!1}var r=e("../lib/keys"),i=e("../lib/useragent"),s=r.KEY_MODS;u.prototype=o.prototype,function(){function e(e){return typeof e=="object"&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&(typeof e=="string"?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var s=r[i];if(s==e)delete r[i];else if(Array.isArray(s)){var o=s.indexOf(e);o!=-1&&(s.splice(o,1),s.length==1&&(r[i]=s[0]))}}},this.bindKey=function(e,t,n){typeof e=="object"&&e&&(n==undefined&&(n=e.position),e=e[this.platform]);if(!e)return;if(typeof t=="function")return this.addCommand({exec:t,bindKey:e,name:t.name||e});e.split("|").forEach(function(e){var r="";if(e.indexOf(" ")!=-1){var i=e.split(/\s+/);e=i.pop(),i.forEach(function(e){var t=this.parseKeys(e),n=s[t.hashId]+t.key;r+=(r?" ":"")+n,this._addCommandToBinding(r,"chainKeys")},this),r+=" "}var o=this.parseKeys(e),u=s[o.hashId]+o.key;this._addCommandToBinding(r+u,t,n)},this)},this._addCommandToBinding=function(t,n,r){var i=this.commandKeyBinding,s;if(!n)delete i[t];else if(!i[t]||this.$singleCommand)i[t]=n;else{Array.isArray(i[t])?(s=i[t].indexOf(n))!=-1&&i[t].splice(s,1):i[t]=[i[t]],typeof r!="number"&&(r=e(n));var o=i[t];for(s=0;s<o.length;s++){var u=o[s],a=e(u);if(a>r)break}o.splice(s,0,n)}},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(!n)return;if(typeof n=="string")return this.bindKey(n,t);typeof n=="function"&&(n={exec:n});if(typeof n!="object")return;n.name||(n.name=t),this.addCommand(n)},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),i=r[n];if(r.FUNCTION_KEYS[i])n=r.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(t.length==1&&t[0]=="shift")return{key:n.toUpperCase(),hashId:-1}}var s=0;for(var o=t.length;o--;){var u=r.KEY_MODS[t[o]];if(u==null)return typeof console!="undefined"&&console.error("invalid modifier "+t[o]+" in "+e),!1;s|=u}return{key:n,hashId:s}},this.findKeyCommand=function(t,n){var r=s[t]+n;return this.commandKeyBinding[r]},this.handleKeyboard=function(e,t,n,r){if(r<0)return;var i=s[t]+n,o=this.commandKeyBinding[i];e.$keyChain&&(e.$keyChain+=" "+i,o=this.commandKeyBinding[e.$keyChain]||o);if(o)if(o=="chainKeys"||o[o.length-1]=="chainKeys")return e.$keyChain=e.$keyChain||i,{command:"null"};if(e.$keyChain)if(!!t&&t!=4||n.length!=1){if(t==-1||r>0)e.$keyChain=""}else e.$keyChain=e.$keyChain.slice(0,-i.length-1);return{command:o}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(o.prototype),t.HashHandler=o,t.MultiHashHandler=u}),ace.define("ace/commands/command_manager",[],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../keyboard/hash_handler").MultiHashHandler,s=e("../lib/event_emitter").EventEmitter,o=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};r.inherits(o,i),function(){r.implement(this,s),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}typeof e=="string"&&(e=this.commands[e]);if(!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(this.$checkCommandState!=0&&e.isAvailable&&!e.isAvailable(t))return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),i.returnValue===!1?!1:!0},this.toggleRecording=function(e){if(this.$inReplay)return;return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(this.$inReplay||!this.macro)return;if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t=="string"?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}},this.trimMacro=function(e){return e.map(function(e){return typeof e[0]!="string"&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(o.prototype),t.CommandManager=o}),ace.define("ace/commands/default_commands",[],function(e,t,n){"use strict";function o(e,t){return{win:e,mac:t}}var r=e("../lib/lang"),i=e("../config"),s=e("../range").Range;t.commands=[{name:"goToNextError",bindKey:o("Alt-E|F4","F4"),exec:function(e){i.loadModule("./ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:o("Alt-Shift-E|Shift-F4","Shift-F4"),exec:function(e){i.loadModule("./ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(e,t){typeof t=="number"&&!isNaN(t)&&e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:o("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:o("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(e){i.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty(),n=t?e.selection.getLineRange():e.selection.getRange();e._emit("cut",n),n.isEmpty()||e.session.remove(n),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(e){i.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:o(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(e){var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),o=e.session.doc.getLine(n.row).length,u=e.session.doc.getTextRange(e.selection.getRange()),a=u.replace(/\n\s*/," ").length,f=e.session.doc.getLine(n.row);for(var l=n.row+1;l<=i.row+1;l++){var c=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(l)));c.length!==0&&(c=" "+c),f+=c}i.row+1<e.session.doc.getLength()-1&&(f+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new s(n.row,0,i.row+2,0),f),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(o=e.session.doc.getLine(n.row).length>o?o+1:o,e.selection.moveCursorTo(n.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var o=0;o<r.length;o++)o==r.length-1&&(r[o].end.row!==t||r[o].end.column!==n)&&i.push(new s(r[o].end.row,r[o].end.column,t,n)),o===0?(r[o].start.row!==0||r[o].start.column!==0)&&i.push(new s(0,0,r[o].start.row,r[o].start.column)):i.push(new s(r[o-1].end.row,r[o-1].end.column,r[o].start.row,r[o].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var o=0;o<i.length;o++)e.selection.addRange(i[o],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),t.row===0&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:o("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var u=1;u<9;u++)t.commands.push({name:"foldToLevel"+u,description:"Fold To Level "+u,level:u,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/editor",[],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/oop"),i=e("./lib/dom"),s=e("./lib/lang"),o=e("./lib/useragent"),u=e("./keyboard/textinput").TextInput,a=e("./mouse/mouse_handler").MouseHandler,f=e("./mouse/fold_handler").FoldHandler,l=e("./keyboard/keybinding").KeyBinding,c=e("./edit_session").EditSession,h=e("./search").Search,p=e("./range").Range,d=e("./lib/event_emitter").EventEmitter,v=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,g=e("./config"),y=e("./token_iterator").TokenIterator,b=e("./clipboard"),w=function(e,t,n){this.$toDestroy=[];var r=e.getContainerElement();this.container=r,this.renderer=e,this.id="editor"+ ++w.$uid,this.commands=new v(o.isMac?"mac":"win",m),typeof document=="object"&&(this.textInput=new u(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new a(this),new f(this)),this.keyBinding=new l(this),this.$search=(new h).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||n&&n.session||new c("")),g.resetOptions(this),n&&this.setOptions(n),g._signal("editor",this)};w.$uid=0,function(){r.implement(this,d),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&e.returnValue===!1||!this.session)return this.curOp=null;if(e==1&&this.curOp.command&&this.curOp.command.name=="mouse")return;this._signal("beforeEndOperation");if(!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break;default:}n=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var s=this.selection.toJSON();this.curOp.selectionAfter=s,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(s),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(!this.$mergeUndoDeltas)return;var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if(e.command.name=="insertstring"){var i=e.args;this.mergeNextCommand===undefined&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&n.indexOf(e.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:n.indexOf(e.command.name)!==-1&&(this.sequenceStartTime=Date.now())},this.setKeyboardHandler=function(e,t){if(e&&typeof e=="string"&&e!="ace"){this.$keybindingId=e;var n=this;g.loadModule(["keybinding",e],function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session==e)return;this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?t==1?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.$highlightPending)return;var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(!t||!t.bgTokenizer)return;t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach(function(e){t.removeMarker(e)}),t.$bracketHighlight=null);var n=t.getMatchingBracketRanges(e.getCursorPosition());!n&&t.$mode.getMatching&&(n=t.$mode.getMatching(e.session));if(!n)return;var r="ace_bracket";Array.isArray(n)?n.length==1&&(r="ace_error_bracket"):n=[n],n.length==2&&(p.comparePoints(n[0].end,n[1].start)==0?n=[p.fromPoints(n[0].start,n[1].end)]:p.comparePoints(n[0].start,n[1].end)==0&&(n=[p.fromPoints(n[1].start,n[0].end)])),t.$bracketHighlight={ranges:n,markerIds:n.map(function(e){return t.addMarker(e,r,"text")})}},50)},this.$highlightTags=function(){if(this.$highlightTagPending)return;var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(!t||!t.bgTokenizer)return;var n=e.getCursorPosition(),r=new y(e.session,n.row,n.column),i=r.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type)){t.removeMarker(t.$tagHighlight),t.$tagHighlight=null;return}if(i.type.indexOf("tag-open")!==-1){i=r.stepForward();if(!i)return}var s=i.value,o=i.value,u=0,a=r.stepBackward();if(a.value==="<"){do a=i,i=r.stepForward(),i&&(i.type.indexOf("tag-name")!==-1?(o=i.value,s===o&&(a.value==="<"?u++:a.value==="</"&&u--)):s===o&&i.value==="/>"&&u--);while(i&&u>=0)}else{do{i=a,a=r.stepBackward();if(i)if(i.type.indexOf("tag-name")!==-1)s===i.value&&(a.value==="<"?u++:a.value==="</"&&u--);else if(i.value==="/>"){var f=0,l=a;while(l){if(l.type.indexOf("tag-name")!==-1&&l.value===s){u--;break}if(l.value==="<")break;l=r.stepBackward(),f++}for(var c=0;c<f;c++)r.stepForward()}}while(a&&u<=0);r.stepForward()}if(!i){t.removeMarker(t.$tagHighlight),t.$tagHighlight=null;return}var h=r.getCurrentTokenRow(),d=r.getCurrentTokenColumn(),v=new p(h,d,h,d+i.value.length),m=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&m!=undefined&&v.compareRange(m.range)!==0&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(v,"ace_bracket","text"))},50)},this.focus=function(){var e=this;setTimeout(function(){e.isFocused()||e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){if(this.$isFocused)return;this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e)},this.onBlur=function(e){if(!this.$isFocused)return;this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e)},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:Infinity;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e=this.getSession(),t;if(this.$highlightActiveLine){if(this.$selectionStyle!="line"||!this.selection.isMultiLine())t=this.getCursorPosition();this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(t=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(t=!1)}if(e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var n=new p(t.row,t.column,t.row,Infinity);n.id=e.addMarker(n,"ace_active-line","screenLine"),e.$highlightLineMarker=n}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null;if(!this.selection.isEmpty()){var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}else this.$updateHighlightActiveLine();var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(t.isEmpty()||t.isMultiLine())return;var n=t.start.column,r=t.end.column,i=e.getLine(t.start.row),s=i.substring(n,r);if(s.length>5e3||!/[\w\d]/.test(s))return;var o=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s}),u=i.substring(n-1,r+1);if(!o.test(u))return;return o},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;var r=this.selection.getAllRanges();for(var i=0;i<r.length;i++){var s=r[i];if(i&&r[i-1].start.row==s.start.row)continue;e+=this.session.getLine(s.start.row)+t}}var o={text:e};return this._signal("copy",o),b.lineMode=n?o.text:"",o.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){typeof e=="string"&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t==b.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach(function(e){r.insert({row:e.start.row,column:0},t)});else{var i=t.split(/\r\n|\r|\n/),s=this.selection.rangeList.ranges,o=i.length==2&&(!i[0]||!i[1]);if(i.length!=s.length||o)return this.commands.exec("insertstring",this,t);for(var u=s.length;u--;){var a=s[u];a.isEmpty()||r.remove(a),r.insert(a.start,i[u])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var s=r.transformAction(n.getState(i.row),"insertion",this,n,e);s&&(e!==s.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=s.text)}e=="	"&&(e=this.session.getTabString());if(!this.selection.isEmpty()){var o=this.getSelectionRange();i=this.session.remove(o),this.clearSelection()}else if(this.session.getOverwrite()&&e.indexOf("\n")==-1){var o=new p.fromPoints(i,i);o.end.column+=e.length,this.session.remove(o)}if(e=="\n"||e=="\r\n"){var u=n.getLine(i.row);if(i.column>u.search(/\S|$/)){var a=u.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+a)}}this.clearSelection();var f=i.column,l=n.getState(i.row),u=n.getLine(i.row),c=r.checkOutdent(l,u,e);n.insert(i,e),s&&s.selection&&(s.selection.length==2?this.selection.setSelectionRange(new p(i.row,f+s.selection[0],i.row,f+s.selection[1])):this.selection.setSelectionRange(new p(i.row+s.selection[0],s.selection[1],i.row+s.selection[2],s.selection[3])));if(this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var h=r.getNextLineIndent(l,u.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},h)}c&&r.autoOutdent(l,n,i.row)}},this.autoIndent=function(){var e=this.session,t=e.getMode(),n,r;if(this.selection.isEmpty())n=0,r=e.doc.getLength()-1;else{var i=this.getSelectionRange();n=i.start.row,r=i.end.row}var s="",o="",u="",a,f,l,c=e.getTabString();for(var h=n;h<=r;h++)h>0&&(s=e.getState(h-1),o=e.getLine(h-1),u=t.getNextLineIndent(s,o,c)),a=e.getLine(h),f=t.$getIndent(a),u!==f&&(f.length>0&&(l=new p(h,0,h,f.length),e.remove(l)),u.length>0&&e.insert({row:h,column:0},u)),t.autoOutdent(s,e,h)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){if(t.extendLeft||t.extendRight){var n=this.selection.getRange();n.start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),!e&&!n.isEmpty()&&this.remove()}(e||!this.selection.isEmpty())&&this.insert(e,!0);if(t.restoreStart||t.restoreEnd){var n=this.selection.getRange();n.start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n)}},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&(e=="left"?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);if(t.end.column===0){var s=n.getTextRange(t);if(s[s.length-1]=="\n"){var o=n.getLine(t.end.row);/^\s+$/.test(o)&&(t.end.column=o.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(!this.selection.isEmpty())return;var e=this.getCursorPosition(),t=e.column;if(t===0)return;var n=this.session.getLine(e.row),r,i;t<n.length?(r=n.charAt(t)+n.charAt(t-1),i=new p(e.row,t-1,e.row,t+1)):(r=n.charAt(t-1)+n.charAt(t-2),i=new p(e.row,t-2,e.row,t)),this.session.replace(i,r),this.session.selection.moveToPosition(i.end)},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();e.indentRows(n.first,n.last,"	");return}if(t.start.column<t.end.column){var r=e.getTextRange(t);if(!/^\s+$/.test(r)){var n=this.$getSelectedRows();e.indentRows(n.first,n.last,"	");return}}var i=e.getLine(t.start.row),o=t.start,u=e.getTabSize(),a=e.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var f=u-a%u,l=s.stringRepeat(" ",f);else{var f=a%u;while(i[t.start.column-1]==" "&&f)t.start.column--,f--;this.selection.setSelectionRange(t),l="	"}return this.insert(l)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"	")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(var r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});var i=new p(0,0,0,0);for(var r=e.first;r<=e.last;r++){var s=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=s.length,t.replace(i,n[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;var r=this.session.getLine(e);while(n.lastIndex<t){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t){var s={value:i[0],start:i.index,end:i.index+i[0].length};return s}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new p(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var s=this.getNumberAt(t,n);if(s){var o=s.value.indexOf(".")>=0?s.start+s.value.indexOf(".")+1:s.end,u=s.start+s.value.length-o,a=parseFloat(s.value);a*=Math.pow(10,u),o!==s.end&&n<o?e*=Math.pow(10,s.end-n-1):e*=Math.pow(10,s.end-n),a+=e,a/=Math.pow(10,u);var f=a.toFixed(u),l=new p(t,s.start,t,s.end);this.session.replace(l,f),this.moveCursorTo(t,Math.max(s.start+1,n+f.length-s.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),r=this.selection.getWordRange().start.column,i=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),o=t-r-1;o<0&&(o=0);var u=0,a=0,f=this;n.match(/[A-Za-z0-9_]+/)&&i.forEach(function(t,i){a=u+t.length,o>=u&&o<=a&&(n=t,f.selection.clearSelection(),f.moveCursorTo(e,u+r),f.selection.selectTo(e,a+r)),u=a});var l=this.$toggleWordPairs,c;for(var h=0;h<l.length;h++){var p=l[h];for(var d=0;d<=1;d++){var v=+!d,m=n.match(new RegExp("^\\s?_?("+s.escapeRegExp(p[d])+")\\s?$","i"));if(m){var g=n.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(m[1])+")($|\\s)","g"));g&&(c=n.replace(new RegExp(s.escapeRegExp(p[d]),"i"),function(e){var t=p[v];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[v].charAt(0).toUpperCase()+t.substr(1)),t}),this.insert(c),c="")}}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var s=r?n.start:n.end,o=t.insert(s,t.getTextRange(n),!1);n.start=s,n.end=o,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var s=i.toOrientedRange();n=this.$getSelectedRows(s),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&e==-1&&(r=0),s.moveBy(r,0),i.fromOrientedRange(s)}else{var o=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;var u=0,a=0,f=o.length;for(var l=0;l<f;l++){var c=l;o[l].moveBy(u,0),n=this.$getSelectedRows(o[l]);var h=n.first,p=n.last;while(++l<f){a&&o[l].moveBy(a,0);var d=this.$getSelectedRows(o[l]);if(t&&d.first!=p)break;if(!t&&d.first>p+1)break;p=d.last}l--,u=this.session.$moveLines(h,p,t?0:e),t&&e==-1&&(c=l+1);while(c<=l)o[c].moveBy(u,0),c++;t||(u=0),a+=u}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(i,0)}):t===!1&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection());var s=n.scrollTop;n.scrollBy(0,i*r.lineHeight),t!=null&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new y(this.session,n.row,n.column),i=r.getCurrentToken(),s=i||r.stepForward();if(!s)return;var o,u=!1,a={},f=n.column-s.start,l,c={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(s.value.match(/[{}()\[\]]/g))for(;f<s.value.length&&!u;f++){if(!c[s.value[f]])continue;l=c[s.value[f]]+"."+s.type.replace("rparen","lparen"),isNaN(a[l])&&(a[l]=0);switch(s.value[f]){case"(":case"[":case"{":a[l]++;break;case")":case"]":case"}":a[l]--,a[l]===-1&&(o="bracket",u=!0)}}else s.type.indexOf("tag-name")!==-1&&(isNaN(a[s.value])&&(a[s.value]=0),i.value==="<"?a[s.value]++:i.value==="</"&&a[s.value]--,a[s.value]===-1&&(o="tag",u=!0));u||(i=s,s=r.stepForward(),f=0)}while(s&&!u);if(!o)return;var h,d;if(o==="bracket"){h=this.session.getBracketRange(n);if(!h){h=new p(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+f-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+f-1),d=h.start;if(t||d.row===n.row&&Math.abs(d.column-n.column)<2)h=this.session.getBracketRange(d)}}else if(o==="tag"){if(!s||s.type.indexOf("tag-name")===-1)return;var v=s.value;h=new p(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2);if(h.compare(n.row,n.column)===0){u=!1;do s=i,i=r.stepBackward(),i&&(i.type.indexOf("tag-close")!==-1&&h.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),s.value===v&&s.type.indexOf("tag-name")!==-1&&(i.value==="<"?a[v]++:i.value==="</"&&a[v]--,a[v]===0&&(u=!0)));while(i&&!u)}s&&s.type.indexOf("tag-name")&&(d=h.start,d.row==n.row&&Math.abs(d.column-n.column)<2&&(d=h.end))}d=h&&h.cursor||d,d&&(e?h&&t?this.selection.setRange(h):h&&h.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(d.row,d.column):this.selection.moveTo(d.row,d.column))},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(!this.selection.isEmpty()){var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}else{e=e||1;while(e--)this.selection.moveCursorLeft()}this.clearSelection()},this.navigateRight=function(e){if(!this.selection.isEmpty()){var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}else{e=e||1;while(e--)this.selection.moveCursorRight()}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session,undefined,undefined,!0),r=0;if(!n.length)return r;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=n.length-1;s>=0;--s)this.$tryReplace(n[s],e)&&r++;return this.selection.setSelectionRange(i),r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t,e.match),t!==null?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),typeof e=="string"||e instanceof RegExp?t.needle=e:typeof e=="object"&&r.mixin(t,e);var i=this.selection.getRange();t.needle==null&&(e=this.session.getTextRange(i)||this.$search.$options.needle,e||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var s=this.$search.find(this.session);if(t.preventScroll)return s;if(s)return this.revealRange(s,n),s;t.backwards?i.start=i.end:i.end=i.start,this.selection.setRange(i)},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(e){e.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(!e)return;var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var s=this.on("changeSelection",function(){r=!0}),o=this.renderer.on("beforeRender",function(){r&&(t=n.renderer.container.getBoundingClientRect())}),u=this.renderer.on("afterRender",function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,s=e.getCursorPixelPosition(),o=e.layerConfig,u=s.top-o.offset;s.top>=0&&u+t.top<0?r=!0:s.top<o.height&&s.top+t.top+o.lineHeight>window.innerHeight?r=!1:r=null,r!=null&&(i.style.top=u+"px",i.style.left=s.left+"px",i.style.height=o.lineHeight+"px",i.scrollIntoView(r)),r=t=null}});this.setAutoScrollEditorIntoView=function(e){if(e)return;delete this.setAutoScrollEditorIntoView,this.off("changeSelection",s),this.renderer.off("afterRender",u),this.renderer.off("beforeRender",o)}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;if(!t)return;t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&e!="wide",i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e))},this.prompt=function(e,t,n){var r=this;g.loadModule("./ext/prompt",function(i){i.prompt(r,e,t,n)})}}.call(w.prototype),g.defineOptions(w.prototype,"editor",{highlightErrorRegions:"session",keepRedoStack:"session",showErrorOnClick:{set:function(e){if(e){var t=this;this.$inlineMarkerClickListener||(this.$inlineMarkerClickListener=function(e){var n=t.session,r=n&&n.$inlineMarkers,i=r&&t.renderer.getClickPosition(e);i&&r.showError(t,i)},this.on("click",this.$inlineMarkerClickListener))}else this.$inlineMarkerClickListener&&(this.off("click",this.$inlineMarkerClickListener),this.$inlineMarkerClickListener=null)},value:!0},selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?E.attach(this):E.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?E.attach(this):E.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),i.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!e&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),i.addCssClass(this.container,"ace_hasPlaceholder");var t=i.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",hideNonLatinChars:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",scrollableGutter:"renderer",lineSpacing:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",highlightErrorRegions:"session",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var E={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"\u00b7":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=w}),ace.define("ace/undomanager",[],function(e,t,n){"use strict";function i(e,t){for(var n=t;n--;){var r=e[n];if(r&&!r[0].ignore){while(n<t-1){var i=d(e[n],e[n+1]);e[n]=i[0],e[n+1]=i[1],n++}return!0}}}function a(e){var t=e.action=="insert",n=e.start,r=e.end,i=(r.row-n.row)*(t?1:-1),s=(r.column-n.column)*(t?1:-1);t&&(r=n);for(var o in this.marks){var a=this.marks[o],f=u(a,n);if(f<0)continue;if(f===0&&t){if(a.bias!=1){a.bias==-1;continue}f=1}var l=t?f:u(a,r);if(l>0){a.row+=i,a.column+=a.row==r.row?s:0;continue}!t&&l<=0&&(a.row=n.row,a.column=n.column,l===0&&(a.bias=1))}}function f(e){return{row:e.row,column:e.column}}function l(e){return{start:f(e.start),end:f(e.end),action:e.action,lines:e.lines.slice()}}function c(e){e=e||this;if(Array.isArray(e))return e.map(c).join("\n");var t="";e.action?(t=e.action=="insert"?"+":"-",t+="["+e.lines+"]"):e.value&&(Array.isArray(e.value)?t=e.value.map(h).join("\n"):t=h(e.value)),e.start&&(t+=h(e));if(e.id||e.rev)t+="	("+(e.id||e.rev)+")";return t}function h(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function p(e,t){var n=e.action=="insert",r=t.action=="insert";if(n&&r)if(o(t.start,e.end)>=0)m(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;m(e,t,1)}else if(n&&!r)if(o(t.start,e.end)>=0)m(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;m(e,t,-1)}else if(!n&&r)if(o(t.start,e.start)>=0)m(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;m(e,t,1)}else if(!n&&!r)if(o(t.start,e.start)>=0)m(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;m(e,t,-1)}return[t,e]}function d(e,t){for(var n=e.length;n--;)for(var r=0;r<t.length;r++)if(!p(e[n],t[r])){while(n<e.length){while(r--)p(t[r],e[n]);r=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function v(e,t){var n=e.action=="insert",r=t.action=="insert";if(n&&r)o(e.start,t.start)<0?m(t,e,1):m(e,t,1);else if(n&&!r)o(e.start,t.end)>=0?m(e,t,-1):o(e.start,t.start)<=0?m(t,e,1):(m(e,s.fromPoints(t.start,e.start),-1),m(t,e,1));else if(!n&&r)o(t.start,e.end)>=0?m(t,e,-1):o(t.start,e.start)<=0?m(e,t,1):(m(t,s.fromPoints(e.start,t.start),-1),m(e,t,1));else if(!n&&!r)if(o(t.start,e.end)>=0)m(t,e,-1);else{if(!(o(t.end,e.start)<=0)){var i,u;return o(e.start,t.start)<0&&(i=e,e=y(e,t.start)),o(e.end,t.end)>0&&(u=y(e,t.end)),g(t.end,e.start,e.end,-1),u&&!i&&(e.lines=u.lines,e.start=u.start,e.end=u.end,u=e),[t,i,u].filter(Boolean)}m(e,t,-1)}return[t,e]}function m(e,t,n){g(e.start,t.start,t.end,n),g(e.end,t.start,t.end,n)}function g(e,t,n,r){e.row==(r==1?t:n).row&&(e.column+=r*(n.column-t.column)),e.row+=r*(n.row-t.row)}function y(e,t){var n=e.lines,r=e.end;e.end=f(t);var i=e.end.row-e.start.row,s=n.splice(i,n.length),o=i?t.column:t.column-e.start.column;n.push(s[0].substring(0,o)),s[0]=s[0].substr(o);var u={start:f(t),end:r,lines:s,action:e.action};return u}function b(e,t){t=l(t);for(var n=e.length;n--;){var r=e[n];for(var i=0;i<r.length;i++){var s=r[i],o=v(s,t);t=o[0],o.length!=2&&(o[2]?(r.splice(i+1,1,o[1],o[2]),i++):o[1]||(r.splice(i,1),i--))}r.length||e.splice(n,1)}return e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];for(var i=0;i<r.length;i++)b(e,r[i])}}var r=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){if(this.$fromUndo)return;if(e==this.$lastDelta)return;this.$keepRedoStack||(this.$redoStack.length=0);if(t===!1||!this.lastDeltas)this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev;if(e.action=="remove"||e.action=="insert")this.$lastDelta=e;this.lastDeltas.push(e)},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){t==null&&(t=this.$rev+1);var n=this.$undoStack;for(var r=n.length;r--;){var i=n[r][0];if(i.id<=e)break;i.id<t&&(i.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){var n=this.selections;for(var r=n.length;r--;){var i=n[r];if(i.rev<e)return t&&(i=n[r+1]),i}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){t==null&&(t=this.$rev+1);var n=this.$undoStack,r=null,i=0;for(var s=n.length;s--;){var o=n[s][0];o.id<t&&!r&&(r=s+1);if(o.id<=e){i=s+1;break}}return n.slice(i,r)},this.getChangedRanges=function(e,t){t==null&&(t=this.$rev+1)},this.getChangedLines=function(e,t){t==null&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(!i(n,n.length))return;e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var r=n.pop(),s=null;return r&&(s=e.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,s},this.redo=function(e,t){this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0;if(this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);w(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(e){e[0].id=++this.$maxRev},this)}var r=this.$redoStack.pop(),i=null;return r&&(i=e.redoChanges(r,t),this.$undoStack.push(r),this.$syncRev()),this.$fromUndo=!1,i},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){e==undefined&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?c(e):c(this.$undoStack)+"\n---\n"+c(this.$redoStack)}}).call(r.prototype);var s=e("./range").Range,o=s.comparePoints,u=s.comparePoints;t.UndoManager=r}),ace.define("ace/layer/lines",[],function(e,t,n){"use strict";var r=e("../lib/dom"),i=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){r.translate(this.element,0,-(e.firstRowScreen*e.lineHeight%this.canvasHeight)-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var r=t.firstRowScreen*t.lineHeight,i=Math.floor(r/this.canvasHeight),s=n.documentToScreenRow(e,0)*t.lineHeight;return s-i*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);var t=r.createFragment(this.element);for(var n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);var t=r.createFragment(this.element);for(var n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){if(!e)return;e.element.remove(),this.cellCache.push(e)},this.createCell=function(e,t,n,i){var s=this.cellCache.pop();if(!s){var o=r.createElement("div");i&&i(o),this.element.appendChild(o),s={element:o,text:"",row:e}}return s.row=e,s}}).call(i.prototype),t.Lines=i}),ace.define("ace/layer/gutter",[],function(e,t,n){"use strict";function f(e){var t=document.createTextNode("");e.appendChild(t);var n=r.createElement("span");return e.appendChild(n),e}var r=e("../lib/dom"),i=e("../lib/oop"),s=e("../lib/lang"),o=e("../lib/event_emitter").EventEmitter,u=e("./lines").Lines,a=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new u(this.element),this.$lines.$offsetCoefficient=1};(function(){i.implement(this,o),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[]});var o=n.text;o=o?s.escapeHTML(o):n.html||"",i.text.indexOf(o)===-1&&i.text.push(o);var u=n.type;u=="error"?i.className=" ace_error":u=="warning"&&i.className!=" ace_error"?i.className=" ace_warning":u=="info"&&!i.className&&(i.className=" ace_info")}},this.$updateAnnotations=function(e){if(!this.$annotations.length)return;var t=e.start.row,n=e.end.row-t;if(n!==0)if(e.action=="remove")this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=r,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();var i=t.getNextFoldLine(n),s=i?i.start.row:Infinity,o=null,u=-1,a=n;for(;;){a>s&&(a=i.end.row+1,i=t.getNextFoldLine(a,i),s=i?i.start.row:Infinity);if(a>r){while(this.$lines.getLength()>u+1)this.$lines.pop();break}o=this.$lines.get(++u),o?o.row=a:(o=this.$lines.createCell(a,e,this.session,f),this.$lines.push(o)),this.$renderCell(o,e,i,a),a++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,r=t.$firstLineNumber,i=this.$lines.last()?this.$lines.last().text:"";if(this.$fixedWidth||t.$useWrapMode)i=t.getLength()+r-1;var s=n?n.getWidth(t,i,e):i.toString().length*e.characterWidth,o=this.$padding||this.$computePadding();s+=o.left+o.right,s!==this.gutterWidth&&!isNaN(s)&&(this.gutterWidth=s,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",s))},this.$updateCursorRow=function(){if(!this.$highlightGutterLine)return;var e=this.session.selection.getCursor();if(this.$cursorRow===e.row)return;this.$cursorRow=e.row},this.updateLineHighlight=function(){if(!this.$highlightGutterLine)return;var e=this.session.selection.cursor.row;this.$cursorRow=e;if(this.$cursorCell&&this.$cursorCell.row==e)return;this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var r=t[n];if(r.row>=this.$cursorRow){if(r.row>this.$cursorRow){var i=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&i&&i.start.row==t[n-1].row))break;r=t[n-1]}r.element.className="ace_gutter-active-line "+r.element.className,this.$cursorCell=r;break}}},this.scrollLines=function(e){var t=this.config;this.config=e,this.$updateCursorRow();if(this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),r=this.oldLastRow;this.oldLastRow=n;if(!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(r>n)for(var i=this.session.getFoldedRowCount(n+1,r);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>r&&this.$lines.push(this.$renderLines(e,r+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){var r=[],i=t,s=this.session.getNextFoldLine(i),o=s?s.start.row:Infinity;for(;;){i>o&&(i=s.end.row+1,s=this.session.getNextFoldLine(i,s),o=s?s.start.row:Infinity);if(i>n)break;var u=this.$lines.createCell(i,e,this.session,f);this.$renderCell(u,e,s,i),r.push(u),i++}return r},this.$renderCell=function(e,t,n,i){var s=e.element,o=this.session,u=s.childNodes[0],a=s.childNodes[1],f=o.$firstLineNumber,l=o.$breakpoints,c=o.$decorations,h=o.gutterRenderer||this.$renderer,p=this.$showFoldWidgets&&o.foldWidgets,d=n?n.start.row:Number.MAX_VALUE,v="ace_gutter-cell ";this.$highlightGutterLine&&(i==this.$cursorRow||n&&i<this.$cursorRow&&i>=d&&this.$cursorRow<=n.end.row)&&(v+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),l[i]&&(v+=l[i]),c[i]&&(v+=c[i]),this.$annotations[i]&&(v+=this.$annotations[i].className),s.className!=v&&(s.className=v);if(p){var m=p[i];m==null&&(m=p[i]=o.getFoldWidget(i))}if(m){var v="ace_fold-widget ace_"+m;m=="start"&&i==d&&i<n.end.row?v+=" ace_closed":v+=" ace_open",a.className!=v&&(a.className=v);var g=t.lineHeight+"px";r.setStyle(a.style,"height",g),r.setStyle(a.style,"display","inline-block")}else a&&r.setStyle(a.style,"display","none");var y=(h?h.getText(o,i):i+f).toString();return y!==u.data&&(u.data=y),r.setStyle(e.element.style,"height",this.$lines.computeLineHeight(i,t,o)+"px"),r.setStyle(e.element.style,"top",this.$lines.computeLineTop(i,t,o)+"px"),e.text=y,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();if(e.x<t.left+n.left)return"markers";if(this.$showFoldWidgets&&e.x>n.right-t.right)return"foldWidgets"}}).call(a.prototype),t.Gutter=a}),ace.define("ace/layer/marker",[],function(e,t,n){"use strict";var r=e("../range").Range,i=e("../lib/dom"),s=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,n,r){return(e?1:0)|(t?2:0)|(n?4:0)|(r?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=this.i!=-1&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(!e)return;this.config=e,this.i=0;var t;for(var n in this.markers){var r=this.markers[n];if(!r.range){r.update(t,this,this.session,e);continue}var i=r.range.clipRows(e.firstRow,e.lastRow);if(i.isEmpty())continue;i=i.toScreenRange(this.session);if(r.renderer){var s=this.$getTop(i.start.row,e),o=this.$padding+i.start.column*e.characterWidth;r.renderer(t,i,o,s,e)}else r.type=="fullLine"?this.drawFullLineMarker(t,i,r.clazz,e):r.type=="screenLine"?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?r.type=="text"?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+" ace_start"+" ace_br15",e)}if(this.i!=-1)while(this.i<this.element.childElementCount)this.element.removeChild(this.element.lastChild)},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,n,i,s,o){var u=this.session,a=n.start.row,f=n.end.row,l=a,c=0,h=0,p=u.getScreenLastRowColumn(l),d=new r(l,n.start.column,l,h);for(;l<=f;l++)d.start.row=d.end.row=l,d.start.column=l==a?n.start.column:u.getRowWrapIndent(l),d.end.column=p,c=h,h=p,p=l+1<f?u.getScreenLastRowColumn(l+1):l==f?0:n.end.column,this.drawSingleLineMarker(t,d,i+(l==a?" ace_start":"")+" ace_br"+e(l==a||l==a+1&&n.start.column,c<h,h>p,l==f),s,l==f?0:1,o)},this.drawMultiLineMarker=function(e,t,n,r,i){var s=this.$padding,o=r.lineHeight,u=this.$getTop(t.start.row,r),a=s+t.start.column*r.characterWidth;i=i||"";if(this.session.$bidiHandler.isBidiRow(t.start.row)){var f=t.clone();f.end.row=f.start.row,f.end.column=this.session.getLine(f.start.row).length,this.drawBidiSingleLineMarker(e,f,n+" ace_br1 ace_start",r,null,i)}else this.elt(n+" ace_br1 ace_start","height:"+o+"px;"+"right:0;"+"top:"+u+"px;left:"+a+"px;"+(i||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var f=t.clone();f.start.row=f.end.row,f.start.column=0,this.drawBidiSingleLineMarker(e,f,n+" ace_br12",r,null,i)}else{u=this.$getTop(t.end.row,r);var l=t.end.column*r.characterWidth;this.elt(n+" ace_br12","height:"+o+"px;"+"width:"+l+"px;"+"top:"+u+"px;"+"left:"+s+"px;"+(i||""))}o=(t.end.row-t.start.row-1)*r.lineHeight;if(o<=0)return;u=this.$getTop(t.start.row+1,r);var c=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(c?" ace_br"+c:""),"height:"+o+"px;"+"right:0;"+"top:"+u+"px;"+"left:"+s+"px;"+(i||""))},this.drawSingleLineMarker=function(e,t,n,r,i,s){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,r,i,s);var o=r.lineHeight,u=(t.end.column+(i||0)-t.start.column)*r.characterWidth,a=this.$getTop(t.start.row,r),f=this.$padding+t.start.column*r.characterWidth;this.elt(n,"height:"+o+"px;"+"width:"+u+"px;"+"top:"+a+"px;"+"left:"+f+"px;"+(s||""))},this.drawBidiSingleLineMarker=function(e,t,n,r,i,s){var o=r.lineHeight,u=this.$getTop(t.start.row,r),a=this.$padding,f=this.session.$bidiHandler.getSelections(t.start.column,t.end.column);f.forEach(function(e){this.elt(n,"height:"+o+"px;"+"width:"+e.width+(i||0)+"px;"+"top:"+u+"px;"+"left:"+(a+e.left)+"px;"+(s||""))},this)},this.drawFullLineMarker=function(e,t,n,r,i){var s=this.$getTop(t.start.row,r),o=r.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,r)-s),this.elt(n,"height:"+o+"px;"+"top:"+s+"px;"+"left:0;right:0;"+(i||""))},this.drawScreenLineMarker=function(e,t,n,r,i){var s=this.$getTop(t.start.row,r),o=r.lineHeight;this.elt(n,"height:"+o+"px;"+"top:"+s+"px;"+"left:0;right:0;"+(i||""))}}).call(s.prototype),t.Marker=s}),ace.define("ace/layer/text",[],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/dom"),s=e("../lib/lang"),o=e("./lines").Lines,u=e("../lib/event_emitter").EventEmitter,a=function(e){this.dom=i,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)};(function(){r.implement(this,u),this.EOF_CHAR="\u00b6",this.EOL_CHAR_LF="\u00ac",this.EOL_CHAR_CRLF="\u00a4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\u00b7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t=e.getNewLineCharacter()=="\n"&&e.getNewLineMode()!="windows",n=t?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=n)return this.EOL_CHAR=n,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,typeof e=="string"?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;var t=this.$tabStrings=[0];for(var n=1;n<e+1;n++)if(this.showTabs){var r=this.dom.createElement("span");r.className="ace_invisible ace_invisible_tab",r.textContent=s.stringRepeat(this.TAB_CHAR,n),t.push(r)}else t.push(this.dom.createTextNode(s.stringRepeat(" ",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide",o=this.showSpaces?" ace_invisible ace_invisible_space":"",u=this.showSpaces?s.stringRepeat(this.SPACE_CHAR,this.tabSize):s.stringRepeat(" ",this.tabSize),a=this.showTabs?" ace_invisible ace_invisible_tab":"",f=this.showTabs?s.stringRepeat(this.TAB_CHAR,this.tabSize):u,r=this.dom.createElement("span");r.className=i+o,r.textContent=u,this.$tabStrings[" "]=r;var r=this.dom.createElement("span");r.className=i+a,r.textContent=f,this.$tabStrings["	"]=r}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),s=this.element.childNodes,o=0;for(var u=e.firstRow;u<r;u++){var a=this.session.getFoldLine(u);if(a){if(a.containsRow(r)){r=a.start.row;break}u=a.end.row}o++}var f=!1,u=r,a=this.session.getNextFoldLine(u),l=a?a.start.row:Infinity;for(;;){u>l&&(u=a.end.row+1,a=this.session.getNextFoldLine(u,a),l=a?a.start.row:Infinity);if(u>i)break;var c=s[o++];if(c){this.dom.removeChildren(c),this.$renderLine(c,u,u==l?a:!1),f&&(c.style.top=this.$lines.computeLineTop(u,e,this.session)+"px");var h=e.lineHeight*this.session.getRowLength(u)+"px";c.style.height!=h&&(f=!0,c.style.height=h)}u++}if(f)while(o<this.$lines.cells.length){var p=this.$lines.cells[o++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;this.config=e;if(this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,r=t?t.lastRow:-1;if(!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(t.lastRow>e.lastRow)for(var i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,n){var r=[],s=t,o=this.session.getNextFoldLine(s),u=o?o.start.row:Infinity;for(;;){s>u&&(s=o.end.row+1,o=this.session.getNextFoldLine(s,o),u=o?o.start.row:Infinity);if(s>n)break;var a=this.$lines.createCell(s,e,this.session),f=a.element;this.dom.removeChildren(f),i.setStyle(f.style,"height",this.$lines.computeLineHeight(s,e,this.session)+"px"),i.setStyle(f.style,"top",this.$lines.computeLineTop(s,e,this.session)+"px"),this.$renderLine(f,s,s==u?o:!1),this.$useLineGroups()?f.className="ace_line_group":f.className="ace_line",r.push(a),s++}return r},this.update=function(e){this.$lines.moveContainer(e),this.config=e;var t=e.firstRow,n=e.lastRow,r=this.$lines;while(r.getLength())r.pop();r.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){var i=this,o;this.$hideNonLatinChars?o=/(\t)|( +)|([^\x20-\x7e\u00a0-\u017f]+)/g:o=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g;var u=this.dom.createFragment(this.element),a,f=0;while(a=o.exec(r)){var l=a[1],c=a[2],h=a[3],p=a[4],d=a[5];if(!i.showSpaces&&c)continue;var v=f!=a.index?r.slice(f,a.index):"";f=a.index+a[0].length,v&&u.appendChild(this.dom.createTextNode(v,this.element));if(l){var m=i.session.getScreenTabSize(t+a.index);u.appendChild(i.$tabStrings[m].cloneNode(!0)),t+=m-1}else if(c)if(i.showSpaces){var g=this.dom.createElement("span");g.className="ace_invisible ace_invisible_space",g.textContent=s.stringRepeat(i.SPACE_CHAR,c.length),u.appendChild(g)}else u.appendChild(this.com.createTextNode(c,this.element));else if(h){var g=this.dom.createElement("span");g.className="ace_invisible ace_invisible_space ace_invalid",g.textContent=s.stringRepeat(i.SPACE_CHAR,h.length),u.appendChild(g)}else if(p){t+=1;var g=this.dom.createElement("span");g.style.width=i.config.characterWidth*2+"px",g.className=i.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",g.textContent=i.showSpaces?i.SPACE_CHAR:p,u.appendChild(g)}else if(d){t+=1;var g=this.dom.createElement("span");g.style.width=i.config.characterWidth*2+"px",g.className="ace_cjk",g.textContent=d,u.appendChild(g)}}u.appendChild(this.dom.createTextNode(f?r.slice(f):r,this.element));if(!this.$textToken[n.type]){var y="ace_"+n.type.replace(/\./g," ace_"),g=this.dom.createElement("span");n.type=="fold"&&(g.style.width=n.value.length*this.config.characterWidth+"px"),g.className=y,g.appendChild(u),e.appendChild(g)}else e.appendChild(u);return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);if(r<=0||r>=n)return t;if(t[0]==" "){r-=r%this.tabSize;var i=r/this.tabSize;for(var s=0;s<i;s++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(r)}if(t[0]=="	"){for(var s=0;s<r;s++)e.appendChild(this.$tabStrings["	"].cloneNode(!0));return t.substr(r)}return t},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var r=0,i=0,o=n[0],u=0,a=this.$createLineElement();e.appendChild(a);for(var f=0;f<t.length;f++){var l=t[f],c=l.value;if(f==0&&this.displayIndentGuides){r=c.length,c=this.renderIndentGuide(a,c,o);if(!c)continue;r-=c.length}if(r+c.length<o)u=this.$renderToken(a,u,l,c),r+=c.length;else{while(r+c.length>=o)u=this.$renderToken(a,u,l,c.substring(0,o-r)),c=c.substring(o-r),r=o,a=this.$createLineElement(),e.appendChild(a),a.appendChild(this.dom.createTextNode(s.stringRepeat("\u00a0",n.indent),this.element)),i++,u=0,o=n[i]||Number.MAX_VALUE;c.length!=0&&(r+=c.length,u=this.$renderToken(a,u,l,c))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(a,u,null,"",!0)},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],i=r.value;this.displayIndentGuides&&(i=this.renderIndentGuide(e,i)),i&&(n=this.$renderToken(e,n,r,i));for(var s=1;s<t.length;s++){r=t[s],i=r.value;if(n+i.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,r,i);n=this.$renderToken(e,n,r,i)}},this.$renderOverflowMessage=function(e,t,n,r,i){n&&this.$renderToken(e,t,n,r.slice(0,this.MAX_LINE_LENGTH-t));var s=this.dom.createElement("span");s.className="ace_inline_button ace_keyword ace_toggle_wrap",s.textContent=i?"<hide>":"<click to see more...>",e.appendChild(s)},this.$renderLine=function(e,t,n){!n&&n!=0&&(n=this.session.getFoldLine(t));if(n)var r=this.$getFoldLineTokens(t,n);else var r=this.session.getTokens(t);var i=e;if(r.length){var s=this.session.getRowSplitData(t);if(s&&s.length){this.$renderWrappedLine(e,r,s);var i=e.lastChild}else{var i=e;this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i)),this.$renderSimpleLine(i,r)}}else this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i));if(this.showEOL&&i){n&&(t=n.end.row);var o=this.dom.createElement("span");o.className="ace_invisible ace_invisible_eol",o.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,i.appendChild(o)}},this.$getFoldLineTokens=function(e,t){function i(e,t,n){var i=0,s=0;while(s+e[i].value.length<t){s+=e[i].value.length,i++;if(i==e.length)return}if(s!=t){var o=e[i].value.substring(t-s);o.length>n-t&&(o=o.substring(0,n-t)),r.push({type:e[i].type,value:o}),s=t+o.length,i+=1}while(s<n&&i<e.length){var o=e[i].value;o.length+s>n?r.push({type:e[i].type,value:o.substring(0,n-s)}):r.push(e[i]),s+=o.length,i+=1}}var n=this.session,r=[],s=n.getTokens(e);return t.walk(function(e,t,o,u,a){e!=null?r.push({type:"fold",value:e}):(a&&(s=n.getTokens(t)),s.length&&i(s,u,o))},t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(a.prototype),t.Text=a}),ace.define("ace/layer/cursor",[],function(e,t,n){"use strict";var r=e("../lib/dom"),i=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){var t=this.cursors;for(var n=t.length;n--;)r.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){var e=this.cursors;for(var t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";setTimeout(function(){r.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){r.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),e(!0);if(!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));if(r.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),r=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),i=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:i}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;if(t===undefined||t.length===0)t=[{cursor:null}];for(var n=0,s=t.length;n<s;n++){var o=this.getPixelPosition(t[n].cursor,!0);if((o.top>e.height+e.offset||o.top<0)&&n>1)continue;var u=this.cursors[i++]||this.addCursor(),a=u.style;this.drawCursor?this.drawCursor(u,o,e,t[n],this.session):this.isCursorInView(o,e)?(r.setStyle(a,"display","block"),r.translate(u,o.left,o.top),r.setStyle(a,"width",Math.round(e.characterWidth)+"px"),r.setStyle(a,"height",e.lineHeight+"px")):r.setStyle(a,"display","none")}while(this.cursors.length>i)this.removeCursor();var f=this.session.getOverwrite();this.$setOverwrite(f),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(i.prototype),t.Cursor=i}),ace.define("ace/scrollbar",[],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),s=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter,u=32768,a=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\u00a0",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),this.element.addEventListener?this.element.addEventListener("mousedown",s.preventDefault,{passive:!1}):s.addListener(this.element,"mousedown",s.preventDefault)};(function(){r.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(a.prototype);var f=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument)||15,this.inner.style.width=this.element.style.width=this.width+5+"px",this.$minWidth=0};r.inherits(f,a),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){this.scrollTop=this.element.scrollTop;if(this.coeff!=1){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>u?(this.coeff=u/e,e=u):this.coeff!=1&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(f.prototype);var l=function(e,t){a.call(this,e),this.scrollLeft=0,this.scrollWidth=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(l,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.scrollWidth=e,this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.scrollWidth=e,this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(l.prototype),t.ScrollBar=f,t.ScrollBarV=f,t.ScrollBarH=l,t.VScrollBar=f,t.HScrollBar=l}),ace.define("ace/renderloop",[],function(e,t,n){"use strict";var r=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;t&&(r.blockIdle(100),n.changes=0,n.onRender(t));if(n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(r.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(i.prototype),t.RenderLoop=i}),ace.define("ace/layer/font_metrics",[],function(e,t,n){var r=e("../lib/oop"),i=e("../lib/dom"),s=e("../lib/lang"),o=e("../lib/event"),u=e("../lib/useragent"),a=e("../lib/event_emitter").EventEmitter,f=256,l=typeof ResizeObserver=="function",c=200,h=t.FontMetrics=function(e){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=s.stringRepeat("X",f),this.$characterSize={width:0,height:0},l?this.$addObserver():this.checkForSizeChanges()};(function(){r.implement(this,a),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",u.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){e===undefined&&(e=this.$measureSizes());if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver(function(t){e.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=o.onIdle(function t(){e.checkForSizeChanges(),o.onIdle(t,500)},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/f};return t.width===0||t.height===0?null:t},this.$measureCharWidth=function(e){this.$main.textContent=s.stringRepeat(e,f);var t=this.$main.getBoundingClientRect();return t.width/f},this.getCharacterWidth=function(e){var t=this.charSizes[e];return t===undefined&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return!t||!t.parentElement?1:(window.getComputedStyle(t).zoom||1)*e(t.parentElement)},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=i.buildDom([e(0,0),e(c,0),e(0,c),e(c,c)],this.el)},this.transformCoordinates=function(e,t){function r(e,t,n){var r=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/r,(+e[1]*n[0]-e[0]*n[1])/r]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function s(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function u(e){var t=e.getBoundingClientRect();return[t.left,t.top]}if(e){var n=this.$getZoom(this.el);e=o(1/n,e)}this.els||this.$initTransformMeasureNodes();var a=u(this.els[0]),f=u(this.els[1]),l=u(this.els[2]),h=u(this.els[3]),p=r(i(h,f),i(h,l),i(s(f,l),s(h,a))),d=o(1+p[0],i(f,a)),v=o(1+p[1],i(l,a));if(t){var m=t,g=p[0]*m[0]/c+p[1]*m[1]/c+1,y=s(o(m[0],d),o(m[1],v));return s(o(1/g/c,y),a)}var b=i(e,a),w=r(i(d,o(p[0],b)),i(v,o(p[1],b)),b);return o(c,w)}}).call(h.prototype)}),ace.define("ace/virtual_renderer",[],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),s=e("./config"),o=e("./layer/gutter").Gutter,u=e("./layer/marker").Marker,a=e("./layer/text").Text,f=e("./layer/cursor").Cursor,l=e("./scrollbar").HScrollBar,c=e("./scrollbar").VScrollBar,h=e("./renderloop").RenderLoop,p=e("./layer/font_metrics").FontMetrics,d=e("./lib/event_emitter").EventEmitter,v='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;z-index: 0;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 1.5em;padding-right: 6px;background-repeat: no-repeat;background-size: contain;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_wide-line-spacing{line-height: 1.7em;}.ace_wide-line-spacing .ace_line,.ace_wide-line-spacing .ace_gutter-cell{padding-top: 0.25em;}.ace_normal-line-spacing{line-height: 1.5em;}.ace_normal-line-spacing .ace_line,.ace_normal-line-spacing .ace_gutter-cell{padding-top: 0.1em;}.ace_wider-line-spacing{line-height: 2em;}.ace_wider-line-spacing .ace_line,.ace_wider-line-spacing .ace_gutter-cell{padding-top: 0.35em;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_inline_annotation{border-radius: 0;z-index: 3;min-width: 15px;border-bottom: 3px double;opacity: 0.7;position: absolute;}.ace_inline_error {border-bottom-color: #e51c23;}.ace_inline_warning {border-bottom-color: #ff9800;}.ace_inline_default {border-bottom-color: #4CAF50;}.ace_inline_info {border-bottom-color: #2196F3;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;overflow: auto;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 18px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -16px 0 1px;display: none;width: 15px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;z-index: 2;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',m=e("./lib/useragent"),g=m.isIE;i.importCssString(v,"ace_editor.css");var y=function(e,t){var n=this;this.container=e||i.createElement("div"),i.addCssClass(this.container,"ace_editor"),i.HI_DPI&&i.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new o(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new u(this.content);var r=this.$textLayer=new a(this.content);this.canvas=r.element,this.$markerFront=new u(this.content),this.$cursorLayer=new f(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new c(this.container,this),this.scrollBarH=new l(this.container,this),this.scrollBarV.on("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.on("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.extraMargins=[{left:0,right:0,top:0,bottom:0}],this.margin={left:0,right:0,h:0},this.$keepTextAreaAtCursor=!m.isIOS,this.$scrollGutterWidth=0,this.$loop=new h(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),s.resetOptions(this),s._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,d),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),i.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),e&&this.scrollMargin.left&&e.getScrollLeft()<=0&&e.setScrollLeft(-this.scrollMargin.left),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e);if(!e)return;this.$showGutter&&e.$gutterWidth&&e.$gutterWidth!==(this.$scrollGutterWidth||this.gutterWidth)&&(this.$updateCachedSize(!0,e.$gutterWidth,this.$size.width,this.$size.height),this.$gutterLayer.element.parentNode.style.width=this.$gutterLayer.element.style.width=Math.ceil(e.$gutterWidth)+"px"),this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode)},this.updateLines=function(e,t,n){t===undefined&&(t=Infinity),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t};if(this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}if(this.$changedLines.firstRow>this.layerConfig.lastRow)return;this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(this.resizing>2)return;this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var s=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var s=0,o=this.$size,u={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};r&&(e||o.height!=r)&&(o.height=r,s|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",s|=this.CHANGE_SCROLL);if(n&&(e||o.width!=n)){s|=this.CHANGE_SIZE,o.width=n,this.$scrollableGutter?t=0:(t==null&&(t=this.$showGutter?this.$gutter.offsetWidth:0),i.translate(this.$gutter,this.margin.left,0)),this.gutterWidth=t,i.setStyle(this.scrollBarH.element.style,"left",t+this.margin.left+"px"),i.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),o.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h);var a=this.scrollBarV.getWidth()+this.margin.right+"px";i.setStyle(this.scrollBarV.element.style,"right",this.margin.right+"px"),i.setStyle(this.scrollBarH.element.style,"right",a),i.setStyle(this.scroller.style,"right",this.margin.right+"px"),i.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()+"px");if(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)s|=this.CHANGE_FULL}return o.$dirty=!n||!r,s&&this._signal("resize",u),s},this.onGutterResize=function(e){var t=this.$showGutter?e:0;this.session.$gutterWidth=e;if(this.$scrollableGutter){var n=this.$scrollGutterWidth;t=Math.ceil(t),t!==n&&(this.$scrollGutterWidth=t,this.$gutterScrollMargin.left=t,this.updateScrollMargins(),this.scrollBy(-t+n,0),this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height))}else t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height));this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-this.$padding*2-this.scrollMargin.h,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(!this.$showPrintMargin&&!this.$printMarginEl)return;if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$isMousePressed)return;var e=this.textarea.style,t=this.$composition;if(!this.$keepTextAreaAtCursor&&!t){i.translate(this.textarea,-100,0);return}var n=this.getCursorPixelPosition(null,!0);if(!n)return;t&&t.markerRange&&(n=this.getCursorPixelPosition(t.markerRange.start,!0));var r=this.layerConfig,s=n.top,o=n.left;s-=r.offset;var u=t&&t.useTextareaForIME||m.isMobile?this.lineHeight:g?0:1;if(s<0||s>r.height-u){i.translate(this.textarea,0,0);return}var a=1,f=this.$size.height-u;if(!!t)if(t.useTextareaForIME){var l=this.textarea.value;a=this.characterWidth*this.session.$getStringScreenWidth(l)[0]}else s+=this.lineHeight+2;o-=this.scrollLeft,o>this.$size.scrollerWidth-a&&(o=this.$size.scrollerWidth-a),o+=this.gutterWidth+this.margin.left,i.setStyle(e,"height",u+"px"),i.setStyle(e,"width",a+"px"),i.translate(this.textarea,Math.min(o,this.$size.scrollerWidth-a),Math.min(s,f))},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow,n=this.session.documentToScreenRow(t,0)*e.lineHeight;return n-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.addScrollMargin=function(e,t){this.extraMargins.indexOf(e)<0&&(e.left=e.left||0,e.right=e.right||0,e.top=e.top||0,e.bottom=e.bottom||0,this.extraMargins.push(e)),this.updateScrollMargins(t)},this.removeScrollMargin=function(e,t){var n=this.extraMargins.indexOf(e);n>0&&this.extraMargins.splice(n,1),this.updateScrollMargins(t)},this.updateScrollMargins=function(e){var t=0,n=0,r=0,i=0;return this.extraMargins.forEach(function(e){n+=e.left,r+=e.right,i+=e.bottom,t+=e.top}),this.setScrollMargin(t,i,n,r,!0)},this.setScrollMargin=function(e,t,n,r,i){var s=0;i?s=this.scrollMargin:s=this.extraMargins[0];var o=s.top;s.top=e|0,s.bottom=t|0,s.right=r|0,s.left=n|0,s.v=s.top+s.bottom,s.h=s.left+s.right;if(!i)return this.updateScrollMargins();s.top>o&&this.scrollTop<=1-o&&this.session&&this.session.setScrollTop(-s.top),this.updateFull()},this.setMargin=function(e,t,n,r){var i=this.margin;i.right=r|0,i.left=n|0,i.v=i.top+i.bottom,i.h=i.left+i.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){this.$changes&&(e|=this.$changes,this.$changes=0);if(!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t){this.$changes|=e;return}if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){e|=this.$computeLayerConfig()|this.$loop.clear();if(n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&(this.$updateScrollBarH(),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),i.translate(this.content,-this.scrollLeft,-n.offset),this.$scrollableGutter&&i.translate(this.$gutter,this.margin.left-this.scrollLeft-this.scrollMargin.left,0);var s=n.width+2*this.$padding+"px",o=n.minHeight+"px";i.setStyle(this.content.style,"width",s),i.setStyle(this.content.style,"height",o)}if(e&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this._signal("afterRender",e);return}if(e&this.CHANGE_SCROLL){this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this._signal("afterRender",e);return}e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(n):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=n<=2*this.lineHeight,i=!r&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var s=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.gutterWidth,s,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength(),i=r*this.lineHeight,s=this.$getLongestLine(),o=t.scrollerWidth-this.scrollMargin.h-s-2*this.$padding<0,u=!n&&(this.$hScrollBarAlwaysVisible||o);o||(this.scrollLeft=-this.scrollMargin.left);var a=this.$horizScroll!==u;a&&(this.$horizScroll=u,this.scrollBarH.setVisible(u));var f=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=c;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,i-t.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,s+2*this.$padding-t.scrollerWidth+h.right)));var p=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+c<0||this.scrollTop>h.top),d=f!==p;d&&(this.$vScroll=p,this.scrollBarV.setVisible(p));var v=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,g=Math.max(0,Math.round((this.scrollTop-v)/this.lineHeight)),y=g+m,b,w,E=this.lineHeight;g=e.screenToDocumentRow(g,0);var S=e.getFoldLine(g);S&&(g=S.start.row),b=e.documentToScreenRow(g,0),w=e.getRowLength(g)*E,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(y)*E+w,v=this.scrollTop-b*E;var x=0;if(this.layerConfig.width!=s||a)x=this.CHANGE_H_SCROLL;if(a||d)x|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(s=this.$getLongestLine());return this.layerConfig={width:s,padding:this.$padding,firstRow:g,firstRowScreen:b,lastRow:y,lineHeight:E,characterWidth:this.characterWidth,minHeight:l,maxHeight:i,offset:v,gutterOffset:E?Math.max(0,Math.ceil((v+t.height-t.scrollerHeight)/E)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(s-this.$padding),x},this.$updateLines=function(){if(!this.$changedLines)return;var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(e>n.lastRow+1)return;if(t<n.firstRow)return;if(t===Infinity){this.$showGutter&&this.$gutterLayer.update(n),this.$textLayer.update(n);return}return this.$textLayer.updateLines(n,e,t),!0},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding-this.scrollMargin.h,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.$minViewMarginTop=0,this.$minViewMarginBottom=0,this.getCursorPixelPosition=function(e,t){return this.$cursorLayer.getPixelPosition(e,t)},this.scrollCursorIntoView=function(e,t,n){if(this.$size.scrollerHeight===0)return;var r=this.getCursorPixelPosition(e),i=r.left,s=r.top,o=n&&n.top||0,u=n&&n.bottom||0;o<this.$minViewMarginTop&&(o=this.$minViewMarginTop),u<this.$minViewMarginBottom&&(u=this.$minViewMarginBottom);var a=this.scrollTop;a+o>s?(t&&a+o>s+this.lineHeight&&(s-=t*this.$size.scrollerHeight),this.session.setScrollTop(s-o)):a+this.$size.scrollerHeight-u<s+this.lineHeight&&(t&&a+this.$size.scrollerHeight-u<s-this.lineHeight&&(s+=t*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight+u-this.$size.scrollerHeight));var f=this.scrollLeft,l=this.$size.scrollerWidth,c=i<this.scrollMargin.left?this.scrollMargin.left-i:0;f>i-c-this.$padding?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=0),this.session.setScrollLeft(i-c)):f+l<i+this.characterWidth&&this.session.setScrollLeft(Math.ceil(i+this.characterWidth-l))},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t,n){typeof e=="number"&&(e={row:e,column:0},n=!0);var r=this.getCursorPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,s=r.top-i*(t||0);this.session.setScrollTop(s);if(!n){var o=r.left-this.$size.scrollerWidth*.5;this.session.setScrollLeft(o)}return s},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,r=this.STEPS,i=[],s=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<r;++n)i.push(s(n/this.STEPS,e,t-e));return i},this.scrollToLine=function(e,t,n,r){var i=this.getCursorPixelPosition({row:e,column:0}),s=i.top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),n!==!1&&this.animateScrolling(o,r)},this.isAnimatingScrolling=function(){return this.$scrollAnimation},this.stopAnimatingScrolling=function(){var e=this.$scrollAnimation;e&&(this.session.$scrollTop=-1,this.session.setScrollTop(e.toValue))},this.animateScrolling=function(e,t){var n=this.scrollTop;if(!this.$animatedScroll)return;var r=this;if(e==n)return;if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length){e=i[0];if(e==n)return}}var s=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:s},clearInterval(this.$timer),r.session.setScrollTop(s[0]),this.$timer=setInterval(function(){if(!r.session)return clearInterval(r.$timer);s.shift().length?r.session.setScrollTop(s[0]):n!=null?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())},10)},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e,this.$animatedScroll&&e!=this.$animatedScroll.steps[0]&&this.stopAnimatingScrolling())},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e,this.$loop.schedule(this.CHANGE_H_SCROLL))},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){if(t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top)return!0;if(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom)return!0;if(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left)return!0;if(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,s=i/this.characterWidth,o=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),u=this.$blockCursor?Math.floor(s):Math.round(s);return{row:o,column:u,side:s-u>0?1:-1,offsetX:i}},this.getClickPosition=function(e){var t=this.pixelToScreenCoordinates(e.clientX,e.clientY),n=this.session.screenToDocumentPosition(t.row,t.column),r=this.session.documentToScreenPosition(n),i=t.row-r.row;return i>2||i<-2?null:n},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,s=i/this.characterWidth,o=this.$blockCursor?Math.floor(s):Math.round(s),u=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(u,Math.max(o,0),i)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,e)?this.session.$bidiHandler.getPosLeft(r.column):Math.round(r.column*this.characterWidth)),s=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+s-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),e.useTextareaForIME==undefined&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(!this.$composition)return;this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),i.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""},this.addToken=function(e,t,n,r){var i=this.session;i.bgTokenizer.lines[n]=null;var s={type:t,value:e},o=i.getTokens(n);if(r==null)o.push(s);else{var u=0;for(var a=0;a<o.length;a++){var f=o[a];u+=f.value.length;if(r<=u){var l=f.value.length-(u-r),c=f.value.slice(0,l),h=f.value.slice(l);o.splice(a,1,{type:f.type,value:c},s,{type:f.type,value:h});break}}}this.updateLines(n,n)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){function o(r){if(n.$themeId!=e)return t&&t();if(!r||!r.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");r.$id&&(n.$themeId=r.$id),i.importCssString(r.cssText,r.cssClass,n.container),n.theme&&i.removeCssClass(n.container,n.theme.cssClass);var s="padding"in r?r.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&s!=n.$padding&&n.setPadding(s),n.$theme=r.cssClass,n.theme=r,i.addCssClass(n.container,r.cssClass),i.setCssClass(n.container,"ace_dark",r.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:r}),t&&t()}var n=this;this.$themeId=e,n._dispatchEvent("themeChange",{theme:e});if(!e||typeof e=="string"){var r=e||this.$options.theme.initialValue;s.loadModule(["theme",r],o)}else o(e)},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,t!==!1)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){i.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){i.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){i.importCssString(v,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(y.prototype),s.defineOptions(y.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){typeof e=="number"&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},scrollableGutter:{set:function(e){i.setCssClass(this.$gutter,"ace_scrollable_gutter",e),e?(this.$gutterScrollMargin?this.$gutterScrollMargin.left=this.gutterWidth:this.$gutterScrollMargin={left:this.gutterWidth},this.addScrollMargin(this.$gutterScrollMargin),this.onGutterResize(this.$gutterLayer.gutterWidth||0)):(this.removeScrollMargin(this.$gutterScrollMargin),this.scrollBy(this.$gutterLayer.gutterWidth||0,0),this.$scrollGutterWidth=0,this.onGutterResize(this.$gutterLayer.gutterWidth||0)),this.updateFull()},initialValue:!1},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){typeof e=="number"&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e?e+", monospace":"",this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},hideNonLatinChars:{set:function(e){this.$textLayer.$hideNonLatinChars=e,this.updateText()}},scrollPastEnd:{set:function(e){e=+e||0;if(this.$scrollPastEnd==e)return;this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},lineSpacing:{set:function(e){var t="";switch(e){case"wide":case"wider":case"normal":t="ace_"+e+"-line-spacing";break;default:e="narrow"}if(this.$lineSpacing==e)return;this.$lineSpacing&&i.removeCssClass(this.container,"ace_"+this.$lineSpacing+"-line-spacing"),this.$lineSpacing=e,t&&i.addCssClass(this.container,t),this.updateFontSize()},handlesSet:!0,value:"normal"},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!m.isMobile&&!m.isIE}}),t.VirtualRenderer=y}),ace.define("ace/worker/worker_client",[],function(e,t,n){"use strict";function u(e){var t="importScripts('"+i.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(n){var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,s=new r;return s.append(t),s.getBlob("application/javascript")}}function a(e){if(typeof Worker=="undefined")return{postMessage:function(){},terminate:function(){}};if(o.get("loadWorkerFromBlob")){var t=u(e),n=window.URL||window.webkitURL,r=n.createObjectURL(t);return new Worker(r)}return new Worker(e)}var r=e("../lib/oop"),i=e("../lib/net"),s=e("../lib/event_emitter").EventEmitter,o=e("../config"),f=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,s),this.$createWorkerFromOldConfig=function(t,n,r,i,s){e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl);if(o.get("packaged")||!e.toUrl)i=i||o.moduleUrl(n,"worker");else{var u=this.$normalizePath;i=i||u(e.toUrl("ace/worker/worker.js",null,"_"));var f={};t.forEach(function(t){f[t]=u(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=a(i),s&&this.send("importScripts",s),this.$worker.postMessage({init:!0,tlns:f,module:n,classname:r}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),e.action=="insert"?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;if(!e)return;this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e})}}).call(f.prototype);var l=function(e,t,n){var r=null,i=!1,u=Object.create(s),a=[],l=new f({messageBuffer:a,terminate:function(){},postMessage:function(e){a.push(e);if(!r)return;i?setTimeout(c):c()}});l.setEmitSync=function(e){i=e};var c=function(){var e=a.shift();e.command?r[e.command].apply(r,e.args):e.event&&u._signal(e.event,e.data)};return u.postMessage=function(e){l.onMessage({data:e})},u.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},u.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},o.loadModule(["worker",t],function(e){r=new e[n](u);while(a.length)c()}),l};t.UIWorkerClient=l,t.WorkerClient=f,t.createWorker=a}),ace.define("ace/placeholder",[],function(e,t,n){"use strict";var r=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,s=e("./lib/oop"),o=function(e,t,n,r,i,s){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=n;var u=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=u.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){s.implement(this,i),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(this.othersActive)return;var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)})},this.hideOtherMarkers=function(){if(!this.othersActive)return;this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row!==t.end.row)return;if(t.start.row!==this.pos.row)return;this.$updating=!0;var n=e.action==="insert"?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;this.updateAnchors(e),i&&(this.length+=n);if(i&&!this.session.$fromUndo)if(e.action==="insert")for(var o=this.others.length-1;o>=0;o--){var u=this.others[o],a={row:u.row,column:u.column+s};this.doc.insertMergedLines(a,e.lines)}else if(e.action==="remove")for(var o=this.others.length-1;o>=0;o--){var u=this.others[o],a={row:u.row,column:u.column+s};this.doc.remove(new r(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(this.$updating)return;var e=this,t=this.session,n=function(n,i){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),i,null,!1)};n(this.pos,this.mainClass);for(var i=this.others.length;i--;)n(this.others[i],this.othersClass)},this.onCursorChange=function(e){if(this.$updating||!this.session)return;var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth===-1)return;var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth;for(var n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}).call(o.prototype),t.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",[],function(e,t,n){function s(e,t){return e.row==t.row&&e.column==t.column}function o(e){var t=e.domEvent,n=t.altKey,o=t.shiftKey,u=t.ctrlKey,a=e.getAccelKey(),f=e.getButton();u&&i.isMac&&(f=t.button);if(e.editor.inMultiSelectMode&&f==2){e.editor.textInput.onContextMenu(e.domEvent);return}if(!u&&!n&&!a){f===0&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode();return}if(f!==0)return;var l=e.editor,c=l.selection,h=l.inMultiSelectMode,p=e.getDocumentPosition(),d=c.getCursor(),v=e.inSelection()||c.isEmpty()&&s(p,d),m=e.x,g=e.y,y=function(e){m=e.clientX,g=e.clientY},b=l.session,w=l.renderer.pixelToScreenCoordinates(m,g),E=w,S;if(l.$mouseHandler.$enableJumpToDef)u&&n||a&&n?S=o?"block":"add":n&&l.$blockSelectEnabled&&(S="block");else if(a&&!n){S="add";if(!h&&o)return}else n&&l.$blockSelectEnabled&&(S="block");S&&i.isMac&&t.ctrlKey&&l.$mouseHandler.cancelContextMenu();if(S=="add"){if(!h&&v)return;if(!h){var x=c.toOrientedRange();l.addSelectionMarker(x)}var T=c.rangeList.rangeAtPoint(p);l.inVirtualSelectionMode=!0,o&&(T=null,x=c.ranges[0]||x,l.removeSelectionMarker(x)),l.once("mouseup",function(){var e=c.toOrientedRange();T&&e.isEmpty()&&s(T.cursor,e.cursor)?c.substractPoint(e.cursor):(o?c.substractPoint(x.cursor):x&&(l.removeSelectionMarker(x),c.addRange(x)),c.addRange(e)),l.inVirtualSelectionMode=!1})}else if(S=="block"){e.stop(),l.inVirtualSelectionMode=!0;var N,C=[],k=function(){var e=l.renderer.pixelToScreenCoordinates(m,g),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);if(s(E,e)&&s(t,c.lead))return;E=e,l.selection.moveToPosition(t),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers(C),C=c.rectangularRangeBlock(E,w),l.$mouseHandler.$clickSelection&&C.length==1&&C[0].isEmpty()&&(C[0]=l.$mouseHandler.$clickSelection.clone()),C.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers()};h&&!a?c.toSingleRange():!h&&a&&(N=c.toOrientedRange(),l.addSelectionMarker(N)),o?w=b.documentToScreenPosition(c.lead):c.moveToPosition(p),E={row:-1,column:-1};var L=function(e){k(),clearInterval(O),l.removeSelectionMarkers(C),C.length||(C=[c.toOrientedRange()]),N&&(l.removeSelectionMarker(N),c.toSingleRange(N));for(var t=0;t<C.length;t++)c.addRange(C[t]);l.inVirtualSelectionMode=!1,l.$mouseHandler.$clickSelection=null},A=k;r.capture(l.container,y,L);var O=setInterval(function(){A()},20);return e.preventDefault()}}var r=e("../lib/event"),i=e("../lib/useragent");t.onMouseDown=o}),ace.define("ace/commands/multi_select_commands",[],function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)}),ace.define("ace/multi_select",[],function(e,t,n){function h(e,t,n){return c.$options.wrap=!0,c.$options.needle=t,c.$options.backwards=n==-1,c.find(e)}function v(e,t){return e.row==t.row&&e.column==t.column}function m(e){if(e.$multiselectOnSessionChange)return;e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",o),e.commands.addCommands(f.defaultCommands),g(e)}function g(e){function r(t){n&&(e.renderer.setMouseCursor(""),n=!1)}if(!e.textInput)return;var t=e.textInput.getElement(),n=!1;u.addListener(t,"keydown",function(t){var i=t.keyCode==18&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&i?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&r()},e),u.addListener(t,"keyup",r,e),u.addListener(t,"blur",r,e)}var r=e("./range_list").RangeList,i=e("./range").Range,s=e("./selection").Selection,o=e("./mouse/multi_select_handler").onMouseDown,u=e("./lib/event"),a=e("./lib/lang"),f=e("./commands/multi_select_commands");t.commands=f.defaultCommands.concat(f.multiSelectCommands);var l=e("./search").Search,c=new l,p=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(p.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(!e)return;if(!this.inMultiSelectMode&&this.rangeCount===0){var n=this.toOrientedRange();this.rangeList.add(n),this.rangeList.add(e);if(this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){this.rangeCount=this.rangeList.ranges.length;if(this.rangeCount==1&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){if(this.rangeList)return;this.rangeList=new r,this.ranges=[],this.rangeCount=0},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){var e=this.ranges.length?this.ranges:[this.getRange()],t=[];for(var n=0;n<e.length;n++){var r=e[n],s=r.start.row,o=r.end.row;if(s===o)t.push(r.clone());else{t.push(new i(s,r.start.column,s,this.session.getLine(s).length));while(++s<o)t.push(this.getLineRange(s,!0));t.push(new i(o,0,o,r.end.column))}n==0&&!this.isBackwards()&&(t=t.reverse())}this.toSingleRange();for(var n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.cursor),s=this.session.documentToScreenPosition(this.anchor),o=this.rectangularRangeBlock(r,s);o.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],s=e.column<t.column;if(s)var o=e.column,u=t.column,a=e.offsetX,f=t.offsetX;else var o=t.column,u=e.column,a=t.offsetX,f=e.offsetX;var l=e.row<t.row;if(l)var c=e.row,h=t.row;else var c=t.row,h=e.row;o<0&&(o=0),c<0&&(c=0),c==h&&(n=!0);var p;for(var d=c;d<=h;d++){var m=i.fromPoints(this.session.screenToDocumentPosition(d,o,a),this.session.screenToDocumentPosition(d,u,f));if(m.isEmpty()){if(p&&v(m.end,p))break;p=m.end}m.cursor=s?m.start:m.end,r.push(m)}l&&r.reverse();if(!n){var g=r.length-1;while(r[g].isEmpty()&&g>0)g--;if(g>0){var y=0;while(r[y].isEmpty())y++}for(var b=g;b>=y;b--)r[b].isEmpty()&&r.splice(b,1)}return r}}.call(s.prototype);var d=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(!e.marker)return;this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);t!=-1&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length},this.removeSelectionMarkers=function(e){var t=this.session.$selectionMarkers;for(var n=e.length;n--;){var r=e[n];if(!r.marker)continue;this.session.removeMarker(r.marker);var i=t.indexOf(r);i!=-1&&t.splice(i,1)}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){if(this.inMultiSelectMode)return;this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(f.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onSingleSelect=function(e){if(this.session.multiSelect.inVirtualMode)return;this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(f.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection")},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(!n.multiSelect)return;if(!t.multiSelectAction){var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}else t.multiSelectAction=="forEach"?r=n.forEachSelection(t,e.args):t.multiSelectAction=="forEachLine"?r=n.forEachSelection(t,e.args,!0):t.multiSelectAction=="single"?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});return r},this.forEachSelection=function(e,t,n){if(this.inVirtualSelectionMode)return;var r=n&&n.keepOrder,i=n==1||n&&n.$byLines,o=this.session,u=this.selection,a=u.rangeList,f=(r?u:a).ranges,l;if(!f.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var c=u._eventRegistry;u._eventRegistry={};var h=new s(o);this.inVirtualSelectionMode=!0;for(var p=f.length;p--;){if(i)while(p>0&&f[p].start.row==f[p-1].end.row)p--;h.fromOrientedRange(f[p]),h.index=p,this.selection=o.selection=h;var d=e.exec?e.exec(this,t||{}):e(this,t||{});!l&&d!==undefined&&(l=d),h.toOrientedRange(f[p])}h.detach(),this.selection=o.selection=u,this.inVirtualSelectionMode=!1,u._eventRegistry=c,u.mergeOverlappingRanges(),u.ranges[0]&&u.fromOrientedRange(u.ranges[0]);var v=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),v&&v.from==v.to&&this.renderer.animateScrolling(v.from),l},this.exitMultiSelectMode=function(){if(!this.inMultiSelectMode||this.inVirtualSelectionMode)return;this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var t=this.multiSelect.rangeList.ranges,n=[];for(var r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();e=n.join(i),e.length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){t=t||{},t.needle=e||t.needle;if(t.needle==undefined){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;var s=this.multiSelect;n||s.toSingleRange(i[0]);for(var o=i.length;o--;)s.addRange(i[o],!0);return r&&s.rangeList.rangeAtPoint(r.start)&&s.addRange(r,!0),i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,s=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(s.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(s.row+e,s.column);if(!n.isEmpty())var u=this.session.documentToScreenPosition(r?n.end:n.start),a=this.session.screenToDocumentPosition(u.row+e,u.column);else var a=o;if(r){var f=i.fromPoints(o,a);f.cursor=f.start}else{var f=i.fromPoints(a,o);f.cursor=f.end}f.desiredColumn=s.column;if(!this.selection.inMultiSelectMode)this.selection.addRange(n);else if(t)var l=n.cursor;this.selection.addRange(f),l&&this.selection.substractPoint(l)},this.transposeSelections=function(e){var t=this.session,n=t.multiSelect,r=n.ranges;for(var i=r.length;i--;){var s=r[i];if(s.isEmpty()){var o=t.getWordRange(s.start.row,s.start.column);s.start.row=o.start.row,s.start.column=o.start.column,s.end.row=o.end.row,s.end.column=o.end.column}}n.mergeOverlappingRanges();var u=[];for(var i=r.length;i--;){var s=r[i];u.unshift(t.getTextRange(s))}e<0?u.unshift(u.pop()):u.push(u.shift());for(var i=r.length;i--;){var s=r[i],o=s.clone();t.replace(s,u[i]),s.start.row=o.start.row,s.start.column=o.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var r=this.session,i=r.multiSelect,s=i.toOrientedRange();if(s.isEmpty()){s=r.getWordRange(s.start.row,s.start.column),s.cursor=e==-1?s.start:s.end,this.multiSelect.addRange(s);if(n)return}var o=r.getTextRange(s),u=h(r,o,e);u&&(u.cursor=e==-1?u.start:u.end,this.session.unfold(u),this.multiSelect.addRange(u),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,s=n.filter(function(e){if(e.cursor.row==r)return!0;r=e.cursor.row});if(!n.length||s.length==n.length-1){var o=this.selection.getRange(),u=o.start.row,f=o.end.row,l=u==f;if(l){var c=this.session.getLength(),h;do h=this.session.getLine(f);while(/[=:]/.test(h)&&++f<c);do h=this.session.getLine(u);while(/[=:]/.test(h)&&--u>0);u<0&&(u=0),f>=c&&(f=c-1)}var p=this.session.removeFullLines(u,f);p=this.$reAlignText(p,l),this.session.insert({row:u,column:0},p.join("\n")+"\n"),l||(o.start.column=0,o.end.column=p[p.length-1].length),this.selection.setRange(o)}else{s.forEach(function(e){t.substractPoint(e.cursor)});var d=0,v=Infinity,m=n.map(function(t){var n=t.cursor,r=e.getLine(n.row),i=r.substr(n.column).search(/\S/g);return i==-1&&(i=0),n.column>d&&(d=n.column),i<v&&(v=i),i});n.forEach(function(t,n){var r=t.cursor,s=d-r.column,o=m[n]-v;s>o?e.insert(r,a.stringRepeat(" ",s-o)):e.remove(new i(r.row,r.column,r.row,r.column-s+o)),t.start.column=t.end.column=d,t.start.row=t.end.row=r.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(e,t){function u(e){return a.stringRepeat(" ",e)}function f(e){return e[2]?u(i)+e[2]+u(s-e[2].length+o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function l(e){return e[2]?u(i+s-e[2].length)+e[2]+u(o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function c(e){return e[2]?u(i)+e[2]+u(o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var n=!0,r=!0,i,s,o;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?i==null?(i=t[1].length,s=t[2].length,o=t[3].length,t):(i+s+o!=t[1].length+t[2].length+t[3].length&&(r=!1),i!=t[1].length&&(n=!1),i>t[1].length&&(i=t[1].length),s<t[2].length&&(s=t[2].length),o>t[3].length&&(o=t[3].length),t):[e]}).map(t?f:n?r?l:f:c)}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=m,e("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(e){m(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",o)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",o))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",[],function(e,t,n){"use strict";var r=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":t=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\S/,s=e.getLine(t),o=s.search(i);if(o==-1)return;var u=n||s.length,a=e.getLength(),f=t,l=t;while(++t<a){var c=e.getLine(t).search(i);if(c==-1)continue;if(c<=o){var h=e.getTokenAt(t,0);if(!h||h.type!=="string")break}l=t}if(l>f){var p=e.getLine(l).length;return new r(f,u,l,p)}},this.openingBracketBlock=function(e,t,n,i,s){var o={row:n,column:i+1},u=e.$findClosingBracket(t,o,s);if(!u)return;var a=e.foldWidgets[u.row];return a==null&&(a=e.getFoldWidget(u.row)),a=="start"&&u.row>o.row&&(u.row--,u.column=e.getLine(u.row).length),r.fromPoints(o,u)},this.closingBracketBlock=function(e,t,n,i,s){var o={row:n,column:i},u=e.$findOpeningBracket(t,o);if(!u)return;return u.column++,o.column--,r.fromPoints(u,o)}}).call(i.prototype)}),ace.define("ace/theme/textmate",[],function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate";var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",[],function(e,t,n){"use strict";function i(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var r=e("./lib/dom");(function(){this.getRowLength=function(e){var t;return this.lineWidgets?t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:t=0,!this.$useWrapMode||!this.$wrapData[e]?1+t:this.$wrapData[e].length+1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach();if(this.editor==e)return;this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets))},this.detach=function(e){var t=this.editor;if(!t)return;this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(!n||!e.action)return;var r=e.data,i=r.start.row,s=r.end.row,o=e.action=="add";for(var u=i+1;u<s;u++)n[u]&&(n[u].hidden=o);n[s]&&(o?n[i]?n[s].hidden=o:n[i]=n[s]:(n[i]==n[s]&&(n[i]=undefined),n[s].hidden=o))},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(!t)return;var n=e.start.row,r=e.end.row-n;if(r!==0)if(e.action=="remove"){var i=t.splice(n+1,r);!t[n]&&i[i.length-1]&&(t[n]=i.pop()),i.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var s=new Array(r);t[n]&&t[n].column!=null&&e.start.column>t[n].column&&n++,s.unshift(n,0),t.splice.apply(t,s),this.$updateRows()}},this.$updateRows=function(){var e=this.session.lineWidgets;if(!e)return;var t=!0;e.forEach(function(e,n){if(e){t=!1,e.row=n;while(e.$oldWidget)e.$oldWidget.row=n,e=e.$oldWidget}}),t&&(this.session.lineWidgets=null)},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){this.$registerLineWidget(e),e.session=this.session;if(!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),e.pixelHeight==null&&(e.pixelHeight=e.el.offsetHeight)),e.rowCount==null&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight||0);var n=this.session.getFoldAt(e.row,0);e.$fold=n;if(n){var i=this.session.lineWidgets;e.row==n.end.row&&!i[n.start.row]?i[n.start.row]=e:e.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el);if(e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(t){}var n=this.session.lineWidgets;if(n){var r=n[e.row];if(r==e)n[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else while(r){if(r.$oldWidget==e){r.$oldWidget=e.$oldWidget;break}r=r.$oldWidget}var i=0;for(;;){i=n.indexOf(e,i);if(!(i>-1))break;n[i]=undefined}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){var t=this.session.lineWidgets,n=t&&t[e],r=[];while(n)r.push(n),n=n.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(!n||!n.length)return;var i=Infinity;for(var s=0;s<n.length;s++){var o=n[s];if(!o||!o.el)continue;if(o.session!=this.session)continue;if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,t.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/r.characterWidth));var u=o.h/r.lineHeight;o.coverLine&&(u-=this.session.getRowLineCount(o.row),u<0&&(u=0)),o.rowCount!=u&&(o.rowCount=u,o.row<i&&(i=o.row))}i!=Infinity&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(!r)return;var i=Math.min(this.firstRow,n.firstRow),s=Math.max(this.lastRow,n.lastRow,r.length);while(i>0&&!r[i])i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var o=i;o<=s;o++){var u=r[o];if(!u||!u.el)continue;if(u.hidden){u.el.style.top=-100-(u.pixelHeight||0)+"px";continue}u._inDocument||(u._inDocument=!0,t.container.appendChild(u.el));var a=t.getCursorPixelPosition({row:o,column:0},!0).top;u.coverLine||(a+=n.lineHeight*this.session.getRowLineCount(u.row)),u.el.style.top=a-n.offset+"px";var f=u.coverGutter?0:t.gutterWidth;u.fixedWidth||(f-=t.scrollLeft),u.el.style.left=f+"px",u.fullWidth&&u.screenWidth&&(u.el.style.minWidth=n.width+2*n.padding+"px"),u.fixedWidth?u.el.style.right=t.scrollBar.getWidth()+"px":u.el.style.right=""}}}).call(i.prototype),t.LineWidgets=i}),ace.define("ace/ext/error_marker",[],function(e,t,n){"use strict";function o(e,t,n){var r=0,i=e.length-1;while(r<=i){var s=r+i>>1,o=n(t,e[s]);if(o>0)r=s+1;else{if(!(o<0))return s;i=s-1}}return-(r+1)}function u(e,t,n){var r=e.getAnnotations().sort(s.comparePoints);if(!r.length)return;var i=o(r,{row:t,column:-1},s.comparePoints);i<0&&(i=-i-1),i>=r.length?i=n>0?0:r.length-1:i===0&&n<0&&(i=r.length-1);var u=r[i];if(!u||!n)return;if(u.row===t){do u=r[i+=n];while(u&&u.row===t);if(!u)return r.slice()}var a=[];t=u.row;do a[n<0?"unshift":"push"](u),u=r[i+=n];while(u&&u.row==t);return a.length&&a}var r=e("../line_widgets").LineWidgets,i=e("../lib/dom"),s=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(e));var s=e.getCursorPosition(),o=s.row,a=n.widgetManager.getWidgetsAtRow(o).filter(function(e){return e.type=="errorMarker"})[0];a?a.destroy():o-=t;var f=u(n,o,t),l;if(f){var c=f[0];s.column=(c.pos&&typeof c.column!="number"?c.pos.sc:c.column)||0,s.row=c.row,l=e.renderer.$gutterLayer.$annotations[s.row]}else{if(a)return;l={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var h={row:s.row,fixedWidth:!0,coverGutter:!0,el:i.createElement("div"),type:"errorMarker"},p=h.el.appendChild(i.createElement("div")),d=h.el.appendChild(i.createElement("div"));d.className="error_widget_arrow "+l.className;var v=e.renderer.getCursorPixelPosition(s).left;d.style.left=v+e.renderer.gutterWidth-5+"px",h.el.className="error_widget_wrapper",p.className="error_widget "+l.className,p.innerHTML=l.text.join("<br>"),p.appendChild(i.createElement("div"));var m=function(e,t,n){if(t===0&&(n==="esc"||n==="return"))return h.destroy(),{command:"null"}};h.destroy=function(){if(e.$mouseHandler.isMousePressed)return;e.keyBinding.removeKeyboardHandler(m),h.el.onmousedown=null,n.widgetManager.removeLineWidget(h),e.off("changeSelection",h.destroy),e.off("changeSession",h.destroy),e.off("mouseup",h.destroy),e.off("change",h.destroy)},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",h.destroy),e.on("changeSession",h.destroy),e.on("mouseup",h.destroy),e.on("change",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})},i.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/autocomplete/util",[],function(e,t,n){"use strict";t.parForEach=function(e,t,n){var r=0,i=e.length;i===0&&n();for(var s=0;s<i;s++)t(e[s],function(e,t){r++,r===i&&n(e,t)})};var r=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,n){n=n||r;var i=[];for(var s=t-1;s>=0;s--){if(!n.test(e[s]))break;i.push(e[s])}return i.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,n){n=n||r;var i=[];for(var s=t;s<e.length;s++){if(!n.test(e[s]))break;i.push(e[s])}return i},t.getCompletionPrefix=function(e){var t=e.getCursorPosition(),n=e.session.getLine(t.row),r;return e.completers.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){!r&&e&&(r=this.retrievePrecedingIdentifier(n,t.column,e))}.bind(this))}.bind(this)),r||this.retrievePrecedingIdentifier(n,t.column)}}),ace.define("ace/snippets",[],function(e,t,n){"use strict";function h(e){var t=(new Date).toLocaleString("en-us",e);return t.length==1?"0"+t:t}var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,s=e("./lib/lang"),o=e("./range").Range,u=e("./range_list").RangeList,a=e("./keyboard/hash_handler").HashHandler,f=e("./tokenizer").Tokenizer,l=e("./clipboard"),c={CURRENT_WORD:function(e){return e.session.getTextRange(e.session.getWordRange())},SELECTION:function(e,t,n){var r=e.session.getTextRange();return n?r.replace(/\n\r?([ \t]*\S)/g,"\n"+n+"$1"):r},CURRENT_LINE:function(e){return e.session.getLine(e.getCursorPosition().row)},PREV_LINE:function(e){return e.session.getLine(e.getCursorPosition().row-1)},LINE_INDEX:function(e){return e.getCursorPosition().row},LINE_NUMBER:function(e){return e.getCursorPosition().row+1},SOFT_TABS:function(e){return e.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(e){return e.session.getTabSize()},CLIPBOARD:function(e){return l.getText&&l.getText()},FILENAME:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0]},FILENAME_BASE:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(e){return this.FILEPATH(e).replace(/[^/\\]*$/,"")},FILEPATH:function(e){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(e){var t=e.session.$mode||{};return t.blockComment&&t.blockComment.start||""},BLOCK_COMMENT_END:function(e){var t=e.session.$mode||{};return t.blockComment&&t.blockComment.end||""},LINE_COMMENT:function(e){var t=e.session.$mode||{};return t.lineCommentStart||""},CURRENT_YEAR:h.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:h.bind(null,{year:"2-digit"}),CURRENT_MONTH:h.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:h.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:h.bind(null,{month:"short"}),CURRENT_DATE:h.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:h.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:h.bind(null,{weekday:"short"}),CURRENT_HOUR:h.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:h.bind(null,{minute:"2-digit"}),CURRENT_SECOND:h.bind(null,{second:"2-digit"})};c.SELECTED_TEXT=c.SELECTION;var p=function(){this.snippetMap={},this.snippetNameMap={}};(function(){r.implement(this,i),this.getTokenizer=function(){return p.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function e(e){return e=e.substr(1),/^\d+$/.test(e)?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function t(e){return"(?:[^\\\\"+e+"]|\\\\.)"}var n={regex:"/("+t("/")+"+)/",onMatch:function(e,t,n){var r=n[0];return r.fmtString=!0,r.guard=e.slice(1,-1),r.flag="",""},next:"formatString"};return p.$tokenizer=new f({start:[{regex:/\\./,onMatch:function(e,t,n){var r=e[1];return r=="}"&&n.length?e=r:"`$\\".indexOf(r)!=-1&&(e=r),[e]}},{regex:/}/,onMatch:function(e,t,n){return[n.length?n.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:e},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,n,r){var i=e(t.substr(1));return r.unshift(i[0]),i},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(e,t,n){var r=e.slice(1,-1).replace(/\\[,|\\]|,/g,function(e){return e.length==2?e[1]:"\0"}).split("\0").map(function(e){return{value:e}});return n[0].choices=r,[r[0]]},next:"start"},n,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(e,t,n){return n.length&&n[0].expectElse?(n[0].expectElse=!1,n[0].ifEnd={elseEnd:n[0]},[n[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(e,t,n){var r=e[1];return r=="}"&&n.length?e=r:"`$\\".indexOf(r)!=-1?e=r:r=="n"?e="\n":r=="t"?e="	":"ulULE".indexOf(r)!=-1&&(e={changeCase:r,local:r>"a"}),[e]}},{regex:"/\\w*}",onMatch:function(e,t,n){var r=n.shift();return r&&(r.flag=e.slice(1,-1)),this.next=r&&r.tabstopId?"start":"",[r||e]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(e,t,n){return[{text:e.slice(1)}]}},{regex:/\${\w+/,onMatch:function(e,t,n){var r={text:e.slice(2)};return n.unshift(r),[r]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(e,t,n){var r=n.shift();return this.next=r&&r.tabstopId?"start":"",[r||e]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(e,t,n){var r=n[0];return r.formatFunction=e.slice(2,-1),[n.shift()]},next:"formatString"},n,{regex:/:[\?\-+]?/,onMatch:function(e,t,n){e[1]=="+"&&(n[0].ifEnd=n[0]),e[1]=="?"&&(n[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),p.$tokenizer},this.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map(function(e){return e.value||e})},this.getVariableValue=function(e,t,n){if(/^\d+$/.test(t))return(this.variables.__||{})[t]||"";if(/^[A-Z]\d+$/.test(t))return(this.variables[t[0]+"__"]||{})[t.substr(1)]||"";t=t.replace(/^TM_/,"");if(!this.variables.hasOwnProperty(t))return"";var r=this.variables[t];return typeof r=="function"&&(r=this.variables[t](e,t,n)),r==null?"":r},this.variables=c,this.tmStrFormat=function(e,t,n){if(!t.fmt)return e;var r=t.flag||"",i=t.guard;i=new RegExp(i,r.replace(/[^gim]/g,""));var s=typeof t.fmt=="string"?this.tokenizeTmSnippet(t.fmt,"formatString"):t.fmt,o=this,u=e.replace(i,function(){var e=o.variables.__;o.variables.__=[].slice.call(arguments);var t=o.resolveVariables(s,n),r="E";for(var i=0;i<t.length;i++){var u=t[i];if(typeof u=="object"){t[i]="";if(u.changeCase&&u.local){var a=t[i+1];a&&typeof a=="string"&&(u.changeCase=="u"?t[i]=a[0].toUpperCase():t[i]=a[0].toLowerCase(),t[i+1]=a.substr(1))}else u.changeCase&&(r=u.changeCase)}else r=="U"?t[i]=u.toUpperCase():r=="L"&&(t[i]=u.toLowerCase())}return o.variables.__=e,t.join("")});return u},this.tmFormatFunction=function(e,t,n){return t.formatFunction=="upcase"?e.toUpperCase():t.formatFunction=="downcase"?e.toLowerCase():e},this.resolveVariables=function(e,t){function f(t){var n=e.indexOf(t,s+1);n!=-1&&(s=n)}var n=[],r="",i=!0;for(var s=0;s<e.length;s++){var o=e[s];if(typeof o=="string"){n.push(o),o=="\n"?(i=!0,r=""):i&&(r=/^\t*/.exec(o)[0],i=/\S/.test(o));continue}if(!o)continue;i=!1;if(o.fmtString){var u=e.indexOf(o,s+1);u==-1&&(u=e.length),o.fmt=e.slice(s+1,u),s=u}if(o.text){var a=this.getVariableValue(t,o.text,r)+"";o.fmtString&&(a=this.tmStrFormat(a,o,t)),o.formatFunction&&(a=this.tmFormatFunction(a,o,t)),a&&!o.ifEnd?(n.push(a),f(o)):!a&&o.ifEnd&&f(o.ifEnd)}else o.elseEnd?f(o.elseEnd):o.tabstopId!=null?n.push(o):o.changeCase!=null&&n.push(o)}return n},this.insertSnippetForSelection=function(e,t){function f(e){var t=[];for(var n=0;n<e.length;n++){var r=e[n];if(typeof r=="object"){if(a[r.tabstopId])continue;var i=e.lastIndexOf(r,n-1);r=t[i]||{tabstopId:r.tabstopId}}t[n]=r}return t}var n=e.getCursorPosition(),r=e.session.getLine(n.row),i=e.session.getTabString(),s=r.match(/^\s*/)[0];n.column<s.length&&(s=s.slice(0,n.column)),t=t.replace(/\r/g,"");var o=this.tokenizeTmSnippet(t);o=this.resolveVariables(o,e),o=o.map(function(e){return e=="\n"?e+s:typeof e=="string"?e.replace(/\t/g,i):e});var u=[];o.forEach(function(e,t){if(typeof e!="object")return;var n=e.tabstopId,r=u[n];r||(r=u[n]=[],r.index=n,r.value="",r.parents={});if(r.indexOf(e)!==-1)return;e.choices&&!r.choices&&(r.choices=e.choices),r.push(e);var i=o.indexOf(e,t+1);if(i===-1)return;var s=o.slice(t+1,i),a=s.some(function(e){return typeof e=="object"});a&&!r.value?r.value=s:s.length&&(!r.value||typeof r.value!="string")&&(r.value=s.join(""))}),u.forEach(function(e){e.length=0});var a={};for(var l=0;l<o.length;l++){var c=o[l];if(typeof c!="object")continue;var h=c.tabstopId,p=u[h],v=o.indexOf(c,l+1);if(a[h]){a[h]===c&&(delete a[h],Object.keys(a).forEach(function(e){p.parents[e]=!0}));continue}a[h]=c;var m=p.value;typeof m!="string"?m=f(m):c.fmt&&(m=this.tmStrFormat(m,c,e)),o.splice.apply(o,[l+1,Math.max(0,v-l)].concat(m,c)),p.indexOf(c)===-1&&p.push(c)}var g=0,y=0,b="";o.forEach(function(e){if(typeof e=="string"){var t=e.split("\n");t.length>1?(y=t[t.length-1].length,g+=t.length-1):y+=e.length,b+=e}else e&&(e.start?e.end={row:g,column:y}:e.start={row:g,column:y})});var w=e.getSelectionRange(),E=e.session.replace(w,b),S=new d(e),x=e.inVirtualSelectionMode&&e.selection.index;S.addTabstops(u,w.start,E,x)},this.insertSnippet=function(e,t){var n=this;if(e.inVirtualSelectionMode)return n.insertSnippetForSelection(e,t);e.forEachSelection(function(){n.insertSnippetForSelection(e,t)},null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()},this.$getScope=function(e){var t=e.session.$mode.$id||"";t=t.split("/").pop();if(t==="html"||t==="php"){t==="php"&&!e.session.$mode.inlinePhp&&(t="html");var n=e.getCursorPosition(),r=e.session.getState(n.row);typeof r=="object"&&(r=r[0]),r.substring&&(r.substring(0,3)=="js-"?t="javascript":r.substring(0,4)=="css-"?t="css":r.substring(0,4)=="php-"&&(t="php"))}return t},this.getActiveScopes=function(e){var t=this.$getScope(e),n=[t],r=this.snippetMap;return r[t]&&r[t].includeScopes&&n.push.apply(n,r[t].includeScopes),n.push("_"),n},this.expandWithTab=function(e,t){var n=this,r=e.forEachSelection(function(){return n.expandSnippetForSelection(e,t)},null,{keepOrder:!0});return r&&e.tabstopManager&&e.tabstopManager.tabNext(),r},this.expandSnippetForSelection=function(e,t){var n=e.getCursorPosition(),r=e.session.getLine(n.row),i=r.substring(0,n.column),s=r.substr(n.column),o=this.snippetMap,u;return this.getActiveScopes(e).some(function(e){var t=o[e];return t&&(u=this.findMatchingSnippet(t,i,s)),!!u},this),u?t&&t.dryRun?!0:(e.session.doc.removeInLine(n.row,n.column-u.replaceBefore.length,n.column+u.replaceAfter.length),this.variables.M__=u.matchBefore,this.variables.T__=u.matchAfter,this.insertSnippetForSelection(e,u.content),this.variables.M__=this.variables.T__=null,!0):!1},this.findMatchingSnippet=function(e,t,n){for(var r=e.length;r--;){var i=e[r];if(i.startRe&&!i.startRe.test(t))continue;if(i.endRe&&!i.endRe.test(n))continue;if(!i.startRe&&!i.endRe)continue;return i.matchBefore=i.startRe?i.startRe.exec(t):[""],i.matchAfter=i.endRe?i.endRe.exec(n):[""],i.replaceBefore=i.triggerRe?i.triggerRe.exec(t)[0]:"",i.replaceAfter=i.endTriggerRe?i.endTriggerRe.exec(n)[0]:"",i}},this.snippetMap={},this.snippetNameMap={},this.register=function(e,t){function o(e){return e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)&&(e="(?:"+e+")"),e||""}function u(e,t,n){return e=o(e),t=o(t),n?(e=t+e,e&&e[e.length-1]!="$"&&(e+="$")):(e+=t,e&&e[0]!="^"&&(e="^"+e)),new RegExp(e)}function a(e){e.scope||(e.scope=t||"_"),t=e.scope,n[t]||(n[t]=[],r[t]={});var o=r[t];if(e.name){var a=o[e.name];a&&i.unregister(a),o[e.name]=e}n[t].push(e),e.prefix&&(e.tabTrigger=e.prefix),!e.content&&e.body&&(e.content=Array.isArray(e.body)?e.body.join("\n"):e.body),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=s.escapeRegExp(e.tabTrigger));if(!e.trigger&&!e.guard&&!e.endTrigger&&!e.endGuard)return;e.startRe=u(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger),e.endRe=u(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger)}var n=this.snippetMap,r=this.snippetNameMap,i=this;e||(e=[]),Array.isArray(e)?e.forEach(a):Object.keys(e).forEach(function(t){a(e[t])}),this._signal("registerSnippets",{scope:t})},this.unregister=function(e,t){function i(e){var i=r[e.scope||t];if(i&&i[e.name]){delete i[e.name];var s=n[e.scope||t],o=s&&s.indexOf(e);o>=0&&s.splice(o,1)}}var n=this.snippetMap,r=this.snippetNameMap;e.content?i(e):Array.isArray(e)&&e.forEach(i)},this.parseSnippetFile=function(e){e=e.replace(/\r/g,"");var t=[],n={},r=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,i;while(i=r.exec(e)){if(i[1])try{n=JSON.parse(i[1]),t.push(n)}catch(s){}if(i[4])n.content=i[4].replace(/^\t/gm,""),t.push(n),n={};else{var o=i[2],u=i[3];if(o=="regex"){var a=/\/((?:[^\/\\]|\\.)*)|$/g;n.guard=a.exec(u)[1],n.trigger=a.exec(u)[1],n.endTrigger=a.exec(u)[1],n.endGuard=a.exec(u)[1]}else o=="snippet"?(n.tabTrigger=u.match(/^\S*/)[0],n.name||(n.name=u)):o&&(n[o]=u)}}return t},this.getSnippetByName=function(e,t){var n=this.snippetNameMap,r;return this.getActiveScopes(t).some(function(t){var i=n[t];return i&&(r=i[e]),!!r},this),r}}).call(p.prototype);var d=function(e){if(e.tabstopManager)return e.tabstopManager;e.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)};(function(){this.attach=function(e){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(e){var t=e.action[0]=="r",n=this.selectedTabstop||{},r=n.parents||{},i=(this.tabstops||[]).slice();for(var s=0;s<i.length;s++){var o=i[s],u=o==n||r[o.index];o.rangeList.$bias=u?0:1;if(e.action=="remove"&&o!==n){var a=o.parents&&o.parents[n.index],f=o.rangeList.pointIndex(e.start,a);f=f<0?-f-1:f+1;var l=o.rangeList.pointIndex(e.end,a);l=l<0?-l-1:l-1;var c=o.rangeList.ranges.slice(f,l);for(var h=0;h<c.length;h++)this.removeRange(c[h])}o.rangeList.$onChange(e)}var p=this.editor.session;!this.$inChange&&t&&p.getLength()==1&&!p.getValue()&&this.detach()},this.updateLinkedFields=function(){var e=this.selectedTabstop;if(!e||!e.hasLinkedRanges||!e.firstNonLinked)return;this.$inChange=!0;var n=this.editor.session,r=n.getTextRange(e.firstNonLinked);for(var i=0;i<e.length;i++){var s=e[i];if(!s.linked)continue;var o=s.original,u=t.snippetManager.tmStrFormat(r,o,this.editor);n.replace(s,u)}this.$inChange=!1},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(!this.editor)return;var e=this.editor.selection.lead,t=this.editor.selection.anchor,n=this.editor.selection.isEmpty();for(var r=0;r<this.ranges.length;r++){if(this.ranges[r].linked)continue;var i=this.ranges[r].contains(e.row,e.column),s=n||this.ranges[r].contains(t.row,t.column);if(i&&s)return}this.detach()},this.onChangeSession=function(){this.detach()},this.tabNext=function(e){var t=this.tabstops.length,n=this.index+(e||1);n=Math.min(Math.max(n,1),t),n==t&&(n=0),this.selectTabstop(n),n===0&&this.detach()},this.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];t&&this.addTabstopMarkers(t),this.index=e,t=this.tabstops[this.index];if(!t||!t.length)return;this.selectedTabstop=t;var n=t.firstNonLinked||t;t.choices&&(n.cursor=n.start);if(!this.editor.inVirtualSelectionMode){var r=this.editor.multiSelect;r.toSingleRange(n);for(var i=0;i<t.length;i++){if(t.hasLinkedRanges&&t[i].linked)continue;r.addRange(t[i].clone(),!0)}}else this.editor.selection.fromOrientedRange(n);this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})},this.addTabstops=function(e,t,n){var r=this.useLink||!this.editor.getOption("enableMultiselect");this.$openTabstops||(this.$openTabstops=[]);if(!e[0]){var i=o.fromPoints(n,n);m(i.start,t),m(i.end,t),e[0]=[i],e[0].index=0}var s=this.index,a=[s+1,0],f=this.ranges;e.forEach(function(e,n){var i=this.$openTabstops[n]||e;for(var s=0;s<e.length;s++){var l=e[s],c=o.fromPoints(l.start,l.end||l.start);v(c.start,t),v(c.end,t),c.original=l,c.tabstop=i,f.push(c),i!=e?i.unshift(c):i[s]=c,l.fmtString||i.firstNonLinked&&r?(c.linked=!0,i.hasLinkedRanges=!0):i.firstNonLinked||(i.firstNonLinked=c)}i.firstNonLinked||(i.hasLinkedRanges=!1),i===e&&(a.push(i),this.$openTabstops[n]=i),this.addTabstopMarkers(i),i.rangeList=i.rangeList||new u,i.rangeList.$bias=0,i.rangeList.addList(i)},this),a.length>2&&(this.tabstops.length&&a.push(a.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,a))},this.addTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){t.removeMarker(e.markerId),e.markerId=null})},this.removeRange=function(e){var t=e.tabstop.indexOf(e);t!=-1&&e.tabstop.splice(t,1),t=this.ranges.indexOf(e),t!=-1&&this.ranges.splice(t,1),t=e.tabstop.rangeList.ranges.indexOf(e),t!=-1&&e.tabstop.splice(t,1),this.editor.session.removeMarker(e.markerId),e.tabstop.length||(t=this.tabstops.indexOf(e.tabstop),t!=-1&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},this.keyboardHandler=new a,this.keyboardHandler.bindKeys({Tab:function(e){if(t.snippetManager&&t.snippetManager.expandWithTab(e))return;e.tabstopManager.tabNext(1),e.renderer.scrollCursorIntoView()},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1),e.renderer.scrollCursorIntoView()},Esc:function(e){e.tabstopManager.detach()}})}).call(d.prototype);var v=function(e,t){e.row==0&&(e.column+=t.column),e.row+=t.row},m=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};e("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),t.snippetManager=new p;var g=e("./editor").Editor;(function(){this.insertSnippet=function(e,n){return t.snippetManager.insertSnippet(this,e,n)},this.expandSnippet=function(e){return t.snippetManager.expandWithTab(this,e)}}).call(g.prototype)}),ace.define("ace/autocomplete/text_completer",[],function(e,t,n){function s(e,t){var n=e.getTextRange(r.fromPoints({row:0,column:0},t));return n.split(i).length-1}function o(e,n){var r=s(e,n),o=e.getValue().split(i),u=Object.create(null),a=t.DISTANCE_CLOSE,f=t.MAX_SCORE/a,l=o[r];return o.forEach(function(e,t){if(!e||e===l)return;var n=Math.abs(r-t),i=a>n?(a-n)*f:0;u[e]==undefined?u[e]=Math.max(i,u[e]):u[e]=i}),u}var r=e("../range").Range,i=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;t.DISTANCE_CLOSE=50,t.MAX_SCORE=300,t.getCompletions=function(e,t,n,r,i){var s=o(t,n),u=Object.keys(s);i(null,u.map(function(e){return{caption:e,value:e,iconClass:"completion-text",score:s[e],meta:"local"}}))}}),ace.define("ace/autocomplete/popup",[],function(e,t,n){"use strict";var r=e("../virtual_renderer").VirtualRenderer,i=e("../editor").Editor,s=e("../range").Range,o=e("../lib/event"),u=e("../lib/lang"),a=e("../lib/dom"),f=function(e){var t=new r(e);t.$maxLines=4;var n=new i(t);return n.setHighlightActiveLine(!1),n.setShowPrintMargin(!1),n.renderer.setShowGutter(!1),n.renderer.setHighlightGutterLine(!1),n.$mouseHandler.$focusTimeout=0,n.$highlightTagPending=!0,n.copyTheme=function(e){n.setTheme(e.getTheme());var t=e.getFontSize();t<16?(t<12&&(t=12),n.$popupFontBp=12):t<20?n.$popupFontBp=16:(t>24&&(t=24),n.$popupFontBp=20),n.setFontSize(t),n.setOption("fontFamily",e.renderer.$fontFamily)},n},l=function(e){var t=a.createElement("div"),n=f(t);e&&e.appendChild(t),t.style.display="none",n.renderer.content.style.cursor="default",n.renderer.setStyle("ace_autocomplete"),n.$highlightPending="disabled",n.setOption("displayIndentGuides",!1),n.setOption("dragDelay",150);var r=function(){};n.focus=r,n.$isFocused=!0,n.renderer.$cursorLayer.restartTimer=r,n.renderer.$cursorLayer.element.style.opacity=0,n.renderer.$maxLines=8,n.renderer.$keepTextAreaAtCursor=!1,n.setHighlightActiveLine(!1),n.session.highlight(""),n.session.$searchHighlight.clazz="ace_highlight-marker",n.on("mousedown",function(e){var t=e.getDocumentPosition();n.selection.moveToPosition(t),c.start.row=c.end.row=t.row,e.stop()});var i,l=new s(-1,0,-1,Infinity),c=new s(-1,0,-1,Infinity);c.id=n.session.addMarker(c,"ace_active-line","fullLine"),n.setSelectOnHover=function(e){e?l.id&&(n.session.removeMarker(l.id),l.id=null):l.id=n.session.addMarker(l,"ace_line-hover","fullLine")},n.setSelectOnHover(!1),n.on("mousemove",function(e){if(!i){i=e;return}if(i.x==e.x&&i.y==e.y)return;i=e,i.scrollTop=n.renderer.scrollTop;var t=i.getDocumentPosition().row;l.start.row!=t&&(l.id||n.setRow(t),p(t))}),n.renderer.on("beforeRender",function(){if(i&&l.start.row!=-1){i.$pos=null;var e=i.getDocumentPosition().row;l.id||n.setRow(e),p(e,!0)}}),n.renderer.on("afterRender",function(){var e=n.getRow(),t=n.renderer.$textLayer,r=t.element.childNodes[e-t.config.firstRow];r!==t.selectedNode&&t.selectedNode&&a.removeCssClass(t.selectedNode,"ace_selected"),t.selectedNode=r,r&&a.addCssClass(r,"ace_selected")});var h=function(){p(-1)},p=function(e,t){e!==l.start.row&&(l.start.row=l.end.row=e,t||n.session._emit("changeBackMarker"),n._emit("changeHoverMarker"))};n.getHoveredRow=function(){return l.start.row},o.addListener(n.container,"mouseout",h),n.on("hide",h),n.on("changeSelection",h),n.session.doc.getLength=function(){return n.data.length},n.session.doc.getLine=function(e){var t=n.data[e];return typeof t=="string"?t:t&&t.value||""};var d=n.session.bgTokenizer;return d.$tokenizeRow=function(e){function s(e,n){e&&r.push({type:t.className?n?t.className+"."+n:t.className:n||"",value:e})}var t=n.data[e],r=[];if(!t)return r;typeof t=="string"&&(t={value:t});var i=t.caption||t.value||t.name,o=i.toLowerCase(),u=(n.filterText||"").toLowerCase(),a=0,f=0;for(var l=0;l<=u.length;l++)if(l!=f&&(t.matchMask&1<<l||l==u.length)){var c=u.slice(f,l);f=l;var h=o.indexOf(c,a);if(h==-1)continue;s(i.slice(a,h),""),a=h+c.length,s(i.slice(h,a),"completion-highlight")}s(i.slice(a,i.length),""),t.message&&r.push({type:"completion-message",value:t.message});if(t.meta){var p=t.meta.split(/([^a-zA-Z0-9$])/);for(var d=p.length,v=d-1;v>=0;v--)p[v]?r.push({type:"completion-meta.float-hack-"+(d-v),value:p[v]}):d--}return n.showIcons&&r.length&&(r[0].type+=".completion-icon.completion-icon-"+n.$popupFontBp+(t.iconClass?"."+t.iconClass:"")),r},d.$updateOnChange=r,d.start=r,n.session.$computeWidth=function(){return this.screenWidth=0},n.isOpen=!1,n.isTopdown=!1,n.autoSelect=!0,n.filterText="",n.showIcons=!1,n.data=[],n.setData=function(e,t){n.filterText=t||"",n.setValue(u.stringRepeat("\n",e.length),-1),n.data=e||[],n.setRow(0)},n.getData=function(e){return n.data[e]},n.getRow=function(){return c.start.row},n.setRow=function(e){e=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,e)),c.start.row!=e&&(n.selection.clearSelection(),c.start.row=c.end.row=e||0,n.session._emit("changeBackMarker"),n.moveCursorTo(e||0,0),n.isOpen&&n._signal("select"))},n.on("changeSelection",function(){n.isOpen&&n.setRow(n.selection.lead.row),n.renderer.scrollCursorIntoView()}),n.hide=function(){this.container.style.display="none",this._signal("hide"),n.isOpen=!1},n.show=function(e,t,r){var s=n.getPopupMargins(),o=this.container,u=this.parentNode?this.parentNode.clientHeight:window.innerHeight,a=this.parentNode?this.parentNode.clientWidth:window.innerWidth,f=this.renderer,l=e.top+this.$borderSize,c=l-s.marginTop-t,h=u-l-t-this.$borderSize-s.marginBottom;!r&&c>h*1.4?(f.$maxPixelHeight=l-2*this.$borderSize-s.marginTop-t,o.style.top="",o.style.bottom=u-l-this.$borderSize+t+"px",n.isTopdown=!1):(l+=t,f.$maxPixelHeight=u-s.marginBottom-l-.2*t,o.style.top=l+"px",o.style.bottom="",n.isTopdown=!0),f.$maxPixelHeight<t*2&&(f.$maxPixelHeight=t*2),o.style.display="";var p=e.left;p+o.offsetWidth>a&&(p=a-o.offsetWidth),o.style.left=p+"px",i=null,n.isOpen=!0},n.goTo=function(e){var t=this.getRow(),n=this.session.getLength()-1;switch(e){case"up":t=t<=0?n:t-1;break;case"down":t=t>=n?-1:t+1;break;case"start":t=0;break;case"end":t=n}this.setRow(t)},n.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},n.$imageSize=0,n.$borderSize=1,n};i.prototype.getPopupMargins=function(){return{marginTop:0,marginBottom:0}},a.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #3a674e;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);    position: absolute;    z-index: 2;}.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid rgba(109, 150, 13, 0.8);    background: rgba(58, 103, 78, 0.62);}.ace_autocomplete .ace_text-layer{    width:100%;}.ace_autocomplete .ace_line{    width:100%;    overflow: hidden;}.ace_completion-meta {    opacity: 0.7;    float: right;}.ace_float-hack-1{    margin-right: 10px;}.ace_completion-icon:before {    display: inline-block;    vertical-align: middle;    max-height: 100%    margin: 0;    margin-right: 5px;    text-align: center;    content: ' ';    -moz-box-sizing: border-box;    -webkit-box-sizing: border-box;    box-sizing: border-box;}.ace_completion-icon-12:before {    width: 12px;    height: 12px;    font-size: 10px;    line-height: 12px;}.ace_completion-icon-16:before {    width: 16px;    height: 16px;    font-size: 15px;    line-height: 16px;}.ace_completion-icon-20:before {    width: 20px;    height: 20px;    font-size: 19px;    line-height: 20px;}.ace_completion-message {    color: teal;    font-weight: bold;    margin-left: 1.5em;    text-overflow: ellipsis;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #2d69c7;}.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #93ca12;}.ace_editor.ace_autocomplete {    width: 300px;    z-index: 200000;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;    background: #fefefe;    color: #111;}.ace_dark.ace_editor.ace_autocomplete {    border: 1px #484747 solid;    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);    line-height: 1.4;    background: #25282c;    color: #c1c1c1;}","autocompletion.css"),t.AcePopup=l,t.$singleLineEditor=f}),ace.define("ace/autocomplete",[],function(e,t,n){"use strict";var r=e("./keyboard/hash_handler").HashHandler,i=e("./autocomplete/popup").AcePopup,s=e("./autocomplete/util"),o=e("./lib/lang"),u=e("./lib/dom"),a=e("./snippets").snippetManager,f=e("./config"),l=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new r,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=o.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=o.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new i,this.setContainer(document.body||document.documentElement),this.popup.showIcons=!0,this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(e,t,n){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),e.keyBinding.addKeyboardHandler(this.keyboardHandler);var r=e.renderer;this.popup.setRow(this.autoSelect?0:-1);if(!n){this.popup.copyTheme(e);var i=r.layerConfig.lineHeight,s=this.base;if(s.$prefixOffset&&e.session.getRowLineCount(s.row)>1){var o=e.session.documentToScreenPosition(s.row,s.column+s.$prefixOffset);o.column<s.$prefixOffset&&(s=e.session.screenToDocumentPosition(o.row,0))}var u=r.getCursorPixelPosition(s,!0);u.left-=this.popup.getTextLeftOffset();var a=e.container.getBoundingClientRect();u.top+=a.top-r.layerConfig.offset,u.left+=a.left-e.renderer.scrollLeft,u.left+=r.gutterWidth,this.popup.show(u,i)}else n&&!t&&this.detach();this.changeTimer.cancel()},this.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(e){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(e){var t=document.activeElement,n=this.editor.textInput.getElement(),r=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),i=this.popup&&this.popup.container;t!=n&&t.parentNode!=i&&!r&&t!=this.tooltipNode&&e.relatedTarget!=n&&this.detach()},this.mousedownListener=function(e){this.detach()},this.mousewheelListener=function(e){this.detach()},this.goTo=function(e){this.popup.goTo(e)},this.insertMatch=function(e,t){e||(e=this.popup.getData(this.popup.getRow()));if(!e)return!1;if(this.editor.commands.$inReplay)return!1;var n=this.completions;this.editor.startOperation({command:{name:"insertMatch"}});if(e.completer&&e.completer.insertMatch)e.completer.insertMatch(this.editor,e);else{if(n.filterText){var r=this.editor.selection.getAllRanges();for(var i=0,s;s=r[i];i++)s.start.column-=n.filterText.length,this.editor.session.remove(s)}e.snippet?a.insertSnippet(this.editor,e.snippet):this.editor.execCommand("insertstring",e.value||e)}this.completions==n&&this.detach(),this.editor.endOperation()},this.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(e){var t=e.completer.insertMatch();if(!!t||!!e.tabstopManager)return t;e.completer.goTo("down")},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},this.gatherCompletions=function(e,t){var n=e.getSession(),r=e.getCursorPosition(),i=s.getCompletionPrefix(e);this.base=n.doc.createAnchor(r.row,r.column-i.length),this.base.$prefixOffset=i.length,this.base.$insertRight=!0;var o=[],u=e.completers.length,a=!e.smartCompleter,f;return e.completers.forEach(function(l,c){l.getCompletions(e,n,r,i,function(n,r){!n&&r&&(o=o.concat(r)),c==0&&(a=!0,f&&clearTimeout(f)),a?t(null,{prefix:s.getCompletionPrefix(e),matches:o,finished:--u===0}):f||(f=setTimeout(function(){a=!0,t(null,{prefix:s.getCompletionPrefix(e),matches:o,finished:--u===0})}))})}),!0},this.showPopup=function(e,t){this.editor&&this.detach(),this.activated=!0,this.editor=e,e.completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,t)},this.updateCompletions=function(e,t){if(e&&this.base&&this.completions){var n=this.editor.getCursorPosition(),r=this.editor.session.getTextRange({start:this.base,end:n});if(r==this.completions.filterText)return;this.completions.setFilter(r);if(!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==r&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,r,e);return}if(t&&t.matches){var n=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(n.row,n.column),this.base.$insertRight=!0,this.completions=new c(t.matches),this.openPopup(this.editor,"",e)}var i=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(t,n){var r=function(){if(!n.finished)return;return this.detach()}.bind(this),s=n.prefix,o=n&&n.matches;if(!o||!o.length)return r();if(s.indexOf(n.prefix)!==0||i!=this.gatherCompletionsId)return;this.completions=new c(o),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(s);var u=this.completions.filtered;if(!u.length)return r();if(u.length==1&&u[0].value==s&&!u[0].snippet)return r();if(this.autoInsert&&u.length==1&&n.finished&&(u[0].snippet||u[0].value.toLowerCase().startsWith(s)))return this.insertMatch(u[0]);this.openPopup(this.editor,s,e)}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var e=this.popup,t=e.data,n=t&&(t[e.getHoveredRow()]||t[e.getRow()]),r=null;if(!n||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();this.editor.completers.some(function(e){return e.getDocTooltip&&(r=e.getDocTooltip(n)),r}),!r&&typeof n!="string"&&(r=n),typeof r=="string"&&(r={docText:r});if(!r||!r.docHTML&&!r.docText)return this.hideDocTooltip();this.showDocTooltip(r)},this.setContainer=function(e){this.parentContainer=e,e.appendChild(this.popup.container),this.popup.parentNode=e},this.showDocTooltip=function(e){this.tooltipNode||(this.tooltipNode=u.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.style.fontSize=this.popup.getFontSize()+"px",this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var t=this.tooltipNode;e.docHTML?t.innerHTML=e.docHTML:e.docText&&(t.textContent=e.docText),t.parentNode||this.parentContainer.appendChild(t);var n=this.popup,r=n.container.getBoundingClientRect(),i=this.popup.getPopupMargins(!0),s=this.parentContainer.getBoundingClientRect();t.style.display="block";var o=this.editor.renderer.layerConfig.lineHeight*2,a=Math.max(t.offsetWidth,300),f=Math.max(70,t.offsetHeight),l=!0,c=s.right-r.right;if(c<a){var h=r.left-s.left;if(h<a){l=!1;var p=r.top-s.top-i.marginTop,d=s.bottom-r.bottom-i.marginBottom;n.isTopdown||(d-=this.editor.renderer.layerConfig.lineHeight);if(n.isTopdown?d>Math.min(f,p):p<Math.min(f,d-o)){n.isTopdown&&(o=1),t.style.top=r.bottom-s.top+o+"px";if(d<o)return this.hideDocTooltip();t.style.maxHeight=d-o+"px"}else if(n.isTopdown){var v=Math.max(s.top+i.marginTop,r.top-s.top-o-Math.max(70,t.offsetHeight+o));t.style.top=v+"px";var m=r.top-s.top-v-o;if(m<50)return this.hideDocTooltip();t.style.maxHeight=m+"px",t.style.bottom=""}else o=1,t.style.bottom=s.bottom-r.top-o+"px",t.style.maxHeight=p+"px",t.style.top="";o>1?(h<s.width/2?(t.style.right="10px",t.style.left=""):(t.style.left="10px",t.style.right=""),t.style.maxWidth=s.width-20+"px"):h>c?(t.style.right=c+"px",t.style.maxWidth=h+r.width-5+"px",t.style.left=""):h<c&&(t.style.left=h+"px",t.style.maxWidth=c+r.width-5+"px",t.style.right="")}else t.style.right=s.right-r.left-1+"px",t.style.left=""}else t.style.left=r.right+1+"px",t.style.right="";l&&(t.style.top=n.container.style.top,t.style.bottom=n.container.style.bottom,t.style.maxWidth=a+"px",t.style.maxHeight="auto",t.style.maxHeight="")},this.hideDocTooltip=function(){this.tooltipTimer.cancel();if(!this.tooltipNode)return;var e=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==e&&this.editor.focus(),this.tooltipNode=null,e.parentNode&&e.parentNode.removeChild(e)},this.onTooltipClick=function(e){var t=e.target;while(t&&t!=this.tooltipNode){if(t.nodeName=="A"&&t.href){t.rel="noreferrer",t.target="_blank";break}t=t.parentNode}},this.destroy=function(){this.detach();if(this.popup){this.popup.destroy();var e=this.popup.container;e&&e.parentNode&&e.parentNode.removeChild(e)}this.editor&&this.editor.completer==this&&this.editor.completer==null,this.popup=null}}).call(l.prototype),l.for=function(e){return e.completer?e.completer:(f.get("sharedPopups")?(l.$shared||(l.$sharedInstance=new l),e.completer=l.$sharedInstance):(e.completer=new l,e.once("destroy",function(e,t){t.completer.destroy()})),e.completer)},l.startCommand={name:"startAutocomplete",exec:function(e,t){var n=l.for(e);n.autoInsert=!1,n.autoSelect=!0,n.showPopup(e,t),n.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var c=function(e,t){this.all=e,this.filtered=e,this.filterText=t||"",this.exactMatch=!1};(function(){this.setFilter=function(e){if(e.length>this.filterText&&e.lastIndexOf(this.filterText,0)===0)var t=this.filtered;else var t=this.all;this.filterText=e,t=this.filterCompletions(t,this.filterText),t=t.sort(function(e,t){return t.exactMatch-e.exactMatch||t.$score-e.$score||(e.caption||e.value).localeCompare(t.caption||t.value)});var n=null;t=t.filter(function(e){var t=e.snippet||e.caption||e.value;return t===n?!1:(n=t,!0)}),this.filtered=t},this.filterCompletions=function(e,t){var n=[],r=t.toUpperCase(),i=t.toLowerCase();e:for(var s=0,o;o=e[s];s++){var u=o.caption||o.value||o.snippet;if(!u)continue;var a=-1,f=0,l=0,c,h;if(this.exactMatch){if(t!==u.substr(0,t.length))continue e}else{var p=u.toLowerCase().indexOf(i);if(p>-1)l=p;else for(var d=0;d<t.length;d++){var v=u.indexOf(i[d],a+1),m=u.indexOf(r[d],a+1);c=v>=0?m<0||v<m?v:m:m;if(c<0)continue e;h=c-a-1,h>0&&(a===-1&&(l+=10),l+=h,f|=1<<d),a=c}}o.matchMask=f,o.exactMatch=l?0:u==t?3:u.length==t.length?2:1,o.$score=(o.score||0)-l,n.push(o)}return n}}).call(c.prototype),t.Autocomplete=l,t.FilteredList=c}),ace.define("ace/ext/completions",[],function(e,t,n){"use strict";function k(e){var t=e.session.$mode.$id||"";return t=t.split("/").pop(),t}function L(e){var t=e.session.$mode.$embeds;if(t){var n=e.getCursorPosition(),r=e.session.getState(n.row);typeof r=="object"&&(r=r[0]);if(r.startsWith)for(var i in O)if(r.startsWith(i))return O[i]}}function A(e,t){var n=k(t),r=b[n];if(r&&r.indexOf(e)>-1)return!0;if(e.embeddable){var i=L(t);r=b[i];if(r&&r.indexOf(e)>-1)return!0}return!1}function M(e,t,n){if(e.init){var r=t[e.name];r?(t.completers.unshift(r),n&&n(r)):e.init(t,function(r){r&&e.name&&(t[e.name]=r,t.completers.unshift(r)),n&&n(r)})}else t[e.name]=e,t.completers.unshift(e),n&&n(e)}function _(e){e.smartCompleter.release?(e.smartCompleter.release(e,e[e.smartCompleter.name]),delete e[e.smartCompleter.name]):e.smartCompleter.init||delete e[e.smartCompleter.name],e.smartCompleter=null}function D(e,t){var n,r=b[e];if(r&&r.length)for(var i=0;i<r.length;i++)(!t||r[i].embeddable)&&(!n||n.priority<=r[i].priority)&&(n=r[i]);return n}function P(e){var t=e.$id.split("/").pop(),n=D(t);if(!e.$embeds||n)return{main:n};var r={};for(var i in e.$embeds){var s=O[e.$embeds[i]],o=D(s,!0);return o&&(n||(n=o),r[s]=o),{main:n,embeds:r}}}function H(e,t){t&&t.hasArgHints&&e.$enableArgumentHints?e.$onSmartCursorChange||(e.$onSmartCursorChange=S,e.on("changeSelection",e.$onSmartCursorChange)):e.$onSmartCursorChange&&(e.off("changeSelection",e.$onSmartCursorChange),e.$onSmartCursorChange=null,clearTimeout(e.$debounceArgHints))}function B(e){this.isGlobal=!0,this.editor=e,this.docs=null}function j(e){e.$restartWorker=function(t){t.editor&&!t.editor.$onSessionChange&&(e.off("changeEditor",e.$restartWorker),e.$restartWorker=null,a.updateWorkers(e))},e.on("changeEditor",e.$restartWorker)}function F(e,t){if(t&&t.hasAnnotations){e.$errorsProvider||(e.$errorsProvider=new B(e));if(!e.$onSessionChange){var n=a.registerProvider(e.$errorsProvider);e.$errorsProvider.$id=n,e.$onSessionChange=function(t){var n=t.session;n&&(a.updateWorkers(n),n.$restartWorker||j(n)),N.apply(e)},e.on("changeSession",e.$onSessionChange),e.on("change",T),e.$onSessionChange(e)}}else e.$onSessionChange&&(clearTimeout(e.$debounceAnnotations),e.off("change",T),e.off("changeSession",e.$onSessionChange),a.unregisterProvider(e.$errorsProvider),e.session.$restartWorker&&e.session.$restartWorker({editor:e}),e.$onSessionChange=null)}function I(e){e.$completerNeedsUpdate=y,e.$usedIntellisense=undefined;var t=e.session.$mode,n=P(t),r=e.$enableIntelligentAutocompletion?n.main:null;n.embeds;if(r===e.smartCompleter)return;e.smartCompleter&&_(e);var i=!1;r?(e.smartCompleter=r,M(r,e,function(t){e.smartCompleter==r&&i&&N.apply(e)}),!e.$enableDotCompletion&&r.triggerRegex&&(e.$enableDotCompletion=r.triggerRegex,e.commands.on("afterExec",E))):e.$enableDotCompletion&&(e.commands.off("afterExec",E),e.$enableDotCompletion=!1),i=r&&r.hasAnnotations&&!e[r.name],F(e,r),H(e,r)}var r=e("../config"),i=e("../lib/lang"),s=e("../autocomplete/util"),o=e("../snippets").snippetManager,u=e("../lib/event_emitter").EventEmitter,a=e("../annotations/annotations").Annotations,f=e("../autocomplete/text_completer");f.name="textCompleter";var l={name:"keywordCompleter",getCompletions:function(e,t,n,r,i){if(t.$mode.completer)return t.$mode.completer.getCompletions(e,t,n,r,i);var s=e.session.getState(n.row),o=t.$mode.getCompletions(s,t,n,r);i(null,o)}},c={name:"snipppetCompleter",getCompletions:function(e,t,n,r,i){var s=[],u=t.getTokenAt(n.row,n.column);u&&u.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?s.push("html-tag"):s=o.getActiveScopes(e);var a=o.snippetMap,f=[];s.forEach(function(e){var t=a[e]||[];for(var n=t.length;n--;){var r=t[n],i=r.name||r.tabTrigger;if(!i)continue;f.push({caption:i,snippet:r.content,iconClass:"completion-snippet",meta:r.tabTrigger&&!r.name?r.tabTrigger+"\u21e5 ":"snippet",type:"snippet"})}},this),i(null,f)},getDocTooltip:function(e){e.type=="snippet"&&!e.docHTML&&(e.docHTML=["<b>",i.escapeHTML(e.caption),"</b>","<hr></hr>",i.escapeHTML(e.snippet)].join(""))}},h={name:"expandSnippet",exec:function(e){return o.expandWithTab(e)},bindKey:"Tab"},p=function(e,t){d(t.session.$mode)},d=function(e){var t=e.$id;o.files||(o.files={}),v(t),e.modes&&e.modes.forEach(d)},v=function(e){if(!e||o.files[e])return;var t=e.replace("mode","snippets");o.files[e]={},r.loadModule(t,function(t){t&&(o.files[e]=t,!t.snippets&&t.snippetText&&(t.snippets=o.parseSnippetFile(t.snippetText)),o.register(t.snippets||[],t.scope),t.includeScopes&&(o.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach(function(e){v("ace/mode/"+e)})))})},m=e("../autocomplete").Autocomplete;m.tabCommand={name:"tabAutoComplete",exec:function(e,t){var n=s.getCompletionPrefix(e),r=e.completer&&e.completer.activated;if(!(e.getSelection().isEmpty()&&n&&!r))return!1;var i=m.for(e);i.autoInsert=!0,m.startCommand.exec(e)},bindKey:"Tab"},m.startCommand={name:"startAutocomplete",exec:function(e,t){e.$completerNeedsUpdate!=y&&I(e),e.completer||m.for(e),e.completer.autoInsert=!t||!t.live;var n=!1,r=e.smartCompleter,i;e.$enableIntelligentAutocompletion&&r&&A(r,e)&&(i=e[r.name])&&(n=i),n!==e.$usedIntellisense&&(e.completers=w.slice(0),n?(e.completers.unshift(i),e.$enableBasicAutocompletion&&(r.hasText||e.completers.push(f),r.hasKeyWords||e.completers.push(l))):e.$enableBasicAutocompletion&&e.completers.push(f,l),e.$usedIntellisense=i||!1),e.completer.showPopup(e),e.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var g=function(e){var t=e.editor,n=t.completer&&t.completer.activated;if(e.command.name==="backspace")n&&!s.getCompletionPrefix(t)&&t.completer.detach();else if(e.command.name==="insertstring"){var r=s.getCompletionPrefix(t);if(r&&!n){var i=m.for(t);i.autoInsert=!1,m.startCommand.exec(t,{live:!0})}}},y=0,b={};t.addCompletionProvider=function(e,t){for(var n in t)b[t[n]]?b[t[n]].push(e):b[t[n]]=[e];y++},t.removeCompletionProvider=function(e){var t=function(t){return t!=e};for(var n in b)b[n]&&b[n].indexOf(e)>-1&&(b[n]=b[n].filter(t));y++},t.getCompletionProviderByName=function(t){for(var n in w)if(w[n].name==t)return w[n];for(var r in b)for(var i in b[r]){var s=b[r][i];if(s.name==t)return s}},t.setOptions=function(e,t){var n=getCompletionProviderByName(e);n&&(n.options=Object.assign({},n.options,t),n.instance&&n.onOptionChanged&&n.onOptionChanged())};var w=[];t.setCompleters=function(e){w=e?e.slice(0):[]},t.addCompleter=function(e,t){if(w.indexOf(e)>0)return;w[t?"unshift":"push"](e),y++},t.removeCompleter=function(e){var t;while((t=w.indexOf(e))>0)w.splice(t,1);y++};var E=function(e,t){if(e.command.name==="insertstring"){var n=e.editor,r=n.smartCompleter;if(!r||!A(r,e.editor))return;var i=n.getSelectionRange().end,s=n.session.getTokenAt(i.row,i.column);if(!r.triggerRegex.test(n.session.getLine(i.row).substring(0,i.column)))return;s&&!/string|comment/.test(s.type.toString())&&n.execCommand("startAutocomplete")}},S=function(e,t){clearTimeout(t.$debounceArgHints),t.$debounceArgHints=setTimeout(x.bind(t),100)},x=function(){var e=this,t=e.smartCompleter,n;A(t,e)&&(n=e[t.name])&&n.updateArgHints(e)},T=function(e,t){clearTimeout(t.$debounceAnnotations),t.$debounceAnnotations=setTimeout(N.bind(t),2e3)},N=function(){var e=this,t=e.smartCompleter,n;A(t,e)&&(n=e[t.name])&&n.updateAnnotations(e,e.$errorsProvider.update.bind(e.$errorsProvider,e.session.id))},C=function(e,t){I(t)},O=t.embedMappings={"js-":"javascript","css-":"css","php-":"php"};B.prototype=Object.create(u),B.prototype.addDocument=function(e,t){this.docs[e]=t},B.prototype.removeDocument=function(e){delete this.docs[e]},B.prototype.terminate=function(){this.docs=null,this._signal("terminate")},B.prototype.update=function(e,t){this._emit("annotate",{data:{doc:e,data:t}})},B.prototype.canHandle=function(e,t){return this.editor.smartCompleter&&t===this.editor.session?this.editor.smartCompleter.priority:!1},B.prototype.createWorker=function(){return this.docs=Object.create(null),this},t.updateCompleter=I;var q=e("../editor").Editor;r.defineOptions(q.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:w),this.commands.addCommand(m.startCommand)):this.commands.removeCommand(m.startCommand)},value:!1},enableLiveAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:w),this.commands.on("afterExec",g)):this.commands.removeListener("afterExec",g)},value:!1},enableSnippets:{set:function(e){e?(this.commands.addCommand(h),this.on("changeMode",p),t.addCompleter(c),C(null,this)):(t.removeCompleter(c),this.commands.removeCommand(h),this.off("changeMode",p))},value:!1},enableArgumentHints:{set:function(e){H(this,this.smartCompleter)},value:!1},enableTabCompletion:{set:function(e){e?this.commands.addCommand(m.tabCommand):this.commands.removeCommand(m.tabCommand)},value:!0},enableIntelligentAutocompletion:{set:function(e){if(e)this.on("changeMode",C),this.completers=[],I(this),this.$enableBasicAutocompletion||this.commands.addCommand(m.startCommand);else{var t=this;this.off("changeMode",C),I(this),this.$enableBasicAutocompletion||this.commands.removeCommand(m.startCommand)}},value:!0}})}),ace.define("ace/ext/emmet",[],function(e,t,n){"use strict";function l(){}var r=e("../keyboard/hash_handler").MultiHashHandler,i=e("../editor").Editor,s=e("../snippets").snippetManager,o=e("../range").Range,u=e("../config"),a,f;l.prototype={setupContext:function(e){this.ace=e,this.indentation=e.session.getTabString(),a||(a=window.emmet);var t=a.resources||a.require("resources");t.setVariable("indentation",this.indentation),this.$syntax=null,this.$syntax=this.getSyntax()},getSelectionRange:function(){var e=this.ace.getSelectionRange(),t=this.ace.session.doc;return{start:t.positionToIndex(e.start),end:t.positionToIndex(e.end)}},createSelection:function(e,t){var n=this.ace.session.doc;this.ace.selection.setRange({start:n.indexToPosition(e),end:n.indexToPosition(t)})},getCurrentLineRange:function(){var e=this.ace,t=e.getCursorPosition().row,n=e.session.getLine(t).length,r=e.session.doc.positionToIndex({row:t,column:0});return{start:r,end:r+n}},getCaretPos:function(){var e=this.ace.getCursorPosition();return this.ace.session.doc.positionToIndex(e)},setCaretPos:function(e){var t=this.ace.session.doc.indexToPosition(e);this.ace.selection.moveToPosition(t)},getCurrentLine:function(){var e=this.ace.getCursorPosition().row;return this.ace.session.getLine(e)},replaceContent:function(e,t,n,r){n==null&&(n=t==null?this.getContent().length:t),t==null&&(t=0);var i=this.ace,u=i.session.doc,a=o.fromPoints(u.indexToPosition(t),u.indexToPosition(n));i.session.remove(a),a.end=a.start,e=this.$updateTabstops(e),s.insertSnippet(i,e)},getContent:function(){return this.ace.getValue()},getSyntax:function(){if(this.$syntax)return this.$syntax;var e=this.ace.session.$modeId.split("/").pop();if(e=="html"||e=="php"){var t=this.ace.getCursorPosition(),n=this.ace.session.getState(t.row);typeof n!="string"&&(n=n[0]),n&&(n=n.split("-"),n.length>1?e=n[0]:e=="php"&&(e="html"))}return e},getProfileName:function(){var e=a.resources||a.require("resources");switch(this.getSyntax()){case"css":return"css";case"xml":case"javascript":case"typescript":case"tsx":return"jsx";case"xsl":return"xml";case"html":var t=e.getVariable("profile");return t||(t=this.ace.session.getLines(0,2).join("").search(/<!DOCTYPE[^>]+XHTML/i)!=-1?"xhtml":"html"),t;default:var n=this.ace.session.$mode;return n.emmetConfig&&n.emmetConfig.profile||"xhtml"}},prompt:function(e){return prompt(e)},getSelection:function(){return this.ace.session.getTextRange()},getFilePath:function(){return""},$updateTabstops:function(e){var t=1e3,n=0,r=null,i=a.tabStops||a.require("tabStops"),s=a.resources||a.require("resources"),o=s.getVocabulary("user"),u={tabstop:function(e){var s=parseInt(e.group,10),o=s===0;o?s=++n:s+=t;var a=e.placeholder;a&&(a=i.processText(a,u));var f="${"+s+(a?":"+a:"")+"}";return o&&(r=[e.start,f]),f},escape:function(e){return e=="$"?"\\$":e=="\\"?"\\\\":e}};e=i.processText(e,u);if(o.variables.insert_final_tabstop&&!/\$\{0\}$/.test(e))e+="${0}";else if(r){var f=a.utils?a.utils.common:a.require("utils");e=f.replaceSubstring(e,"${0}",r[0],r[1])}return e}};var c={expand_abbreviation:{mac:"ctrl+alt+e",win:"alt+e"},balance_outward:{mac:"ctrl+d",win:"ctrl+,"},balance_inward:{mac:"ctrl+j",win:"ctrl+shift+0"},matching_pair:{mac:"ctrl+alt+j",win:"alt+j"},next_edit_point:"alt+right",prev_edit_point:"alt+left",toggle_comment:{mac:"command+/",win:"ctrl+/"},split_join_tag:{mac:"shift+command+'",win:"shift+ctrl+`"},remove_tag:{mac:"command+'",win:"shift+ctrl+;"},evaluate_math_expression:{mac:"shift+command+y",win:"shift+ctrl+y"},increment_number_by_1:"ctrl+up",decrement_number_by_1:"ctrl+down",increment_number_by_01:"alt+up",decrement_number_by_01:"alt+down",increment_number_by_10:{mac:"alt+command+up",win:"shift+alt+up"},decrement_number_by_10:{mac:"alt+command+down",win:"shift+alt+down"},select_next_item:{mac:"shift+command+.",win:"shift+ctrl+."},select_previous_item:{mac:"shift+command+,",win:"shift+ctrl+,"},reflect_css_value:{mac:"shift+command+r",win:"shift+ctrl+r"},encode_decode_data_url:{mac:"shift+ctrl+d",win:"ctrl+'"},expand_abbreviation_with_tab:"Tab",wrap_with_abbreviation:{mac:"shift+ctrl+a",win:"shift+ctrl+a"}},h=new l;t.commands=new r,t.runEmmetCommand=function g(e){var n;if(this.action=="expand_abbreviation_with_tab"){if(!e.selection.isEmpty())return!1;var r=e.selection.lead,i=e.session.getTokenAt(r.row,r.column);if(i&&/\btag\b/.test(i.type))return!1}try{h.setupContext(e);var s=a.actions||a.require("actions");if(this.action=="wrap_with_abbreviation")return setTimeout(function(){s.run("wrap_with_abbreviation",h)},0);n=s.run(this.action,h)}catch(o){if(!a){var f=t.load(g.bind(this,e));return this.action=="expand_abbreviation_with_tab"?!1:f}e._signal("changeStatus",typeof o=="string"?o:o.message),u.warn(o),n=!1}return n};var p=[];for(var d in c){var v="Emmet: "+d[0].toUpperCase()+d.substring(1).split("_").join(" ");p.push({name:v,action:d,exec:t.runEmmetCommand,multiSelectAction:"forEach"}),t.commands.bindKey(c[d],v)}t.commands.addCommands({expandSnippet:"Tab"}),t.updateCommands=function(e,n){n?e.keyBinding.addKeyboardHandler(t.commands):e.keyBinding.removeKeyboardHandler(t.commands)},t.isSupportedMode=function(e){if(!e)return!1;if(e.emmetConfig)return!0;var t=e.$id||e;return/css|less|scss|sass|stylus|html|php|twig|ejs|handlebars/.test(t)},t.isAvailable=function(e,n){if(/(evaluate_math_expression|expand_abbreviation)$/.test(n))return!0;var r=e.session.$mode,i=t.isSupportedMode(r);if(i&&r.$modes)try{h.setupContext(e),/js|php/.test(h.getSyntax())&&(i=!1)}catch(s){}return i};var m=function(e,n){var r=n;if(!r)return;var i=t.isSupportedMode(r.session.$mode);e.enableEmmet===!1&&(i=!1),i&&t.load(),t.updateCommands(r,i)};t.load=function(e){return typeof f!="string"?(u.warn("script for emmet-core is not loaded"),!1):(u.loadModule(f,function(){f=null,e&&e()}),!0)},t.AceEmmetEditor=l,u.defineOptions(i.prototype,"editor",{enableEmmet:{set:function(e){this[e?"on":"removeListener"]("changeMode",m),m({enableEmmet:!!e},this),this.commands[e?"addCommands":"removeCommands"](p)},value:!0}}),t.setCore=function(e){typeof e=="string"?f=e:a=e}}),ace.define("ace/ext/themelist",[],function(e,t,n){"use strict";var r=[["Chrome"],["Clouds"],["Crimson Editor"],["Dawn"],["Dreamweaver"],["Eclipse"],["GitHub"],["IPlastic"],["Solarized Light"],["TextMate"],["Tomorrow"],["Xcode"],["Kuroir"],["KatzenMilch"],["SQL Server","sqlserver","light"],["Ambiance","ambiance","dark"],["Chaos","chaos","dark"],["Clouds Midnight","clouds_midnight","dark"],["Dracula","","dark"],["Cobalt","cobalt","dark"],["Gruvbox","gruvbox","dark"],["Green on Black","gob","dark"],["idle Fingers","idle_fingers","dark"],["krTheme","kr_theme","dark"],["Merbivore","merbivore","dark"],["Merbivore Soft","merbivore_soft","dark"],["Mono Industrial","mono_industrial","dark"],["Monokai","monokai","dark"],["Nord Dark","nord_dark","dark"],["Pastel on dark","pastel_on_dark","dark"],["Solarized Dark","solarized_dark","dark"],["Terminal","terminal","dark"],["Tomorrow Night","tomorrow_night","dark"],["Tomorrow Night Blue","tomorrow_night_blue","dark"],["Tomorrow Night Bright","tomorrow_night_bright","dark"],["Tomorrow Night 80s","tomorrow_night_eighties","dark"],["Twilight","twilight","dark"],["Vibrant Ink","vibrant_ink","dark"]];t.themesByName={},t.themes=r.map(function(e){var n=e[1]||e[0].replace(/ /g,"_").toLowerCase(),r={caption:e[0],theme:"ace/theme/"+n,isDark:e[2]=="dark",name:n};return t.themesByName[n]=r,r})}),ace.define("ace/ext/modelist",[],function(e,t,n){"use strict";function i(e){var t=a.text,n=e.split(/[\/\\]/).pop();for(var i=0;i<r.length;i++)if(r[i].supportsFile(n)){t=r[i];break}return t}var r=[],s=function(e,t,n){this.name=e,this.caption=t,this.mode="ace/mode/"+e,this.extensions=n;var r;/\^/.test(n)?r=n.replace(/\|(\^)?/g,function(e,t){return"$|"+(t?"^":"^.*\\.")})+"$":r="^.*\\.("+n+")$",this.extRe=new RegExp(r,"gi")};s.prototype.supportsFile=function(e){return e.match(this.extRe)};var o={ABAP:["abap"],ABC:["abc"],ActionScript:["as"],ADA:["ada|adb"],Alda:["alda"],Apache_Conf:["^htaccess|^htgroups|^htpasswd|^conf|htaccess|htgroups|htpasswd"],Apex:["apex|cls|trigger|tgr"],AQL:["aql"],AsciiDoc:["asciidoc|adoc"],ASL:["dsl|asl"],Assembly_x86:["asm|a"],AutoHotKey:["ahk"],BatchFile:["bat|cmd"],C_Cpp:["cpp|c|cc|cxx|h|hh|hpp|ino"],C9Search:["c9search_results"],Cirru:["cirru|cr"],Clojure:["clj|cljs"],Cobol:["CBL|COB"],coffee:["coffee|cf|cson|^Cakefile"],ColdFusion:["cfm"],Crystal:["cr"],CSharp:["cs"],Csound_Document:["csd"],Csound_Orchestra:["orc"],Csound_Score:["sco"],CSS:["css"],Curly:["curly"],D:["d|di"],Dart:["dart"],Diff:["diff|patch"],Dockerfile:["^Dockerfile"],Dot:["dot"],Drools:["drl"],Edifact:["edi"],Eiffel:["e|ge"],EJS:["ejs"],Elixir:["ex|exs"],Elm:["elm"],Erlang:["erl|hrl"],Forth:["frt|fs|ldr|fth|4th"],Fortran:["f|f90"],FSharp:["fsi|fs|ml|mli|fsx|fsscript"],FSL:["fsl"],FTL:["ftl"],Gcode:["gcode"],Gherkin:["feature"],Gitignore:["^.gitignore"],Glsl:["glsl|frag|vert"],Gobstones:["gbs"],golang:["go"],GraphQLSchema:["gql"],Groovy:["groovy"],HAML:["haml"],Handlebars:["hbs|handlebars|tpl|mustache"],Haskell:["hs"],Haskell_Cabal:["cabal"],haXe:["hx"],Hjson:["hjson"],HTML:["html|htm|xhtml|vue|we|wpy"],HTML_Elixir:["eex|html.eex"],HTML_Ruby:["erb|rhtml|html.erb"],INI:["ini|conf|cfg|prefs"],Io:["io"],Jack:["jack"],Jade:["jade|pug"],Java:["java"],JavaScript:["js|jsm"],JSON:["json"],JSON5:["json5"],JSONiq:["jq"],JSP:["jsp"],JSSM:["jssm|jssm_state"],JSX:["jsx"],Julia:["jl"],Kotlin:["kt|kts"],LaTeX:["tex|latex|ltx|bib"],LESS:["less"],Liquid:["liquid"],Lisp:["lisp"],LiveScript:["ls"],LogiQL:["logic|lql"],LSL:["lsl"],Lua:["lua"],LuaPage:["lp"],Lucene:["lucene"],Makefile:["^Makefile|^GNUmakefile|^makefile|^OCamlMakefile|make"],Markdown:["md|markdown"],Mask:["mask"],MATLAB:["matlab"],Maze:["mz"],MediaWiki:["wiki|mediawiki"],MEL:["mel"],MIXAL:["mixal"],MUSHCode:["mc|mush"],MySQL:["mysql"],Nginx:["nginx|conf"],Nim:["nim"],Nix:["nix"],NSIS:["nsi|nsh"],Nunjucks:["nunjucks|nunjs|nj|njk"],ObjectiveC:["m|mm"],OCaml:["ml|mli"],Pascal:["pas|p"],Perl:["pl|pm"],Perl6:["p6|pl6|pm6"],pgSQL:["pgsql"],PHP:["php|inc|phtml|shtml|php3|php4|php5|phps|phpt|aw|ctp|module"],PHP_Laravel_blade:["blade.php"],Pig:["pig"],Powershell:["ps1"],Praat:["praat|praatscript|psc|proc"],Prisma:["prisma"],Prolog:["plg|prolog"],Properties:["properties"],Protobuf:["proto"],Puppet:["epp|pp"],Python:["py"],QML:["qml"],R:["r"],Razor:["cshtml|asp"],RDoc:["Rd"],Red:["red|reds"],RHTML:["Rhtml"],RST:["rst"],Ruby:["rb|ru|gemspec|rake|^Guardfile|^Rakefile|^Gemfile"],Rust:["rs"],SASS:["sass"],SCAD:["scad"],Scala:["scala|sbt"],Scheme:["scm|sm|rkt|oak|scheme"],SCSS:["scss"],SH:["sh|bash|^.bashrc"],SJS:["sjs"],Slim:["slim|skim"],Smarty:["smarty|tpl"],snippets:["snippets"],Soy_Template:["soy"],Space:["space"],SQL:["sql"],SQLServer:["sqlserver"],Stylus:["styl|stylus"],SVG:["svg"],Swift:["swift"],Tcl:["tcl"],Terraform:["tf","tfvars","terragrunt"],Tex:["tex"],Text:["txt"],Textile:["textile"],Toml:["toml"],TSX:["tsx"],Twig:["latte|twig|swig"],Typescript:["ts|typescript|str"],Vala:["vala"],VBScript:["vbs|vb"],Velocity:["vm"],Verilog:["v|vh|sv|svh"],VHDL:["vhd|vhdl"],Visualforce:["vfp|component|page"],Wollok:["wlk|wpgm|wtest"],XML:["xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl|xaml"],XQuery:["xq"],YAML:["yaml|yml"],Zeek:["zeek|bro"],Django:["html"]},u={ObjectiveC:"Objective-C",CSharp:"C#",golang:"Go",C_Cpp:"C and C++",Csound_Document:"Csound Document",Csound_Orchestra:"Csound",Csound_Score:"Csound Score",coffee:"CoffeeScript",HTML_Ruby:"HTML (Ruby)",HTML_Elixir:"HTML (Elixir)",FTL:"FreeMarker",PHP_Laravel_blade:"PHP (Blade Template)",Perl6:"Perl 6",AutoHotKey:"AutoHotkey / AutoIt"},a={};for(var f in o){var l=o[f],c=(u[f]||f).replace(/_/g," "),h=f.toLowerCase(),p=new s(h,c,l[0]);a[h]=p,r.push(p)}n.exports={getModeForPath:i,modes:r,modesByName:a}}),ace.define("ace/grace",[],function(e,t,n){e("./ext/completions"),e("./ext/emmet"),e("./ext/themelist"),e("./ext/modelist")}),ace.define("ace/ace",[],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/dom"),i=e("./lib/event"),s=e("./range").Range,o=e("./editor").Editor,u=e("./edit_session").EditSession,a=e("./undomanager").UndoManager,f=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),e("./grace"),t.config=e("./config"),t.require=e,typeof define=="function"&&(t.define=define),t.edit=function(e,n){if(typeof e=="string"){var s=e;e=document.getElementById(s);if(!e)throw new Error("ace.edit can't find div #"+s)}if(e&&e.env&&e.env.editor instanceof o)return e.env.editor;var u="";if(e&&/input|textarea/i.test(e.tagName)){var a=e;u=a.value,e=r.createElement("pre"),a.parentNode.replaceChild(e,a)}else e&&(u=e.textContent,e.innerHTML="");var l=t.createEditSession(u),c=new o(new f(e),l,n),h={document:l,editor:c,onResize:c.resize.bind(c,null)};return a&&(h.textarea=a),i.addListener(window,"resize",h.onResize),c.on("destroy",function(){i.removeListener(window,"resize",h.onResize),h.editor.container.env=null}),c.container.env=c.env=h,c},t.createEditSession=function(e,t){var n=new u(e,t);return n.setUndoManager(new a),n},t.Range=s,t.Editor=o,t.EditSession=u,t.UndoManager=a,t.VirtualRenderer=f,t.version=t.config.version});
            (function() {
                ace.require(["ace/ace"], function(a) {
                    if (a) {
                        a.config.init(true);
                        a.define = ace.define;
                    }
                    if (!window.ace)
                        window.ace = a;
                    for (var key in a) if (a.hasOwnProperty(key))
                        window.ace[key] = a[key];
                    window.ace["default"] = window.ace;
                    if (typeof module == "object" && typeof exports == "object" && module) {
                        module.exports = window.ace;
                    }
                });
            })();
        ;ace.config.set('basePath','./src-min-noconflict');;var diff_match_patch=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;diff_match_patch.Diff=function(t,i){this[0]=t,this[1]=i},diff_match_patch.Diff.prototype.length=2,diff_match_patch.Diff.prototype.toString=function(){return this[0]+","+this[1]},diff_match_patch.prototype.diff_main=function(t,i,h,e){"undefined"==typeof e&&(e=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var f=e;if(null==t||null==i)throw new Error("Null input. (diff_main)");if(t==i)return t?[new diff_match_patch.Diff(DIFF_EQUAL,t)]:[];"undefined"==typeof h&&(h=!0);var n=h,a=this.diff_commonPrefix(t,i),r=t.substring(0,a);t=t.substring(a),i=i.substring(a),a=this.diff_commonSuffix(t,i);var s=t.substring(t.length-a);t=t.substring(0,t.length-a),i=i.substring(0,i.length-a);var _=this.diff_compute_(t,i,n,f);return r&&_.unshift(new diff_match_patch.Diff(DIFF_EQUAL,r)),s&&_.push(new diff_match_patch.Diff(DIFF_EQUAL,s)),this.diff_cleanupMerge(_),_},diff_match_patch.prototype.diff_compute_=function(t,i,h,e){var f;if(!t)return[new diff_match_patch.Diff(DIFF_INSERT,i)];if(!i)return[new diff_match_patch.Diff(DIFF_DELETE,t)];var n=t.length>i.length?t:i,a=t.length>i.length?i:t,r=n.indexOf(a);if(-1!=r)return f=[new diff_match_patch.Diff(DIFF_INSERT,n.substring(0,r)),new diff_match_patch.Diff(DIFF_EQUAL,a),new diff_match_patch.Diff(DIFF_INSERT,n.substring(r+a.length))],t.length>i.length&&(f[0][0]=f[2][0]=DIFF_DELETE),f;if(1==a.length)return[new diff_match_patch.Diff(DIFF_DELETE,t),new diff_match_patch.Diff(DIFF_INSERT,i)];var s=this.diff_halfMatch_(t,i);if(s){var _=s[0],c=s[1],l=s[2],g=s[3],o=s[4],p=this.diff_main(_,l,h,e),d=this.diff_main(c,g,h,e);return p.concat([new diff_match_patch.Diff(DIFF_EQUAL,o)],d)}return h&&t.length>100&&i.length>100?this.diff_lineMode_(t,i,e):this.diff_bisect_(t,i,e)},diff_match_patch.prototype.diff_lineMode_=function(t,i,h){var e=this.diff_linesToChars_(t,i);t=e.chars1,i=e.chars2;var f=e.lineArray,n=this.diff_main(t,i,!1,h);this.diff_charsToLines_(n,f),this.diff_cleanupSemantic(n),n.push(new diff_match_patch.Diff(DIFF_EQUAL,""));for(var a=0,r=0,s=0,_="",c="";a<n.length;){switch(n[a][0]){case DIFF_INSERT:s++,c+=n[a][1];break;case DIFF_DELETE:r++,_+=n[a][1];break;case DIFF_EQUAL:if(r>=1&&s>=1){n.splice(a-r-s,r+s),a=a-r-s;for(var l=this.diff_main(_,c,!1,h),g=l.length-1;g>=0;g--)n.splice(a,0,l[g]);a+=l.length}s=0,r=0,_="",c=""}a++}return n.pop(),n},diff_match_patch.prototype.diff_bisect_=function(t,i,h){for(var e=t.length,f=i.length,n=Math.ceil((e+f)/2),a=n,r=2*n,s=new Array(r),_=new Array(r),c=0;r>c;c++)s[c]=-1,_[c]=-1;s[a+1]=0,_[a+1]=0;for(var l=e-f,g=l%2!=0,o=0,p=0,d=0,u=0,m=0;n>m&&!((new Date).getTime()>h);m++){for(var F=-m+o;m-p>=F;F+=2){var D,E=a+F;D=F==-m||F!=m&&s[E-1]<s[E+1]?s[E+1]:s[E-1]+1;for(var I=D-F;e>D&&f>I&&t.charAt(D)==i.charAt(I);)D++,I++;if(s[E]=D,D>e)p+=2;else if(I>f)o+=2;else if(g){var b=a+l-F;if(b>=0&&r>b&&-1!=_[b]){var v=e-_[b];if(D>=v)return this.diff_bisectSplit_(t,i,D,I,h)}}}for(var w=-m+d;m-u>=w;w+=2){var v,b=a+w;v=w==-m||w!=m&&_[b-1]<_[b+1]?_[b+1]:_[b-1]+1;for(var L=v-w;e>v&&f>L&&t.charAt(e-v-1)==i.charAt(f-L-1);)v++,L++;if(_[b]=v,v>e)u+=2;else if(L>f)d+=2;else if(!g){var E=a+l-w;if(E>=0&&r>E&&-1!=s[E]){var D=s[E],I=a+D-E;if(v=e-v,D>=v)return this.diff_bisectSplit_(t,i,D,I,h)}}}}return[new diff_match_patch.Diff(DIFF_DELETE,t),new diff_match_patch.Diff(DIFF_INSERT,i)]},diff_match_patch.prototype.diff_bisectSplit_=function(t,i,h,e,f){var n=t.substring(0,h),a=i.substring(0,e),r=t.substring(h),s=i.substring(e),_=this.diff_main(n,a,!1,f),c=this.diff_main(r,s,!1,f);return _.concat(c)},diff_match_patch.prototype.diff_linesToChars_=function(t,i){function h(t){for(var i="",h=0,a=-1,r=e.length;a<t.length-1;){a=t.indexOf("\n",h),-1==a&&(a=t.length-1);var s=t.substring(h,a+1);(f.hasOwnProperty?f.hasOwnProperty(s):void 0!==f[s])?i+=String.fromCharCode(f[s]):(r==n&&(s=t.substring(h),a=t.length),i+=String.fromCharCode(r),f[s]=r,e[r++]=s),h=a+1}return i}var e=[],f={};e[0]="";var n=4e4,a=h(t);n=65535;var r=h(i);return{chars1:a,chars2:r,lineArray:e}},diff_match_patch.prototype.diff_charsToLines_=function(t,i){for(var h=0;h<t.length;h++){for(var e=t[h][1],f=[],n=0;n<e.length;n++)f[n]=i[e.charCodeAt(n)];t[h][1]=f.join("")}},diff_match_patch.prototype.diff_commonPrefix=function(t,i){if(!t||!i||t.charAt(0)!=i.charAt(0))return 0;for(var h=0,e=Math.min(t.length,i.length),f=e,n=0;f>h;)t.substring(n,f)==i.substring(n,f)?(h=f,n=h):e=f,f=Math.floor((e-h)/2+h);return f},diff_match_patch.prototype.diff_commonSuffix=function(t,i){if(!t||!i||t.charAt(t.length-1)!=i.charAt(i.length-1))return 0;for(var h=0,e=Math.min(t.length,i.length),f=e,n=0;f>h;)t.substring(t.length-f,t.length-n)==i.substring(i.length-f,i.length-n)?(h=f,n=h):e=f,f=Math.floor((e-h)/2+h);return f},diff_match_patch.prototype.diff_commonOverlap_=function(t,i){var h=t.length,e=i.length;if(0==h||0==e)return 0;h>e?t=t.substring(h-e):e>h&&(i=i.substring(0,h));var f=Math.min(h,e);if(t==i)return f;for(var n=0,a=1;;){var r=t.substring(f-a),s=i.indexOf(r);if(-1==s)return n;a+=s,(0==s||t.substring(f-a)==i.substring(0,a))&&(n=a,a++)}},diff_match_patch.prototype.diff_halfMatch_=function(t,i){function h(t,i,h){for(var e,f,n,r,s=t.substring(h,h+Math.floor(t.length/4)),_=-1,c="";-1!=(_=i.indexOf(s,_+1));){var l=a.diff_commonPrefix(t.substring(h),i.substring(_)),g=a.diff_commonSuffix(t.substring(0,h),i.substring(0,_));c.length<g+l&&(c=i.substring(_-g,_)+i.substring(_,_+l),e=t.substring(0,h-g),f=t.substring(h+l),n=i.substring(0,_-g),r=i.substring(_+l))}return 2*c.length>=t.length?[e,f,n,r,c]:null}if(this.Diff_Timeout<=0)return null;var e=t.length>i.length?t:i,f=t.length>i.length?i:t;if(e.length<4||2*f.length<e.length)return null;var n,a=this,r=h(e,f,Math.ceil(e.length/4)),s=h(e,f,Math.ceil(e.length/2));if(!r&&!s)return null;n=s?r&&r[4].length>s[4].length?r:s:r;var _,c,l,g;t.length>i.length?(_=n[0],c=n[1],l=n[2],g=n[3]):(l=n[0],g=n[1],_=n[2],c=n[3]);var o=n[4];return[_,c,l,g,o]},diff_match_patch.prototype.diff_cleanupSemantic=function(t){for(var i=!1,h=[],e=0,f=null,n=0,a=0,r=0,s=0,_=0;n<t.length;)t[n][0]==DIFF_EQUAL?(h[e++]=n,a=s,r=_,s=0,_=0,f=t[n][1]):(t[n][0]==DIFF_INSERT?s+=t[n][1].length:_+=t[n][1].length,f&&f.length<=Math.max(a,r)&&f.length<=Math.max(s,_)&&(t.splice(h[e-1],0,new diff_match_patch.Diff(DIFF_DELETE,f)),t[h[e-1]+1][0]=DIFF_INSERT,e--,e--,n=e>0?h[e-1]:-1,a=0,r=0,s=0,_=0,f=null,i=!0)),n++;for(i&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),n=1;n<t.length;){if(t[n-1][0]==DIFF_DELETE&&t[n][0]==DIFF_INSERT){var c=t[n-1][1],l=t[n][1],g=this.diff_commonOverlap_(c,l),o=this.diff_commonOverlap_(l,c);g>=o?(g>=c.length/2||g>=l.length/2)&&(t.splice(n,0,new diff_match_patch.Diff(DIFF_EQUAL,l.substring(0,g))),t[n-1][1]=c.substring(0,c.length-g),t[n+1][1]=l.substring(g),n++):(o>=c.length/2||o>=l.length/2)&&(t.splice(n,0,new diff_match_patch.Diff(DIFF_EQUAL,c.substring(0,o))),t[n-1][0]=DIFF_INSERT,t[n-1][1]=l.substring(0,l.length-o),t[n+1][0]=DIFF_DELETE,t[n+1][1]=c.substring(o),n++),n++}n++}},diff_match_patch.prototype.diff_cleanupSemanticLossless=function(t){function i(t,i){if(!t||!i)return 6;var h=t.charAt(t.length-1),e=i.charAt(0),f=h.match(diff_match_patch.nonAlphaNumericRegex_),n=e.match(diff_match_patch.nonAlphaNumericRegex_),a=f&&h.match(diff_match_patch.whitespaceRegex_),r=n&&e.match(diff_match_patch.whitespaceRegex_),s=a&&h.match(diff_match_patch.linebreakRegex_),_=r&&e.match(diff_match_patch.linebreakRegex_),c=s&&t.match(diff_match_patch.blanklineEndRegex_),l=_&&i.match(diff_match_patch.blanklineStartRegex_);return c||l?5:s||_?4:f&&!a&&r?3:a||r?2:f||n?1:0}for(var h=1;h<t.length-1;){if(t[h-1][0]==DIFF_EQUAL&&t[h+1][0]==DIFF_EQUAL){var e=t[h-1][1],f=t[h][1],n=t[h+1][1],a=this.diff_commonSuffix(e,f);if(a){var r=f.substring(f.length-a);e=e.substring(0,e.length-a),f=r+f.substring(0,f.length-a),n=r+n}for(var s=e,_=f,c=n,l=i(e,f)+i(f,n);f.charAt(0)===n.charAt(0);){e+=f.charAt(0),f=f.substring(1)+n.charAt(0),n=n.substring(1);var g=i(e,f)+i(f,n);g>=l&&(l=g,s=e,_=f,c=n)}t[h-1][1]!=s&&(s?t[h-1][1]=s:(t.splice(h-1,1),h--),t[h][1]=_,c?t[h+1][1]=c:(t.splice(h+1,1),h--))}h++}},diff_match_patch.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,diff_match_patch.whitespaceRegex_=/\s/,diff_match_patch.linebreakRegex_=/[\r\n]/,diff_match_patch.blanklineEndRegex_=/\n\r?\n$/,diff_match_patch.blanklineStartRegex_=/^\r?\n\r?\n/,diff_match_patch.prototype.diff_cleanupEfficiency=function(t){for(var i=!1,h=[],e=0,f=null,n=0,a=!1,r=!1,s=!1,_=!1;n<t.length;)t[n][0]==DIFF_EQUAL?(t[n][1].length<this.Diff_EditCost&&(s||_)?(h[e++]=n,a=s,r=_,f=t[n][1]):(e=0,f=null),s=_=!1):(t[n][0]==DIFF_DELETE?_=!0:s=!0,f&&(a&&r&&s&&_||f.length<this.Diff_EditCost/2&&a+r+s+_==3)&&(t.splice(h[e-1],0,new diff_match_patch.Diff(DIFF_DELETE,f)),t[h[e-1]+1][0]=DIFF_INSERT,e--,f=null,a&&r?(s=_=!0,e=0):(e--,n=e>0?h[e-1]:-1,s=_=!1),i=!0)),n++;i&&this.diff_cleanupMerge(t)},diff_match_patch.prototype.diff_cleanupMerge=function(t){t.push(new diff_match_patch.Diff(DIFF_EQUAL,""));for(var i,h=0,e=0,f=0,n="",a="";h<t.length;)switch(t[h][0]){case DIFF_INSERT:f++,a+=t[h][1],h++;break;case DIFF_DELETE:e++,n+=t[h][1],h++;break;case DIFF_EQUAL:e+f>1?(0!==e&&0!==f&&(i=this.diff_commonPrefix(a,n),0!==i&&(h-e-f>0&&t[h-e-f-1][0]==DIFF_EQUAL?t[h-e-f-1][1]+=a.substring(0,i):(t.splice(0,0,new diff_match_patch.Diff(DIFF_EQUAL,a.substring(0,i))),h++),a=a.substring(i),n=n.substring(i)),i=this.diff_commonSuffix(a,n),0!==i&&(t[h][1]=a.substring(a.length-i)+t[h][1],a=a.substring(0,a.length-i),n=n.substring(0,n.length-i))),h-=e+f,t.splice(h,e+f),n.length&&(t.splice(h,0,new diff_match_patch.Diff(DIFF_DELETE,n)),h++),a.length&&(t.splice(h,0,new diff_match_patch.Diff(DIFF_INSERT,a)),h++),h++):0!==h&&t[h-1][0]==DIFF_EQUAL?(t[h-1][1]+=t[h][1],t.splice(h,1)):h++,f=0,e=0,n="",a=""}""===t[t.length-1][1]&&t.pop();var r=!1;for(h=1;h<t.length-1;)t[h-1][0]==DIFF_EQUAL&&t[h+1][0]==DIFF_EQUAL&&(t[h][1].substring(t[h][1].length-t[h-1][1].length)==t[h-1][1]?(t[h][1]=t[h-1][1]+t[h][1].substring(0,t[h][1].length-t[h-1][1].length),t[h+1][1]=t[h-1][1]+t[h+1][1],t.splice(h-1,1),r=!0):t[h][1].substring(0,t[h+1][1].length)==t[h+1][1]&&(t[h-1][1]+=t[h+1][1],t[h][1]=t[h][1].substring(t[h+1][1].length)+t[h+1][1],t.splice(h+1,1),r=!0)),h++;r&&this.diff_cleanupMerge(t)},diff_match_patch.prototype.diff_xIndex=function(t,i){var h,e=0,f=0,n=0,a=0;for(h=0;h<t.length&&(t[h][0]!==DIFF_INSERT&&(e+=t[h][1].length),t[h][0]!==DIFF_DELETE&&(f+=t[h][1].length),!(e>i));h++)n=e,a=f;return t.length!=h&&t[h][0]===DIFF_DELETE?a:a+(i-n)},diff_match_patch.prototype.diff_prettyHtml=function(t){for(var i=[],h=/&/g,e=/</g,f=/>/g,n=/\n/g,a=0;a<t.length;a++){var r=t[a][0],s=t[a][1],_=s.replace(h,"&amp;").replace(e,"&lt;").replace(f,"&gt;").replace(n,"&para;<br>");switch(r){case DIFF_INSERT:i[a]='<ins style="background:#e6ffe6;">'+_+"</ins>";break;case DIFF_DELETE:i[a]='<del style="background:#ffe6e6;">'+_+"</del>";break;case DIFF_EQUAL:i[a]="<span>"+_+"</span>"}}return i.join("")},diff_match_patch.prototype.diff_text1=function(t){for(var i=[],h=0;h<t.length;h++)t[h][0]!==DIFF_INSERT&&(i[h]=t[h][1]);return i.join("")},diff_match_patch.prototype.diff_text2=function(t){for(var i=[],h=0;h<t.length;h++)t[h][0]!==DIFF_DELETE&&(i[h]=t[h][1]);return i.join("")},diff_match_patch.prototype.diff_levenshtein=function(t){for(var i=0,h=0,e=0,f=0;f<t.length;f++){var n=t[f][0],a=t[f][1];switch(n){case DIFF_INSERT:h+=a.length;break;case DIFF_DELETE:e+=a.length;break;case DIFF_EQUAL:i+=Math.max(h,e),h=0,e=0}}return i+=Math.max(h,e)},diff_match_patch.prototype.diff_toDelta=function(t){for(var i=[],h=0;h<t.length;h++)switch(t[h][0]){case DIFF_INSERT:i[h]="+"+encodeURI(t[h][1]);break;case DIFF_DELETE:i[h]="-"+t[h][1].length;break;case DIFF_EQUAL:i[h]="="+t[h][1].length}return i.join("	").replace(/%20/g," ")},diff_match_patch.prototype.diff_fromDelta=function(t,i){for(var h=[],e=0,f=0,n=i.split(/\t/g),a=0;a<n.length;a++){var r=n[a].substring(1);switch(n[a].charAt(0)){case"+":try{h[e++]=new diff_match_patch.Diff(DIFF_INSERT,decodeURI(r))}catch(s){throw new Error("Illegal escape in diff_fromDelta: "+r)}break;case"-":case"=":var _=parseInt(r,10);if(isNaN(_)||0>_)throw new Error("Invalid number in diff_fromDelta: "+r);var c=t.substring(f,f+=_);h[e++]="="==n[a].charAt(0)?new diff_match_patch.Diff(DIFF_EQUAL,c):new diff_match_patch.Diff(DIFF_DELETE,c);break;default:if(n[a])throw new Error("Invalid diff operation in diff_fromDelta: "+n[a])}}if(f!=t.length)throw new Error("Delta length ("+f+") does not equal source text length ("+t.length+").");return h},diff_match_patch.prototype.match_main=function(t,i,h){if(null==t||null==i||null==h)throw new Error("Null input. (match_main)");return h=Math.max(0,Math.min(h,t.length)),t==i?0:t.length?t.substring(h,h+i.length)==i?h:this.match_bitap_(t,i,h):-1},diff_match_patch.prototype.match_bitap_=function(t,i,h){function e(t,e){var f=t/i.length,a=Math.abs(h-e);return n.Match_Distance?f+a/n.Match_Distance:a?1:f}if(i.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var f=this.match_alphabet_(i),n=this,a=this.Match_Threshold,r=t.indexOf(i,h);-1!=r&&(a=Math.min(e(0,r),a),r=t.lastIndexOf(i,h+i.length),-1!=r&&(a=Math.min(e(0,r),a)));var s=1<<i.length-1;r=-1;for(var _,c,l,g=i.length+t.length,o=0;o<i.length;o++){for(_=0,c=g;c>_;)e(o,h+c)<=a?_=c:g=c,c=Math.floor((g-_)/2+_);g=c;var p=Math.max(1,h-c+1),d=Math.min(h+c,t.length)+i.length,u=Array(d+2);u[d+1]=(1<<o)-1;for(var m=d;m>=p;m--){var F=f[t.charAt(m-1)];if(u[m]=0===o?(u[m+1]<<1|1)&F:(u[m+1]<<1|1)&F|((l[m+1]|l[m])<<1|1)|l[m+1],u[m]&s){var D=e(o,m-1);if(a>=D){if(a=D,r=m-1,!(r>h))break;p=Math.max(1,2*h-r)}}}if(e(o+1,h)>a)break;l=u}return r},diff_match_patch.prototype.match_alphabet_=function(t){for(var i={},h=0;h<t.length;h++)i[t.charAt(h)]=0;for(var h=0;h<t.length;h++)i[t.charAt(h)]|=1<<t.length-h-1;return i},diff_match_patch.prototype.patch_addContext_=function(t,i){if(0!=i.length){if(null===t.start2)throw Error("patch not initialized");for(var h=i.substring(t.start2,t.start2+t.length1),e=0;i.indexOf(h)!=i.lastIndexOf(h)&&h.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)e+=this.Patch_Margin,h=i.substring(t.start2-e,t.start2+t.length1+e);e+=this.Patch_Margin;var f=i.substring(t.start2-e,t.start2);f&&t.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL,f));var n=i.substring(t.start2+t.length1,t.start2+t.length1+e);n&&t.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL,n)),t.start1-=f.length,t.start2-=f.length,t.length1+=f.length+n.length,t.length2+=f.length+n.length}},diff_match_patch.prototype.patch_make=function(t,i,h){var e,f;if("string"==typeof t&&"string"==typeof i&&"undefined"==typeof h)e=t,f=this.diff_main(e,i,!0),f.length>2&&(this.diff_cleanupSemantic(f),this.diff_cleanupEfficiency(f));else if(t&&"object"==typeof t&&"undefined"==typeof i&&"undefined"==typeof h)f=t,e=this.diff_text1(f);else if("string"==typeof t&&i&&"object"==typeof i&&"undefined"==typeof h)e=t,f=i;else{if("string"!=typeof t||"string"!=typeof i||!h||"object"!=typeof h)throw new Error("Unknown call format to patch_make.");e=t,f=h}if(0===f.length)return[];for(var n=[],a=new diff_match_patch.patch_obj,r=0,s=0,_=0,c=e,l=e,g=0;g<f.length;g++){var o=f[g][0],p=f[g][1];switch(r||o===DIFF_EQUAL||(a.start1=s,a.start2=_),o){case DIFF_INSERT:a.diffs[r++]=f[g],a.length2+=p.length,l=l.substring(0,_)+p+l.substring(_);break;case DIFF_DELETE:a.length1+=p.length,a.diffs[r++]=f[g],l=l.substring(0,_)+l.substring(_+p.length);break;case DIFF_EQUAL:p.length<=2*this.Patch_Margin&&r&&f.length!=g+1?(a.diffs[r++]=f[g],a.length1+=p.length,a.length2+=p.length):p.length>=2*this.Patch_Margin&&r&&(this.patch_addContext_(a,c),n.push(a),a=new diff_match_patch.patch_obj,r=0,c=l,s=_)}o!==DIFF_INSERT&&(s+=p.length),o!==DIFF_DELETE&&(_+=p.length)}return r&&(this.patch_addContext_(a,c),n.push(a)),n},diff_match_patch.prototype.patch_deepCopy=function(t){for(var i=[],h=0;h<t.length;h++){var e=t[h],f=new diff_match_patch.patch_obj;f.diffs=[];for(var n=0;n<e.diffs.length;n++)f.diffs[n]=new diff_match_patch.Diff(e.diffs[n][0],e.diffs[n][1]);f.start1=e.start1,f.start2=e.start2,f.length1=e.length1,f.length2=e.length2,i[h]=f}return i},diff_match_patch.prototype.patch_apply=function(t,i){if(0==t.length)return[i,[]];t=this.patch_deepCopy(t);var h=this.patch_addPadding(t);i=h+i+h,this.patch_splitMax(t);for(var e=0,f=[],n=0;n<t.length;n++){var a,r=t[n].start2+e,s=this.diff_text1(t[n].diffs),_=-1;if(s.length>this.Match_MaxBits?(a=this.match_main(i,s.substring(0,this.Match_MaxBits),r),-1!=a&&(_=this.match_main(i,s.substring(s.length-this.Match_MaxBits),r+s.length-this.Match_MaxBits),(-1==_||a>=_)&&(a=-1))):a=this.match_main(i,s,r),-1==a)f[n]=!1,e-=t[n].length2-t[n].length1;else{f[n]=!0,e=a-r;var c;if(c=-1==_?i.substring(a,a+s.length):i.substring(a,_+this.Match_MaxBits),s==c)i=i.substring(0,a)+this.diff_text2(t[n].diffs)+i.substring(a+s.length);else{var l=this.diff_main(s,c,!1);if(s.length>this.Match_MaxBits&&this.diff_levenshtein(l)/s.length>this.Patch_DeleteThreshold)f[n]=!1;else{this.diff_cleanupSemanticLossless(l);for(var g,o=0,p=0;p<t[n].diffs.length;p++){var d=t[n].diffs[p];d[0]!==DIFF_EQUAL&&(g=this.diff_xIndex(l,o)),d[0]===DIFF_INSERT?i=i.substring(0,a+g)+d[1]+i.substring(a+g):d[0]===DIFF_DELETE&&(i=i.substring(0,a+g)+i.substring(a+this.diff_xIndex(l,o+d[1].length))),d[0]!==DIFF_DELETE&&(o+=d[1].length)}}}}}return i=i.substring(h.length,i.length-h.length),[i,f]},diff_match_patch.prototype.patch_addPadding=function(t){for(var i=this.Patch_Margin,h="",e=1;i>=e;e++)h+=String.fromCharCode(e);for(var e=0;e<t.length;e++)t[e].start1+=i,t[e].start2+=i;var f=t[0],n=f.diffs;if(0==n.length||n[0][0]!=DIFF_EQUAL)n.unshift(new diff_match_patch.Diff(DIFF_EQUAL,h)),f.start1-=i,f.start2-=i,f.length1+=i,f.length2+=i;else if(i>n[0][1].length){var a=i-n[0][1].length;n[0][1]=h.substring(n[0][1].length)+n[0][1],f.start1-=a,f.start2-=a,f.length1+=a,f.length2+=a}if(f=t[t.length-1],n=f.diffs,0==n.length||n[n.length-1][0]!=DIFF_EQUAL)n.push(new diff_match_patch.Diff(DIFF_EQUAL,h)),f.length1+=i,f.length2+=i;else if(i>n[n.length-1][1].length){var a=i-n[n.length-1][1].length;n[n.length-1][1]+=h.substring(0,a),f.length1+=a,f.length2+=a}return h},diff_match_patch.prototype.patch_splitMax=function(t){for(var i=this.Match_MaxBits,h=0;h<t.length;h++)if(!(t[h].length1<=i)){var e=t[h];t.splice(h--,1);for(var f=e.start1,n=e.start2,a="";0!==e.diffs.length;){var r=new diff_match_patch.patch_obj,s=!0;for(r.start1=f-a.length,r.start2=n-a.length,""!==a&&(r.length1=r.length2=a.length,r.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL,a)));0!==e.diffs.length&&r.length1<i-this.Patch_Margin;){var _=e.diffs[0][0],c=e.diffs[0][1];_===DIFF_INSERT?(r.length2+=c.length,n+=c.length,r.diffs.push(e.diffs.shift()),s=!1):_===DIFF_DELETE&&1==r.diffs.length&&r.diffs[0][0]==DIFF_EQUAL&&c.length>2*i?(r.length1+=c.length,f+=c.length,s=!1,r.diffs.push(new diff_match_patch.Diff(_,c)),e.diffs.shift()):(c=c.substring(0,i-r.length1-this.Patch_Margin),r.length1+=c.length,f+=c.length,_===DIFF_EQUAL?(r.length2+=c.length,n+=c.length):s=!1,r.diffs.push(new diff_match_patch.Diff(_,c)),c==e.diffs[0][1]?e.diffs.shift():e.diffs[0][1]=e.diffs[0][1].substring(c.length))}a=this.diff_text2(r.diffs),a=a.substring(a.length-this.Patch_Margin);var l=this.diff_text1(e.diffs).substring(0,this.Patch_Margin);""!==l&&(r.length1+=l.length,r.length2+=l.length,0!==r.diffs.length&&r.diffs[r.diffs.length-1][0]===DIFF_EQUAL?r.diffs[r.diffs.length-1][1]+=l:r.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL,l))),s||t.splice(++h,0,r)}}},diff_match_patch.prototype.patch_toText=function(t){for(var i=[],h=0;h<t.length;h++)i[h]=t[h];return i.join("")},diff_match_patch.prototype.patch_fromText=function(t){var i=[];if(!t)return i;for(var h=t.split("\n"),e=0,f=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;e<h.length;){var n=h[e].match(f);if(!n)throw new Error("Invalid patch string: "+h[e]);var a=new diff_match_patch.patch_obj;for(i.push(a),a.start1=parseInt(n[1],10),""===n[2]?(a.start1--,a.length1=1):"0"==n[2]?a.length1=0:(a.start1--,a.length1=parseInt(n[2],10)),a.start2=parseInt(n[3],10),""===n[4]?(a.start2--,a.length2=1):"0"==n[4]?a.length2=0:(a.start2--,a.length2=parseInt(n[4],10)),e++;e<h.length;){var r=h[e].charAt(0);try{var s=decodeURI(h[e].substring(1))}catch(_){throw new Error("Illegal escape in patch_fromText: "+s)}if("-"==r)a.diffs.push(new diff_match_patch.Diff(DIFF_DELETE,s));else if("+"==r)a.diffs.push(new diff_match_patch.Diff(DIFF_INSERT,s));else if(" "==r)a.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL,s));else{if("@"==r)break;if(""!==r)throw new Error('Invalid patch mode "'+r+'" in: '+s)}e++}}return i},diff_match_patch.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},diff_match_patch.patch_obj.prototype.toString=function(){var t,i;t=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,i=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var h,e=["@@ -"+t+" +"+i+" @@\n"],f=0;f<this.diffs.length;f++){switch(this.diffs[f][0]){case DIFF_INSERT:h="+";break;case DIFF_DELETE:h="-";break;case DIFF_EQUAL:h=" "}e[f+1]=h+encodeURI(this.diffs[f][1])+"\n"}return e.join("").replace(/%20/g," ")},this.diff_match_patch=diff_match_patch,this.DIFF_DELETE=DIFF_DELETE,this.DIFF_INSERT=DIFF_INSERT,this.DIFF_EQUAL=DIFF_EQUAL;;function _Define(e,n){try{n?(console.time("load"),GRACE[n]=e(GRACE),console.timeEnd("load")):e(GRACE)}catch(o){GRACE._debugFail&&console.error(o)}}var Env={isBrowser:!1,isDesktop:!1,isLocalHost:!1,canLocalHost:!1};Env.isBrowser=!0,/^localhost/i.test(window.location.host)?(Env.isLocalHost=!0,Env.canLocalHost=!0,Env._server=window.location.origin):(Env.isLocalHost=!0,Env.canLocalHost=!0,Env._server="http:///localhost:3000");var GRACE={_debugFail:2,Annotations:ace.require("ace/annotations/annotations").Annotations,libConfig:ace.require("ace/config"),Range:ace.require("ace/range").Range,Editor:ace.require("ace/editor").Editor,Autocomplete:ace.require("ace/autocomplete").Autocomplete,TokenIterator:ace.require("ace/token_iterator").TokenIterator,Completions:ace.require("ace/ext/completions"),modelist:ace.require("ace/ext/modelist"),EditSession:ace.require("ace/edit_session").EditSession,event:ace.require("ace/lib/event"),keys:ace.require("ace/lib/keys"),Document:ace.require("ace/document").Document,HashHandler:ace.require("ace/keyboard/hash_handler").HashHandler,libLang:ace.require("ace/lib/lang")};_Define(function(e){function n(e){var o=v[e];if(o)return v[e];o=v[e]={};var t=e.lastIndexOf(".");return t>0&&Object.defineProperty(n(e.slice(0,t)),e.substring(t+1),{value:o,enumerable:!1}),o}function o(e,t){var a,r="";t&&"application"!=t?(a=n(t),r=t+"."):a=f;for(var c in e)Array.isArray(e[c])?a[c]=u(r+c,e[c]):e[c]&&"object"==typeof e[c]?o(e[c],r+c):(a[c]=e[c],i(c,t));return a}function t(e,n){var o="application.";n&&(o=n+".");for(var t in e)"!root"==t?d[n]=e[t]:d[o+t]=e[t]}function a(e){return d[e]}function i(e,n){var o=(n&&"application"!=n?n+".":"")+e,t=p.getItem(o),a=n?v[n]:f;t&&("true"==t?t=!0:"false"==t?t=!1:"undefined"==t?t=void 0:"null"==t?t=null:isNaN(t)?":EMPTY:"==t&&(t=""):t=parseFloat(t),a[e]==t?p.removeItem(o):a[e]=t)}function r(e,n,o){if(e.indexOf(".")>-1){var t=e.split(".");e=t.pop(),t.length&&(o=o?o+"."+t.join("."):t.join("."))}var a=o?v[o]:f;a[e]=n,g&&p.setItem((o&&"application"!=o?o+".":"")+e,""+n||":EMPTY:")}function c(e,n,o){var t=o?v[o]:f;t[e]=n,g&&s((o&&"application"!=o?o+".":"")+e,n)}function l(e){var n=g;g=!1;try{e()}finally{g=n}}function s(e,n){p.setItem(e,JSON.stringify(n))}function u(e,n){var o=p.getItem(e);if(o)try{n=JSON.parse(o),"object"!=typeof n&&(n=null)}catch(t){}return n||{}}var p=window.appStorage||window.localStorage;window.appStorage=null;var f={},d={},v={application:f},g=!0,m=function(){alert("Unimplemented")};e.appStorage=p,e.putObj=s,e.withoutStorage=l,e.getObj=u,e.appConfig=f,e.getConfigInfo=a,e.allConfigs=v,e.register=i,e.configure=r,e.configureArr=c,e.unimplemented=m,e.registerAll=o,e.registerValues=t,e.Functions={}});;_Define(function(e){function n(e){return i.getItem("breakpoint-"+e)}function t(e,t){if(t){var r=n(e);r&&(t[e]||t)(e,r)}i.setItem("breakpoint-"+e,"Failed");var a=o.indexOf(e);a>-1&&o.push(e)}function r(e){i.removeItem("breakpoint-"+e);var n=o.indexOf(e);n>-1&&o.splice(n,1)}var i=e.appStorage,o=[];e.Recovery={setBreakpoint:t,breakpoint:function(e,n,i){return t(e,n),setTimeout(function(){r(e)},i||7e3)},fail:function(e,n){for(var r in o)t(o[r],e.code+"\n"+(e.message||"")+"\n"+e.stack);n&&Notify.error(n)},removeBreakpoint:r,hasFailures:n,defaultHandler:function(){Notify.prompt("Crash detected? Clear data?",function(){i.clear()})},clearData:function(e,n){return function(){configure(e,void 0,n)}}}});;_Define(function(t){function e(t){void 0===t&&(t=50);var e=Array(t),n=0,r=!0;return{push:function(i){e[n]=i,n++,n==t&&(r=!0,n=0)},getArray:function(){if(r){var i=e.slice(0,n),o=e.slice(n,t);return o.concat(i)}return e.slice(0,n)},reset:function(i){r=!1,i?(e=i,n=e.length,t=Math.max(n,t)):n=0}}}function n(t){var e=[];if(t){var n=/^\s*|\s*$/;t=t.replace(n,"");var r=t.split(/\s+|\s*,\s*/);for(var i in r)r[i]&&e.push(r[i])}return e}function r(t,e){return 0>=t?"":(void 0===e&&(e=" "),2>t?e:new Array(t+1).join(e))}function i(t,e){for(var n=Math.max(5,t.length-3),r=Math.min(5,t.length),i={},a=0;r>a;a++)i[a]=o(t[a],e-1||1);for(a=n;a<t.length;a++)i[a]=o(t[a],e-1||1);return i}function o(t,e){if(!t)return t;if(1==arguments.length&&(e=2),"number"==typeof t)return t;if("string"==typeof t)return'"'+t+'"';if("boolean"==typeof t)return"<"+t+">";if("function"==typeof t)return"function"+(t.name||"<anonymous>")+"()";if(t.jquery)return"$:("+t.selector+")->"+o(t[0],1)+"["+t.length+"]";if(t.DOCUMENT_NODE)return"["+t.tagName+"] ."+t.className+" #"+t.id;if(1>e||t===window)return("function"==typeof t.toString?t.toString():"[Object]").substr(0,50);if(Array.isArray(t))return i(t,e);var n={};for(var r in t)n[r]=o(t[r],e-1);return n}function a(t,e,n){return function(){n(e+" called with",{"this":o(this,1,2),args:i(arguments,2,3),stack:(new Error).stack.split("\n")});var r=t.apply(this,arguments);return n(e+"-->",o(r)),r}}function u(t,e,n,r){r=r||window.console.debug,e=e||t;for(var i in e)"function"==typeof t[i]&&(!n||n.indexOf(i)<0)&&(t[i]=a(t[i],i,r))}function s(t,e,n,r,i){e=e||t;for(var o in e)"function"==typeof t[o]&&(!n||n.indexOf(o)<0)&&(t[o]=d(r,i,o,t[o]))}function c(t,e){var n=Array.prototype.slice.call(arguments,2),r=t.prototype;t.prototype=Object.create(e.prototype);for(var i in n)Object.assign(t.prototype,n[i].prototype);Object.assign(t.prototype,r),t.super=e.apply.bind(e)}function f(t,e){var n,r,i,o=function(){n=null,t.apply(r,i),r=i=null},a=function(){r=this,i=arguments,n||(n=setTimeout(o,e))};return a.now=function(){t.apply(null,arguments),a.cancel()},a.cancel=function(){n&&(clearTimeout(n),r=i=null)},a}function l(t,e){var n,r,i,o=0,a=function(){o=(new Date).getTime(),n=null,t.apply(r,i),r=i=null};return function(){if(r=this,i=arguments,!n){var t=(new Date).getTime();t-o>e?a():n=setTimeout(a,e-(t-o))}}}function p(t,e){var n;return function(){var r=this,i=arguments,o=function(){n=null,t.apply(r,i)};n&&clearTimeout(n),n=setTimeout(o,e)}}function g(t,e,n,r,i,o){var a,u,s,c,f=0;if(r=r||1,isNaN(r))throw new Error("Invalid Parameter for parallel:"+r);i&&(a=function(t){t&&(i=!1);var e=s;for(r+=s,s=0;e--;)l()},s=0);w++;o&&(u=function(e){c||(i=!1,t=[],c=e||!0),l()});for(var l=function(){if(f>=t.length)0!=--r||i?0>r?console.error("Counter error: you might be calling next twice or calling both next and cancel"):s++:n&&(n(c),n=null);else{var o=t[f];e(o,f++,l,u)}},p=r;p>0;p--)l();return a}function h(t,e){this.tasks=new Array,t&&(this.sleepTime=t),e&&(this.wakeTime=e),this.$execute=T.bind(null,this),this.waitUntil=0}function m(t){for(var e=/\s*(\d+(?:\.\d+)?)\s*([A-Za-z]*),*/gi,n=e.exec(t),r=0;n;){var i=A[n[2]];!i&&n[2].endsWith("s")&&(i=A[n[2].substring(0,n[2].length-1)]),r+=parseFloat(n[1])*i||0,n=e.exec(t)}return r}function y(t,e,n,r){for(var i=n?t.slice(0):t,o=0,a=0;a<e.length;a++){var u=i.indexOf(e[a],o);if(0>u){for(;o<i.length&&!(r?r(t[o],e[a])>0:t[o]>e[a]);o++);i.splice(o,0,e[a]),o+=1}else o=u+1}return i}function b(t,e,n){switch(arguments.length){case 1:setTimeout(t,0);break;case 2:setTimeout(t,0,e);break;case 3:setTimeout(t,0,e,n);break;case 0:return;default:var r=Array.prototype.slice.call(arguments,0);r.splice(1,0,0),setTimeout.apply(window,r)}}function v(){this.aborted=!1,this.triggers=[],this.abort=this.control(this._abort.bind(this),!1)}var d=function(t,e,n,r){return function(){var i;if(t&&(i=t(n,this,arguments),i&&i.override))return i.result;var o=r.apply(this,arguments);return e&&(i=e(n,this,arguments,o,i))?i:o}},w=6;h.prototype.allowSync=!0,h.prototype.wakeTime=17,h.prototype.sleepTime=17,h.prototype.batchSize=1,h.prototype.batch=function(t){var e=this;return function(){if(e.tasks.push({f:t,ctx:this,args:arguments}),e.timeout)return!1;var n=e.allowSync?(new Date).getTime():1/0;return n<e.waitUntil?(e.timeout=setTimeout(e.$execute,e.waitUntil-n),!1):(T(e),!0)}};var T=function(t){t.timeout=null;var e=t.wakeTime+(new Date).getTime(),n=t.batchSize;try{if(e>0)for(var r=0,i=t.tasks,o=i.length;r++<o;){var a=i.shift();if(a.f.apply(a.ctx,a.args),r%n==0){if((new Date).getTime()>e)break;n+=n>>1}}}finally{var u,s=(new Date).getTime();e>s?u=t.sleepTime:(u=s-e+t.sleepTime,t.batchSize=n>>1||1),t.waitUntil=s+u,o>r&&(t.timeout=setTimeout(t.$execute,u))}},k=function(t,e){for(var n="full"==e?["bytes","kilobytes","megabytes","gigabytes","terabytes"]:["bytes","kb","Mb","Gb","Tb"],r=0;t>1024;)r++,t/=1024;return Math.round(100*t)/100+" "+n[r]},x=function(t){var e={},n=0,r=e.errors=[];return e.increment=function(){n++},e.decrement=function(i){if(n--,i&&r.push(i),0===n&&t)r.length<1?t():t(r);else if(e.count<0)throw new Error("Counter error less than 0")},e},A={"":1};A.milli=A.millisecond=A.ms=A.millisec=A[""],A.sec=A.second=A.s=1e3*A[""],A.min=A.minute=A.m=60*A.s,A.hr=A.hour=A.h=60*A.min,A.day=A.d=24*A.hr,A.week=A.wk=A.w=7*A.d,A.b=A["byte"]=A[""],A.kb=A.kilobyte=A.kib=A.k=1024*A.b,A.mb=A.megabyte=A.m=1024*A.kb,A.gb=A.gigabyte=A.g=1024*A.mb,v.prototype.control=function(t,e){var n=this;return function(){return n.aborted?"function"==typeof e?e.apply(this,arguments):e:t.apply(this,arguments)}},v.prototype._abort=function(t){this.aborted=t||!0;var e=this.triggers;this.triggers=null;for(var n=e.length;n>0;)e[--n].apply(null,arguments);return!0},v.prototype.notify=function(t){this.aborted?b(t,[this.aborted]):this.triggers.indexOf(t)<0&&this.triggers.push(t)},v.prototype.unNotify=function(t){var e;!this.aborted&&(e=this.triggers.indexOf(t))>-1&&this.triggers.splice(e,1)},v.prototype.clear=function(){this.aborted=!0,this.triggers=null};var D=0;t.Utils={CBuffer:e,AbortSignal:v,repeat:r,Batch:h,batch:function(t){return(new h).batch(t)},guardEntry:function(t,e,n){var r=!1;return arguments.length<3&&(n="Attempt to call"+t.name+" while a call ongoing ignored"),function(){if(r){var i=new Error(n);if(e)throw i;return void console.error(i)}r=!0;try{return t.apply(this,arguments)}finally{r=!1}}},withTry:function(t,e){return 1==arguments.length&&(e=!1),function(){try{return t.apply(this,arguments)}catch(n){console.error(n)}return e}},noop:function(){},assert:function(t,e){if(!t)throw new Error(e||"AssertError");return!0},eventGroup:function(t){function e(){for(var t in r){var e=r[t];e.t.off?e.t.off(e.e,e.f):e.t.removeEventListener(e.e,e.f)}}function n(e,n,i){i=i||t,r.push({e:e,f:n,t:i}),i.on?i.on(e,n):i.addEventListener(e,n)}var r=[];return{on:n,off:e,once:function(t,r,i){n(t,function(){e(),r.apply(this,arguments)},i)}}},genID:function(t){return t+""+(""+(new Date).getTime()).substring(2)+(++D%90+10)},getCreationDate:function(t,e){e=e||"m";var n=(new Date).getTime(),r=parseInt((""+n).substring(0,2)),i=t.substr(e.length,11),o=parseInt(r+i);return new Date(o>n?o-1e11:o)},print:o,inspect:function(){window.console.debug(o.apply(null,1==arguments.length||"number"==typeof arguments[1]?arguments:[arguments]))},mergeList:y,except:function(t){return function(e){return t!==e}},setImmediate:b,not:function(t){return function(){return!t.apply(this,arguments)}},plural:function(t,e){return t+" "+e+(t>1?"s":"")},inherits:c,toChars:function(t){return Array.prototype.map.call(t,function(t){return t.charCodeAt(0)}).toString()},createCounter:x,parseTime:m,toSize:k,asyncForEach:g,parseList:n,parseSize:m,debounce:p,delay:f,wrap:u,track:s,throttle:l,regEscape:function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}}});;_Define(function(t){"use strict";var e=t.Utils,n=e.setImmediate,i=function(t){this._eventRegistry={},t&&(this.parentEmitter=t)};Object.assign(i.prototype,{_eventRegistry:{},createEvent:function(t){var e,n,i={target:this,preventDefault:function(){e=!0},stopPropagation:function(){n=!0},get defaultPrevented(){return e},get propagationStopped(){return n}};return Object.assign(i,t)},frozenEvents:!1,triggerAsync:function(t,e,i){n(function(){this.trigger(t,e,i)}.bind(this))},trigger:function(t,e,n){n||(e=this.createEvent(e));var i=this._eventRegistry[t];if(i)if("function"==typeof i){if(i(e),e&&e.propagationStopped)return e}else if(e){for(var r in i)if(i[r](e),e.propagationStopped)return e}else for(var o in i)i[o](e);return this.parentEmitter?this.parentEmitter.trigger(t,e,!0):e},setParentEmitter:function(t){this.parentEmitter=t},once:function(t,e,n){var i=e;return e=function(){this.off(t,e),i.apply(null,arguments)}.bind(this),this.on(t,e,n),e},on:function(t,e,n){if(e){var i=this._eventRegistry;return this.frozenEvents&&!i.hasOwnProperty(t)?(console.warn("Unknown event "+t),!1):void(i[t]?i[t]===!0?setTimeout(e,0):("function"==typeof i[t]&&(i[t]=[i[t]]),n?i[t].unshift(e):i[t].push(e)):i[t]=e)}},off:function(t,n){var i=this._eventRegistry[t];i&&n&&("function"==typeof i?i==n&&(this._eventRegistry[t]=null):i!==!0&&(this._eventRegistry[t]=i.filter(e.except(n))))},triggerForever:function(t){this.trigger(t),this._eventRegistry[t]=!0}}),i.prototype.emit=i.prototype.trigger,t.EventsEmitter=i,t.AppEvents=new i,t.AppEvents.frozenEvents=!0,t.AppEvents._eventRegistry={"app-loaded":null,"documents-loaded":null,"app-paused":null,"app-resumed":null,"view-change":null,"fully-loaded":null,filebrowsers:null,createDoc:null,closeDoc:null,changeTab:null,closeTab:null,beforeCloseTab:null,changeEditor:null,createEditor:null,closeEditor:null},t.ConfigEvents=new i,t.ConfigEvents.frozen=!0});;_Define(function(e){"use strict";e.manageState=function(n){function t(){var e=(""+a.hash).substring(1);return o===!1?(e&&(o=void 0),void(u&&i.ensure(u,!0))):(o&&e&&(o=void 0),void(e!=u&&(i.onChange(e,u)?u=e:i.back())))}if(e.State)return e.State;var o,i={},r=n.history,a=n.location,s=[];i.onChange=function(e,n,t){var o=!1;for(var i in s)o=o||s[i](e,n,t);return o},i.isValidState=function(e){for(var n in s)if(s[n].preCheck&&s[n].preCheck(e))return!0},i.is=function(e){return a.hash=="#"+e},i.ensure=function(e,n){if(o&&(o=!1),!i.is(e)){var t=u;u=e,r.pushState(null,"","#"+e),n||i.onChange(e,t,!0)}},i.removeListener=function(e){s.filter(function(n){return e!=n})},i.addListener=function(e,n){s.push(e),n&&(e.preCheck=n)},i.back=function(){o||(void 0==o&&r.back(),o=!0)},i.forward=function(){r.forward()},i.exit=function(e){i.detach();var t=function(){r.back()};return n.addEventListener("popstate",t),e?void t():function(){n.removeEventListener("popstate",t),i.attach()}},i.detach=function(){n.removeEventListener("popstate",t)},i.attach=function(){t(),n.addEventListener("popstate",t)};var u=(""+a.hash).substring(1);return n.addEventListener("popstate",t),e.State=i,i}}),_Define(function(e){var n=e.manageState(window),t=[],o=[],i=function(e){if(n.isValidState(e)){for(var i=t.indexOf(e),r=t.length-1;r>i;r--){var a=o.pop();t.pop(),a.close()}return i>-1}};n.addListener(i,function(e){return t.indexOf(e)>-1}),e.AutoCloseable={add:function(i,r){if(!r||!r.close)throw new Error("Error: expected a Closeable object, got",r);e.AutoCloseable.remove(i),t.push(i),o.push(r),n.ensure(i,!0)},close:function(t){e.AutoCloseable.remove(t),n.is(t)&&n.back()},remove:function(e){for(var n;(n=t.indexOf(e))>-1;)t.splice(n,1),o.splice(n,1)},onOpenEnd:function(){e.AutoCloseable.add(""+this.id,this)},onCloseEnd:function(){e.AutoCloseable.close(""+this.id)}}});;_Define(function(e){function n(){g.length>0&&M.toast(g.pop())}var o,t,a,i,s,l,r,c,d="red-text",u="blue",m="red",p=e.AutoCloseable,h=e.Utils.setImmediate,f=e.Utils.noop,v=e.Utils.withTry,g=[],y=M.Toast._toasts,C=e.Utils.genID,w=!1,b=e.Utils.debounce(function(){w=!1},200),E=function(e,o){var t={html:e,displayLength:o,completeCallback:n};return y.length<2?M.toast(t):(g.length>10&&(w=M.toast({html:"Output suppressed. Check console",displayLength:1/0,completeCallback:b}),g.length=0),void(w?(b(),console.log(e)):g.push(t)))},L=function(e,n){E("<i class='orange-text material-icons toast-icon'>warning</i>"+e,n||(e.length>100?5e3:2e3),d)},k=function(e,n){E("<i class='white-text material-icons toast-icon'>error</i>"+e,n||(e.length>100?5e3:2e3),u)},O=function(e,n){E("<i class='red-text material-icons toast-icon'>error</i>"+e,n||(e.length>100?5e3:2e3),m)},T=function(e,n,o){var t=confirm(e);h(t?n:o)},N=function(n,o){o=o?v(o):f;var t=['<h6 class="modal-header h-30">',n.header,"</h6>",'<div class="modal-content">',n.body,"</div>",n.footers?"<div class='modal-footer'>"+n.footers.map(function(e){return"<button style='margin-right:10px' class='btn modal-"+e.toLowerCase().replace(/ /g,"_")+(1==n.footers.length?" right":" center")+"'>"+e+"</button>"}).join("")+"</div>":""].join(""),a=document.createElement(n.type||"div");a.id=C("a"),e.watchTheme($(a)),a.className="modal modal-container",a.innerHTML+=t,document.body.appendChild(a);var i=$(a),s={inDuration:50,outDuration:200,dismissible:n.dismissible!==!1};return s.dismissible?(s.onCloseEnd=function(){o(),p.onCloseEnd.apply(this),n.keepOnClose||(i.modal("destroy"),i.remove())},s.onOpenEnd=p.onOpenEnd):s.onCloseEnd=function(){o(),n.keepOnClose||(i.modal("destroy"),i.remove())},i.modal(s),n.autoOpen!==!1&&(e.FocusManager.hintChangeFocus(),i.modal("open")),a},x=null,A=!1,D=[],F=13,U=function(n,d,u,m,f){if(!x){var v="<h6 class='modal-header'></h6><div class='modal-content'><input></input></div><div class='modal-footer'><a href='#!' class='modal-close waves-effect waves-green btn-flat'>Cancel</a><a href='#!' class='modal-done waves-effect waves-green btn-flat'>Done</a></div>",g=document.createElement("div");g.innerHTML=v,g.className="modal",g.addEventListener("click",function(e){e.stopPropagation()}),o=g.getElementsByTagName("input")[0],o.addEventListener("keydown",function(e){switch(e.keyCode){case F:a=!0,i(o.value)!==!1?x.modal("close"):o.focus();break;case 8:if(r){var n=r.complete(this.value);n.length?(s.update(n),s.show(this)):s.hide()}}}),o.addEventListener("input",function(){if(r){var e=r.complete(this.value);e.length?(s.update(e),s.show(this)):s.hide()}}),s=new e.Overflow(!0,"left"),s.onclick=function(e,n,t,a){r.update(o,a)},t=g.getElementsByClassName("modal-header")[0];var y=g.getElementsByClassName("modal-done")[0];y.addEventListener("click",function(){a=!0,i(o.value)!==!1?x.modal("close"):o.focus()}),document.body.appendChild(g),x=$(g).modal({onCloseStart:function(){if(!a&&l)try{l()}catch(e){console.error(e)}D.length?h(function(){a=!1;var e=D.shift();x.modal("open"),r=e.pop(),l=e.pop(),o.value=e.pop()()||"",i=e.pop(),t.innerHTML=e.pop()},20):(c(),s.hide(),A=!1,r=l=i=null)},onCloseEnd:p.onCloseEnd,onOpenEnd:p.onOpenEnd})}return{caption:n,show:function(){A?D.push([n,i,u,l,r]):(A=!0,a=!1,x.modal("open"),t.innerHTML=n,o.value=u()||"",c=e.FocusManager.visit(o,!0),e.FocusManager.hintNoChangeFocus(),l=m,i=d,r=f)}}},H=function(e,n,o,t){Array.isArray(t)&&(t=t.sort()),e=e.split("\n").join("</br>");var a=U(e,n,function(){return o},n,t&&(Array.isArray(t)?{complete:function(e){return e=e.toLowerCase(),t.filter(function(n){return n.toLowerCase().indexOf(e)>-1})},update:function(e,n){return e.value=n}}:t));a.show()};e.Notify={notify:E,error:O,dialog:U,modal:N,warn:L,info:k,prompt:H,ask:T}});;_Define(function(e){"use strict";function r(e,n,t,i,o){var a=P[t[i]]||o[t[i]],l=a(e,n);return l?l:void 0===t[i+1]?0:r(e,n,t,i+1,o)}function n(e,r){var n=e["!update"];e.toggleProps||(n&&n.push(C),Object.defineProperties(e,{"!update":{value:n||[].concat(C),writable:!0,enumerable:!1},toggleProps:{writable:!0,value:{},enumerable:!1}})),e.toggleProps[r.id]=r}function t(e,n,t){var i=n.split(",");return e.sort(function(e,n){return r(e,n,i,0,t)})}function i(e){/\{|\}/.test(e)&&(e=braceExpand("{"+e+",}").join(","));var r=e.split(",").filter(H),n=[];for(var t in r){var i="",a=A.normalize(r[t]).split(N);"."==a[0]&&a.shift();var l=a[a.length-1];l.endsWith("**")||a.pop(),a[0]||(a.shift(),i="/");var s,c=!0;for(s=0;s<a.length;s++){var f=a[s].indexOf("**")+1;if(1===f){if(s){i+=".*";break}return L}c?(i+="(?:",c=!1):i+="(?:/";try{i+=o(a[s],U).source}catch(u){i+="[^/]*",c=!0,a[s+1]=a[s]+N+a[s+1]}if(f){i+=".*",s++;break}}for(i+="/?";s-->0;)i+="|/?)";n.push(i)}return new RegExp("^(?:\\./)?(?:"+n.join("|")+")$")}function o(e,r){/\{|\}/.test(e)&&(e=braceExpand("{"+e+",}").join(","));var n=e.split(",").filter(H);if(!n.length)return null;var t="[^/]",i=t+"*",o=S.dotStar?i:"(?:[^/\\.][^/]*)?",a="(?:"+i+"/)*"+i,l="627G27HOR39393",s="39EHD8EN3IDJD3",c=new RegExp(l,"g"),f=new RegExp(s,"g");l+="$1",s="$1"+s;for(var u in n)n[u]=h.regEscape(A.normalize(n[u])).replace(/\\\?/g,t+"?").replace(/\\\[!/g,"[^").replace(/\\\[/g,"[").replace(/\\\]/g,"]").replace(/\\\*\\\*(?:(\/)$|\/|$)/g,l).replace(/(^|\/)\\\*/g,s).replace(/\\\*/g,i).replace(c,a).replace(f,o);if(r==U)return new RegExp(n.join("|"));var d="^(?:\\./)?(?:",v=")/?$";return new RegExp(d+n.join("|")+v)}function a(e){return{source:e}}function l(e,r){for(var n=0,t=Math.min(e.length,r.length);t>n&&e[n]===r[n];)n++;return e.substring(0,n)}function s(e){function r(e,r,n){var o=null===c?l(e.substring(0,s),r):c,a=i.exec(o);a&&(o=o.substring(0,a.index));var d=o.length;3>d?d=0:d>0&&n!=t?(c=l(r,v[n+1]),d<c.length&&(d=0)):c=null;var g;if(g=s>d?s>e.length?p(e.substring(d),U).source:p(e.substring(d,s),U).source+e.substring(s):e.substring(d),d>0){d==s&&(g=g.substring(3,g.length-1)),u=o;var h=p(r.substring(d),U).source;return s=d,o+"(?:"+g+"|"+h+")"}return s=1/0,f.push(g),r}function n(e){var r=e.lastIndexOf("*");return r>-1&&(e=e.substring(0,r)),e.substring(0,e.lastIndexOf("/")+1)}/\{|\}/.test(e)&&(e=braceExpand("{"+e+",}").join(","));var t,i=/[^\.a-z\/A-Z\_\-\?\*]/,s=1/0,c=null,f=e.split(",").map(A.normalize).sort().filter(H).filter(function(e,r,n){return e!==n[r-1]}),u="";if(f.length<2){if(0==f.length)return{regex:null,commonRoot:""};u=f[0];var d=i.exec(u);return d&&(u=u.substring(0,d.index)),{commonRoot:n(u),regex:o(f[0])}}var v,p=o;do t=f.length-1,v=f,v.push(""),f=[],v.reduce(r),p=a;while(v.length>f.length+1);return u=f.length>1?"":n(u),{commonRoot:u,regex:new RegExp("^(?:\\./)?(?:"+f.join("|")+")/?$")}}var c,f,u,d=e.appStorage,v=e.getObj,p=e.putObj,g=e.EventsEmitter,h=e.Utils,m=(e.AutoCloseable,e.Notify),w=e.register,b=e.configure,y="**no-project**",S=e.registerAll({projectFileServer:"",defaultEncoding:"utf8",projectName:y,projectRoot:y,bookmarks:"/sdcard/, /data/data/io.tempage.dorynode/",code_files:[".js",".css",".html",".sass",".less",".json",".py",".ts",".tsx",".jsx"].join(", "),dotStar:!1,binaryFiles:["zip","mp4","mp3","rar","tar.gz","tgz","iso","bz2","3gp","avi","mkv","exe","apk"].join(" ,")},"files");e.registerValues({dotStar:"Enable dotStar matching for globs.eg main/* matches main/.tmp",binaryFiles:"A list of file extensions\n that should never be opened for editing",projectRoot:"This directory serves as the current directory for all file operations"},"files");var E,j,F,x,k=h.parseList(S.code_files),O=h.parseList(S.bookmarks),D=h.parseList(S.binaryFiles),B=v("viewToServer"),T=v("serverCreationParams"),C=function(e){var r=A.activeFileBrowser.selected||"",n=A.extname(r),t=!1;for(var i in e.toggleProps){var o=e.toggleProps[i],a=r&&o.filename==r||n&&o.extension==n;if(a&&!e[o.id])e[o.id]=o;else{if(a||!e[o.id])continue;e[o.id]=null}t=!0}return t},P={folder:function(e,r){var n=e.endsWith(N);return n==r.endsWith(N)?0:n?-1:1},notfolder:function(e,r){var n=e.endsWith(N);return n==r.endsWith(N)?0:n?1:-1},code:function(e,r){var n=I(e);return n==I(r)?0:n?-1:1},notbinary:function(e,r){var n=A.isBinaryFile(e);return n==A.isBinaryFile(r)?0:n?1:-1},name:function(e,r){var n=r.toLowerCase(),t=e.toLowerCase();return n>t?-1:t>n?1:0}},I=function(e){for(var r in k)if(e.endsWith(k[r]))return!0;return!1},R={},z={name:S.projectName||S.projectRoot,rootDir:S.projectRoot,fileServer:null},_={isDirectory:function(){return"dir"==this.type},isSymbolicLink:function(){return"symlink"==this.type},isFile:function(){return"file"==this.type},dev:2114,ino:0,uid:0,gid:0,rdev:0,blksize:4096,birthtime:new Date(0)},M=[],N="/",A={sep:N,NO_PROJECT:y,_eventRegistry:{close:null,"create-file":null,"open-file":null,"open-project":null,"delete-file":null,"found-file":null,"change-project":null},normalize:function(e){if(!e)return"";var r,n,t=0;e=e.split(N);var i=e.length;""===e[0]?(r=N,t=1):r="",n=""===e[i-1]?N:"";for(var o=-1,a=[];i>t;t++)""!==e[t]&&"."!==e[t]&&(".."===e[t]&&o>-1&&".."!==a[o]?(a.pop(),o--):a[++o]=e[t]);return o>-1?r+a.join(N)+n:r},dirname:function(e){return e&&e!=N?(e=A.removeTrailingSlash(e),e.split(N).slice(0,-1).join(N)||(e[0]==N?N:"")):null},join:function(e){for(var r,n=1;void 0!==(r=arguments[n++]);)e=(e?e.replace(/\/+$/,"")+N:"")+r.replace(/^\/+/,"");return e},extname:function(e){var r=e.lastIndexOf(".");return r>0?e.substring(r+1):""},isBinaryFile:function(e){for(var r=0;(r=e.indexOf(".",r)+1)>0;)if(r>1&&D.indexOf(e.substring(r))>-1)return!0},removeTrailingSlash:function(e){return e[e.length-1]==N?e.substring(0,e.length-1)||N:e},resolve:function(e,r){return A.normalize(r[0]==N?r:e+N+r)},relative:function(e,r,n,t){if(e[0]!=N&&r[0]==N)return null;if(e[0]==N&&r[0]!=N)return null;if(""===e)return r;if(e=e==N?"":A.removeTrailingSlash(e),r===e)return"";if(r.startsWith(e+N))return r.substring(e.length+1)||(n?"./":"");if(t)return null;for(var i=r.split(N),o=e.split(N),a=0;a<i.length&&a<o.length&&o[a]==i[a];a++);for(var l="",s=a;s<o.length;s++)l+=n||s<o.length-1?"../":"..";for(s=a;s<i.length;s++)l+=(n&&s==a?"":N)+i[s];return l},filename:function(e){var r=!1;for(e.endsWith(N)&&(r=!0);e.endsWith(N);)e=e.slice(0,e.length-1);return e.substring(e.lastIndexOf(N)+1,e.length)+(r?N:"")},isDirectory:function(e){return e.endsWith(N)},createStats:function(e){var r={symlink:12e4,file:1e5,dir:4e4};return Object.assign(Object.create(_),{mtimeMs:e.mtimeMs,type:e.type,size:e.size,ino:e.ino||0,mode:e.mode||parseInt(r[e.type]+644,8),atimeMs:e.atimeMs||e.mtimeMs,ctimeMs:e.ctimeMs||e.mtimeMs,mtime:new Date(e.mtimeMs),ctime:new Date(e.ctimeMs),atime:new Date(e.atimeMs)})},sort:t,initialize:function(r,n){j=n,E=r,u=$(m.modal({header:"Pick Storage Type",body:"<select id='browserType'></select>",footers:["Cancel","Create"],autoOpen:!1,keepOnClose:!0,ondismiss:function(){u.detach()},dismissible:!1})),u.detach(),u.find("select").on("change",function(){u.find(".config").hide(),u.find(".config-"+u.find("select").val()).show()}),u.find(".modal-cancel").click(function(){u.modal("close")}),u.find(".modal-create").click(function(){u.modal("close");var r={};r.type=u.find("select").val();var n=u.find(".config-"+r.type)[0];n&&Object.assign(r,e.Form.parse(M[r.type].config,n));var t=A.initBrowser(r);t?j.select(t.id):m.error("Error Creating Storage")}),A.loadBrowsers()},registerFileServer:function(e,r,n,t,i){M[e]={create:n,caption:r,config:t},x=!0,(i||!A.defaultServer)&&(A.defaultServer=n())},newBrowser:function(){if(x){var r=u.find(".modal-content")[0];u.find(".config").detach();var n=u.find("select")[0];n.innerHTML="";for(var t in M){var i=M[t],o=document.createElement("option");if(o.setAttribute("name",t),o.setAttribute("value",t),o.innerText=i.caption||t.toUpperCase(),n.appendChild(o),i.config){var a=e.Form.create(i.config);a.className="config config-"+t,r.appendChild(a)}}x=!1}document.body.appendChild(u[0]),u.modal("open"),u.find(".config").hide(),u.find(".config-"+u.find("select").val()).show()},addBrowser:function(e){R[e.id]&&(console.warn("Id already taken"),R[h.genID(e.id)]=e),R[e.id]=e},createBrowser:function(r,n,t,i){var o=j.add(r,i||(n||A.defaultServer).icon||"sd_storage",!0);return o.className="fileview-container",new e.FileBrowser(r,t,n)},initBrowser:function(e){var r,n;if(e.server)r=e.server,n=r.id||void 0;else try{n=h.genID("s"),r=A.createServer(e.type,e,n),r.id?(n=r.id,T[n]=e,F[n]=r,p("serverCreationParams",T)):n=void 0}catch(t){return void console.error(t)}var i=A.createBrowser(h.genID("f"),r,e.rootDir,r.getIcon&&r.getIcon());return B[i.id]=n||null,A.addBrowser(i),p("viewToServer",B),i},createServer:function(e,r,n){var t=null,i=M[e];if(!i)throw new Error("Unknown server type "+e);return t=i.create(r,n),t.id||(t.id=n),t},replaceServer:function(e,r){if(!e.$isStub)throw"Error: only stub servers can be replaced";F[e.id]=r;for(var n in R)R[n].fileServer==e&&(R[n].fileServer=r)},loadServers:function(){F={};for(var e in T){var r=T[e];try{F[e]=A.createServer(r.type,r,e)}catch(n){console.error(n)}}z.fileServer=F[S.projectFileServer]||A.defaultServer,z.rootDir=S.projectRoot,A.trigger("change-project",{project:z},!0)},loadBrowsers:function(){F||A.loadServers();for(var e in B){w("root:"+e,"files"),w("tree:"+e,"files");var r=B[e];"undefined"===r&&(B[e]=void 0);var n=r?F[r]:A.defaultServer,t=A.createBrowser(e,n);A.addBrowser(t)}if(Object.keys(R).length<1){var i=A.createBrowser("file-browser",A.defaultServer);B["file-browser"]=null,A.addBrowser(i),p("viewToServer",B)}j.select("hierarchy_tab")},getOpenDocs:function(r){var n=[],t=e.docs;for(var i in t)t[i].fileServer==r&&n.push(i);return n},deleteBrowser:function(r){function n(){m.ask("The following files are still open from this drive:\n"+g.join("\n")+"\nContinue? (The documents will be marked as unsaved)",v)}if(!B.hasOwnProperty(r))throw new Error("deleting unexisting tab");var t,i=e.docs,o=B[r],a=function(){delete B[r],R[r].destroy(),delete R[r],d.removeItem("root:"+r),p("viewToServer",B),p("serverCreationParams",T),j.goleft(),j.delete(r);for(var e in R)if(!R[e].isHierarchy)return;var n=A.createBrowser("file-browser");B["file-browser"]=null,A.addBrowser(n),p("viewToServer",B)};if(!o)return a();var l=F[o];if(!l)return console.error("No server with id "+typeof t+":"+t),a();var s=!1,c=null;for(var f in R)if(f!=r&&!R[f].isHierarchy){if(R[f].fileServer.id===o){s=!0;break}R[f].fileServer.getDisk()==l.getDisk()&&(c=R[f].fileServer)}if(s)return a();var u=A.getOpenDocs(o),v=function(){l==z.fileServer&&A.openProject(y,A.defaultServer),l.destroy&&l.destroy(),delete F[o],delete T[o],a();for(var e in u)delete i[u[e]].fileServer,i[u[e]].setPath(null)};if(u.length>0){var g=u.map(function(e){return i[e].getSavePath()});c?m.ask("Reconfigure files that are still open from this drive to use available filesystem: "+c.constructor.name+"?",function(){for(var e in u)i[u[e]].fileServer=c.id;u=[],v()},n):n()}else v()},getFileServer:function(e,r){return e?F&&F[e]||r&&A.defaultServer:A.defaultServer},availableEncodings:function(e){if(e||(e=A.defaultServer),e.$encodingList)return e.$encodingList;var r=[],n=e.getEncodings?e.getEncodings().sort():[];n.indexOf("utf8")<0&&n.unshift("utf8");for(var t in n){var i=n[t];r.push({caption:V[i]||i.replace(/\-/g," "),value:i})}return e.$encodingList=r,r},normalizeEncoding:function(e){return e.replace(/\-/g,"").toLowerCase()},encodingFor:function(){return S.defaultEncoding},getProject:function(){return z},openProject:function(e,r,n){e=A.normalize(e),b("projectFileServer",r.id,"files"),b("projectRoot",e,"files"),z.fileServer=r,z.rootDir=e,z.name=n||(e.length>50?"..."+e.substring(-45):e),A.trigger("change-project",{project:z},!0),e==y&&A.trigger("close-project",{project:z},!0)},getConfig:function(e,r,n){n=n||A.getProject(),n.fileServer.readFile(A.resolve(n.rootDir,e),"utf8",function(e,n){e&&"ENOENT"==e.code?r(""):n?r(n):r(null,e)})},saveConfig:function(e,r,n,t){t=t||A.getProject(),t.fileServer.writeFile(A.join(t.rootDir,e),r,"utf8",n)},getChannel:function(e,r){return W[e]||(W[e]=new g(r)),W[e]},ownChannel:function(e,r,n){if("string"==typeof e&&(e=A.getChannel(e)),e._owner)throw"Error: Channel already has owner";if(n&&e.setParentEmitter(A.getChannel(n)),r.handler=e,e._owner=r,e.pending){var t=e.pending;delete e.pending;for(var i in t)A.registerOption.apply(null,t[i])}},registerOption:function(e,r,t,i,o){A.activeFileBrowser&&A.activeFileBrowser.menu.hide();var a,l;if("string"==typeof e)a=A.getChannel(e),l=a._owner;else if(l=e,a=l.handler,!a)throw"Error: channel owners must have handler property";if(l){for(var s in r){var c=l[r[s]+"Dropdown"],f=l.menuItems[c];i.extension||i.filename?(i.id=t,n(f,i)):f[t]=i,l["!update"]&&(f["!update"]?f["!update"].push(l["!update"]):f["!update"]=[].concat(l["!update"]))}o=i.onclick||o,a.on(t,o)}else W.hasOwnProperty(e)||console.warn("channel "+e+" has no owners yet"),a.pending||(a.pending=[]),a.pending.push(Array.prototype.slice.apply(arguments,[0]))},freezeEvent:function(e){for(var r=e.browser;r.parentStub;)r=r.parentStub;return{browser:r.id,filename:e.filename,filepath:e.filepath,rootDir:e.rootDir,id:e.id}},unfreezeEvent:function(e){var r=R[e.browser]||R.projectView;return e.browser=r,e},getDoc:function(r,n,t,i,o){var a=o||e.Doc;if(n=n||A.defaultServer,A.isBinaryFile(r))return t(null,"binary");var l=A.encodingFor(r,n);n.readFile(r,l,function(e,o){if(e)return t(null,e);if(i)return t(o);var s=new a(o,r);s.fileServer=n.id,s.encoding=l,t(s)})},getDocFromEvent:function(r,n,t,i){var o,a=e.Docs;!t&&(o=a.forPath(r.filepath,r.browser.fileServer))?h.setImmediate(function(){n(i?o.getValue():o)}):A.getDoc(r.filepath,r.browser.fileServer,n,i)},copyFile:function(e,r,n,t,i){return t=t||n,t==n&&n.copyFile?void n.copyFile(e,r,function(e){i&&i(e)}):void n.readFile(e,function(e,n){return e?i&&i(e):void t.writeFile(r,n,function(e){return i&&i(e)})})},moveFile:function(e,r,n,t,i){return t=t||n,t==n&&n.moveFile?void n.moveFile(e,r,function(e){i&&i(e)}):void A.copyFile(e,r,n,t,function(r){r?i&&i(r):n.delete(e,i)})},copyFolder:function(e,r,n,t,i,o,a){A.moveFolder(e,r,n,t,i,o,a,!0)},moveFolder:function(e,r,n,t,i,o,a,l){function s(e,a,l){t.mkdir(a,function(a){a?o&&"EEXIST"==a.code?o===!0?l():o(e,r,n,t,l,!0):l==v?i(a):(d=!0,l(a,!1)):l()})}if(t=t||n,e=A.normalize(e+N),r=A.normalize(r+N),r==e||r.startsWith(e))return i({code:"EUNSUPPORTED"});var c=l?A.copyFile:A.moveFile,f=3,u=l||n!=t?s:function(e,r,n){f>0?t.rename(e,r,function(e){e?(f--,console.error(e)):n(null,!0)}):(u=s,s(e,r,n))},d=!1,v=function(){A.walk({trees:[n,t],dirs:[e,r],map:function(l,s,f,v,p,g,h,m){if(!s||d)return!1;if(f)if(o){if(o!==!0)return o(e+l,r+l,n,t,g,m)}else d=!0,i({code:"EEXIST",path:r+l}),h();else if(m)return void u(e+l,r+l,function(e,n){a&&a(r+l,e),e?console.error(e):g(null,n||!!e)});c(e+l,r+l,n,t,function(e){a&&a(r+l,e),g(e)})},reduce:function(r,t,i,o){var a=t.filter(Boolean);if(a.length>0)return a;if(!l){var s=e+r;return void n.readdir(s,function(e,r){r&&r.length<1?n.rmdir(s,o):o(e)})}return null},finish:function(){i()}})};return u(e,r,v),function(){d=!0}},isBuffer:function(e){return e&&(e.buffer||"ArrayBuffer"==e.constructor.name)},fileBookmarks:O,getBookmarks:function(){return O},beforeClose:function(e,r){var n=A.once(e,r);A.once("clear-temp",function(){A.off(e,n)})},pickFile:function(r,n,t){if(!E.isOpen)return A.once("sidenav-open",function(){A.pickFile(r,n,t)}),E.open();m.info(r),A.beforeClose("open-file",n);var i=j.getActiveTab().attr("href").substring(1),o=R[i];if(o||(j.select("hierarchy_tab"),o=R.projectView),o.isClosed){var a=Object.keys(R),l=a.indexOf(i);l=l>0?l-1:l+1,o=R[a[l]],j.select(o.id)}t&&(A.beforeClose("new-file",n),o.newFile(c&&e.Docs.getName(f)))},saveAs:function(r){c=!0,f=r;var n=function(r){var n=e.Docs,t=function(){n.saveAs(f,r.filepath,r.browser.fileServer),A.exitSaveMode()};"new-file"==r.id?t():m.ask("Overwrite "+r.filename+"?",t),r.preventDefault()};A.pickFile("Select a file to overwrite or create a new file",n,!0)},exitSaveMode:function(){c=!1,A.trigger("clear-temp")},walk:function(e){function r(r,t,i){var o=r[0],a=new Array(m),l=new Array(m);c(g,function(n,t,s,c){return r[t+1]?void n.getFiles(f[t]+o,function(r,n){if(r){if("ENOENT"!==r.code&&!e.onError(o,r,g[t],t,i))return c(n);a[t]=r}else l[t]=n;s()}):s()},function(r){if(r)return t(r);var c=[];l.forEach(function(e){e&&s(c,e.sort())}),e.iterate(n,o,c,{data:new Array(c.length),initialValue:i,results:l,errors:a},t)},m,!1,!0)}function n(n,t,s,f){if(p)return f(void 0,p);var h=s.data,y=s.results,S=s.errors,E=0;c(t,function(c,f,j,F){b--,E++;var x=[l(n,c)];if(o){for(var k=0;k<g.length;k++)x.push(y[k]&&y[k].indexOf(c)>-1||null);x.push.apply(x,S)}var O=!1,D=function(n,t){if(O)throw"Error: next called twice";if(E--,n===v&&i(v),p)b++,F(p);else{if(!t&&a(c)){if(!e.breadthFirst)return r(x,function(e,r){b++,e===v?i(v):h[f]=e,p?F(p):r?F(r):j()},n),u;w.push(o?x.slice(0,m+1):{0:x[0],1:!0})}b++,h[f]=n,j()}return u};x.push(D,F,a(c),t,s);var B=e.map.apply(null,x);B!==u&&D(B,B===d)},function(r){if(r)s.cancelled=r,b+=E;else if(E)throw new Error("Counter errror: Expected 0 got "+E);var t=e.reduce(n,h,s,f);t!==u&&f(t,t===d)},b>0?b:1,!1,!0)}function t(n){n==v&&i(v),w.length&&!p?r(w.shift(),t,n):e.finish(n,p)}function i(e){p=e||!0}e=e||{};var o=!!e.trees,a=A.isDirectory,l=A.join,s=h.mergeList,c=h.asyncForEach;e.iterate=e.iterate||function(e,r,n,t,i){e(r,n,t,i)},e.map=e.map||function(e){return e},e.reduce=e.reduce||function(e,r,n,t){return t(r.filter(Boolean)),u},e.onError=e.onError||function(){return e.failOnError?!1:!0},e.finish=e.finish||h.noop;var f=e.dirs||[e.dir];f.forEach(function(e,r){a(e)||(f[r]+="/")}),e.trees=e.trees||f.map(function(){return e.fs||A.defaultServer});var u=e.waitSignal,d=e.hasOwnProperty("stopSignal")?e.stopSignal:!1,v=e.hasOwnProperty("breakSignal")?e.breakSignal:{};if(u===d||v===u)throw"Wait signal cannot be the same with break/stop signal";var p,g=e.trees,m=g.length,w=[],b=parseInt(e.parallel)||1;return r([""].concat(e.trees),t,e.initialValue),i},globToRegex:o,genQuickFilter:i,globToWalkParams:function(e){var r=s(e),n=i(e);return{root:r.commonRoot,canMatch:n,matches:r.regex}}},W={"default":A,childStubs:null,all:null,project:null};Object.assign(A,g.prototype),window.braceExpand=window.braceExpand||function(){return console.warn("regex needs Brace Expand but not found"),"/THIS_SHOULD_MATCH_NOTHING_BUT_WHAT_IF_IT_DOES???/"};var L={test:function(){return!0},source:".*"},H=function(e){return/\S/.test(e)},U=i;e.FileUtils=A;var V=e.EncodingToNames={utf8:"UTF-8"}});;_Define(function(t){function e(t,n,s,r,a,o){a=a||0,$.ajax({url:t,type:"POST",data:n,processData:!r,success:function(t){s&&s(null,t)},error:function(f){(0===f.status||501===f.status&&!f.responseText)&&3>a?e(t,n,s,r,++a,o):s&&s(u(f,t,n.path||n.dir||n.file))}})}function n(t,e,s,r,a){r=r||0,$.ajax({url:t,type:"POST",data:{path:e},success:function(t){s&&s(null,t)},error:function(o){(0===o.status||501===o.status&&!o.response)&&3>r?n(t,e,s,++r,a):s&&s(u(o,a,e))},xhr:function(){var t=new XMLHttpRequest;return t.responseType="arraybuffer",t}})}function s(t,e,n){var s=new XMLHttpRequest;s.open("post",t),s.send(e),n&&(s.onload=function(){200==s.status?n():n(u(s,null,t))},s.onerror=function(){n(u(s))})}var r={404:"ENOENT",401:"EEXIST",403:"ENOTEMPTY",402:"EISDIR",405:"ENOTDIR",406:"EXDEV",412:"ETOOLARGE",413:"ENOTENCODING"},u=function(e,n,s){var u=r[e.status]||e.responseText||"EUNKNOWN";return 0!==e.status||u||t.Notify.error("SERVER DOWN!!!"),{code:u,message:u,syscall:n,path:s}};t.sendBuffer=s,t.requestBuffer=n,t.request=e});;_Define(function(t){"use strict";function n(t){return t.charAt}function i(t){var n=S._callbacks;if(!t)return 0;for(var e=++A;n[e];)e=++A;return n[e]=function(i,r){delete n[e],i&&(i=u(i)),t(i,r)},e}function r(t){var n=S._callbacks,e=d.getError(p),i=e||t.message;n[A]&&n[A](i)}function c(t){return function(n,e){n?t(n,null):t(n,JSON.parse(e))}}function o(t){var n=Base64.encode(new Uint8Array(t.buffer||t));return n}function s(t){var n=Base64.decode(t);return n}function a(t,n,e){return function(){for(var i,r=arguments.length-1;r>=e&&(i=arguments[r],!i||"function"!=typeof i);)i=null,r--;var c,o;try{c=n.apply(t,i?Array.prototype.splice.apply(arguments,[0,r]):arguments)}catch(s){o=s}i&&k(function(){i(o,c)})}}function u(t){var n,e=new Error;e.origin=t;for(var i in O)if(t.indexOf(i)>-1){n=O[i];break}return n?e.code=e.message=n:(console.debug("Unknown error",e.origin),e.code=e.message="EUNKNOWN"),e}function l(t){var n=d.getError(p),e=n?u(n):t;throw e}function f(t){this.close=function(){d.closeReadableStream(t,p)},this.read=function(n){A++;try{d.readStreamAsync(t,i(n&&function(t,e){t||(e=e?s(e):null),n(t,e)}),p)}catch(e){r(e)}},this.readSync=function(){try{var n=d.readStream(t,p);return n=n?s(n):null}catch(e){l(e)}}}function y(t){this.close=function(){d.closeWritableStream(t,p)},this.write=function(n,e){A++;try{d.writeStreamAsync(t,o(n),i(e),p)}catch(c){r(c)}},this.writeSync=function(n){try{return d.writeStream(t,o(n),p)}catch(e){l(e)}}}var h="Application";if(window[h]){var d=window[h],S={};window[h]=S;var p=d.requestAccessKey(),E=t.registerAll({runInNewProcess:!1},"execute"),g=t.request,m=t.requestBuffer,v=t.appStorage,w=t.AppEvents,F=t.FileUtils,N=F.normalizeEncoding,k=t.Utils.setImmediate;Env.isWebView=!0,Env.isLocalHost=!1,Env._server=null,Env.canLocalHost=!0,Env.newWindow=function(n){t.Docs.tempSave(),v.__doSync&&v.__doSync(),d.runFile(n,E.runInNewProcess,p)},S._onNewIntent=function(n){var e=JSON.parse(n);d._intent=e,t.addDoc(e.name||"",e.value||"",e.path||"")},S._pause=function(){window.blur(),w.trigger("app-paused"),v.__doSync&&v.__doSync()},S._resume=function(){w.trigger("app-resumed")},S._notifyIntent=function(){w.on("app-loaded",function(){var n=d.getIntent(p);n&&(t.Notify.info("Loading file.."),S._onNewIntent(n))})},S._notifyIntent(),S._callbacks={0:function(t){t&&console.error(t)}};var A=0;S.createCallback=function(t){var n=S._callbacks;if(!t)return 0;for(var e=++A;n[e];)e=++A;return n[e]=t,e},S.clearCallback=function(t){delete S._callbacks[t]};var O={"is a directory":"EISDIR","already exists":"EEXIST","not empty":"ENOTEMPTY","is not a directory":"ENOTDIR","too large":"ETOOLARGE","Unknown encoding":"ENOTENCODING","does not exist":"ENOENT","Operation failed":"EACCES","System Busy":"EMFILE"," can not be null":"ENULLVALUE","Resource closed":"ECLOSED",FileNotFoundException:"ENOENT",AccessDeniedException:"EACCES",DirectoryNotEmptyException:"ENOTEMEPTY",FileAlreadyExistsException:"EEXIST",NoSuchFileException:"ENOENT",NotDirectoryException:"ENOTDIR"},_=function(t){t||(t="/sdcard/"),this.openReadableStream=function(t){return new f(d.openReadableStream(t,p))},this.openWritableStream=function(t){return new y(d.openWritableStream(t,p))},this.readFileSync=function(t,e){try{var i;if(e&&(i=n(e)?e:e.encoding),!i){var r=d.getBytes(t,p);return s(r)}return d.getFile(t,i,p)}catch(c){l(c)}},this.writeFileSync=function(t,e,i){try{var r;return i&&(r=n(i)?i:i.encoding),F.isBuffer(e)?(e=o(e),d.saveBytes(t,e,p)):d.saveFile(t,e,r||"utf-8",p)}catch(c){l(c)}},this.readdirSync=function(t){try{return JSON.parse(d.getFiles(t,p)).map(F.removeTrailingSlash)}catch(n){l(n)}},this.statSync=function(t,n){try{return F.createStats(JSON.parse(d.stat(t,!!n,p)))}catch(e){l(e)}},this.lstatSync=function(t){return this.statSync(t,!0)},this.copyFileSync=function(t,n,e){try{return d.copyFile(t,n,e,p)}catch(i){l(error)}},this.moveFileSync=function(t,n,e){try{return d.moveFile(t,n,e,p)}catch(i){l(error)}},this.mkdirSync=function(t){try{return d.newFolder(t,p)}catch(n){l(n)}},this.renameSync=function(t,n){try{return d.rename(t,n,p)}catch(e){l(e)}};var u=function(t){try{return d.delete(t,p)}catch(n){l(n)}};this.unlinkSync=this.rmdirSync=u,this.readFile=function(t,e,c){var o;if(e&&(c||"function"!=typeof e?o=n(e)?e:e.encoding:c=e),o&&"utf8"!==N(o)){A++;try{d.getFileAsync(t,o,i(c),p)}catch(a){r(a)}}else(o?g:m)(this.href+t,t,function(n,e){if(!n)return c(null,e);var a;try{a=this.statSync(t)}catch(u){return c(u)}if("dir"==a.type)return c({code:"EISDIR",message:"EISDIR"});if(o)d.getFileAsync(t,o,i(c),p);else{A++;try{d.getBytesAsync(t,i(c&&function(t,n){t||(n=s(n)),c(t,n)}),p)}catch(u){r(u)}}}.bind(this),3,3)},this.writeFile=function(t,e,c,s){A++;try{var a;c&&(s||"function"!=typeof c?a=n(c)?c:c.encoding:s=c),F.isBuffer(e)?(e=o(e),d.saveBytesAsync(t,e,i(s),p)):d.saveFileAsync(t,e,a||"utf-8",i(s),p)}catch(u){r(u)}},this.getFiles=function(t,n,e){A++;try{n&&(e||"function"!=typeof n||(e=n));{d.getFilesAsync(t,i(e?c(e):null),p)}}catch(o){r(o)}},this.readdir=function(t,n,e){n&&(e||"function"!=typeof n||(e=n)),this.getFiles(t,e&&function(t,n){e&&e(t,n&&n.map(F.removeTrailingSlash))})},this.stat=a(this,this.statSync,1),this.lstat=a(this,this.lstatSync,1),this.copyFile=function(t,n,e,c){A++;try{d.copyFileAsync(t,n,!!c,i(e),p)}catch(o){r(o)}},this.moveFile=function(t,n,e,c){A++;try{d.moveFileAsync(t,n,!!c,i(e),p)}catch(o){r(o)}},this.mkdir=a(this,this.mkdirSync,1),this.rename=a(this,this.renameSync,2),this.unlink=this.rmdir=this.delete=a(this,u,1),this.fastGetOid=function(t,n){A++;try{d.getGitBlobIdAsync(t,i(n),p)}catch(e){r(e)}},this.href="file://",this.isEncoding=function(){if(encodings.indexOf(e)>-1)return e;var t=encodings.map(N).indexOf(N(e));return t>-1?encodings[t]:!1},this.getEncodings=function(){try{return this.encodings||(this.encodings=JSON.parse(d.getEncodings(p)))}catch(t){l(t)}},this.getDisk=function(){return"local"},this.getRoot=function(){return t},this.symlinkSync=function(t,n){try{return d.symlink(t,n,p)}catch(e){l(e)}},this.readlinkSync=function(t){try{return d.readlink(t,p)}catch(n){l(n)}},this.symlink=a(this,this.symlinkSync,1),this.readlink=a(this,this.readlinkSync,1)};F.registerFileServer("application","Default FileSystem",function(t){return window.afs=new _(t&&t.root)},[{name:"root",caption:"Root Directory",value:"/sdcard/",type:"text"}])}});;_Define(function(e){function t(e,t){t=t||{};var n=[],a=[],i=r(e,t.includeContainer,o);i.forEach(function(e,t){var r=c(e);0===r?n.push(e):a.push({documentOrder:t,tabIndex:r,node:e})});var u=a.sort(l).map(function(e){return e.node}).concat(n);return u}function n(e,t){t=t||{};var n=r(e,t.includeContainer,i);return n}function r(e,t,n){var r=Array.prototype.slice.apply(e.querySelectorAll(I));return t&&N.call(e,I)&&r.unshift(e),r=r.filter(n)}function o(e){return!i(e)||b(e)||c(e)<0?!1:!0}function a(e){if(!e)throw new Error("No node provided");return N.call(e,I)===!1?!1:o(e)}function i(e){return e.disabled||s(e)||v(e)||m(e)?!1:!0}function u(e){if(!e)throw new Error("No node provided");return N.call(e,x)===!1?!1:i(e)}function c(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?d(e)?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t}function l(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function d(e){return"true"===e.contentEditable}function f(e){return"INPUT"===e.tagName}function s(e){return f(e)&&"hidden"===e.type}function m(e){var t="DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some(function(e){"SUMMARY"===e.tagName});return t}function p(e){return f(e)&&"radio"===e.type}function b(e){return p(e)&&!h(e)}function y(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}function h(e){if(!e.name)return!0;var t=e.form||e.ownerDocument,n=t.querySelectorAll('input[type="radio"][name="'+e.name+'"]'),r=y(n,e.form);return!r||r===e}function v(e){if("hidden"===getComputedStyle(e).visibility)return!0;var t=e.matches("details>summary:first-of-type"),n=t?e.parentElement:e;if(n.matches("details:not([open]) *"))return!0;for(;e;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}var E=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],I=E.join(","),N="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,x=E.concat("iframe").join(",");e.tabbable={tabbable:t,focusable:n,isTabbable:a,isFocusable:u,isVisible:o}});;_Define(function(e){"use strict";function t(e){if(M.Modal._modalsOpen>0){var n=$(e).closest(".modal");if(n.length<1)return u(!0);var i=M.Modal.getInstance(n[n.length-1]);if(!i||i._nthModalOpened!==M.Modal._modalsOpen)return u(!0)}e.parentElement&&(e.parentElement.env?e.parentElement.env.editor.textInput.focus():e.focus(),l(function(){h!=e||r()||t(h)}))}function n(e){if(e&&s&&s.wait(),m){var n=document.activeElement;if(o(n)){if(h){if(h==n)return void(g&&(clearTimeout(g),g=null));u(!0)}h=n,h.addEventListener("blur",b),document.addEventListener("focusin",b),t(h)}}}function i(e){n(e),h&&(T=!0)}function a(){h.removeEventListener("blur",b),document.removeEventListener("focusin",b),h=null,T=!1,g=null}function o(e){if("TEXTAREA"==e.tagName)return!e.readOnly;if("INPUT"==e.tagName){var t=e.type;switch(t){case"radio":case"checkbox":case"file":case"reset":case"button":case"submit":return!1;default:return!(e.readOnly||e.disabled)}}return e.contentEditable===!0}function u(e){h&&(g&&clearTimeout(g),e===!0?a():g=setTimeout(a,600))}function r(){return document.activeElement&&o(document.activeElement)}function c(e,i,a){h&&u(!0),(m||a||i&&Env.isDesktop)&&(t(e),n(),u())}var s,f=e.FOCUS_RESIZE_WINDOW=800,d=e.AppEvents,l=e.Utils.setImmediate,v=e.Utils.noop,m=!1;Env.isDesktop||(s=function(e){function t(){s.attach(),l.attach(),a()}function n(e){var t,n=(new Date).getTime(),i=E*b>0==m;(b>0||0>b)&&(e?(t=Math.sign(E)*(Math.pow(Math.tanh(E),2)-1),i&&(t=-t),Math.abs(E)<.1?E=.1*-Math.sign(E):2e3>n-T||(5e3>n-T?t-=.7*t:3e4>n-T&&(t=.1*t)),E-=t,T=n):1.5>E&&E>-1.5&&(t=Math.sign(E+.01)*(1-Math.pow(Math.tanh(E),2))*Math.min(1,h/5),i&&(t=-t),E-=t)),h=0,n=0,c=null}function i(e,t){return c&&(clearTimeout(c),n(!0)),p=e,E*e+t}function a(){e.addEventListener("resize",u)}function u(){var e=i(l.activated(m),s.activated(m));e>0&&!m?(m=!0,d.trigger("keyboard-change",{visible:!0,isTrusted:e>1})):0>e&&m&&(m=!1,d.trigger("keyboard-change",{visible:!1,isTrusted:-1>e}))}var r,c,s=function(){function t(e){"undefined"!=typeof e.target&&"undefined"!=typeof e.target.nodeName&&o(e.target)&&n(e)}function n(){null!==u&&(e.clearTimeout(u),u=null),a=!0,c=!1,u=e.setTimeout(i,r)}function i(){m||(m=!0,d.trigger("keyboard-change",{visible:!0,isTrusted:!1})),a=!1,u=null}var a=!1,u=null,r=2*f,c=!1;return{attach:function(){document.addEventListener("focus",t,!0)},activated:function(){return a?(clearTimeout(u),a=!1,1):0}}}(),l=function(){var t,n,i,a,o,u;return{attach:function(){a=o=i=e.innerHeight,n=t=e.innerWidth,u=0},activated:function(o){i=e.innerHeight,t=e.innerWidth,r=a-i,a=i;var c=u/4;return t!=n?(n=t,0):o&&u>50&&c>-r&&c>r?(u+=r,1):r>0?!o&&r>=u-50?(u=r,2):(u=(u+r)/2,o?0:1):o?-r>=u?(u=-r,-2):(u=(u-r)/2,0):-1}}}(),h=0,g=e.innerHeight<1700?function(){h++,!o(document.activeElement)&&m?E*p>0&&(b=p,n(!0)):c||(c=setTimeout(n,f),b=p)}:v,E=.6,p=0,b=0,T=(new Date).getTime()+1e4;return{init:t,wait:g}}(window),s.init()),d._eventRegistry["keyboard-change"]=null;var h,g=null,E="ontouchstart"in window?"touchstart":"mousedown",p="ontouchend"in window?"touchend":"mouseup",b=function(e){T?t(h):e.realtedTarget&&o(e.relatedTarget)?t(e.relatedTarget):l(function(){h&&!r()&&t(h)})},T=!1;e.FocusManager={get activeElement(){return h||(r()||Env.isDesktop)&&document.activeElement},trap:function(e,t){Env.isDesktop||(e.on(E,t?i:n),e.on(p,u))},canTakeInput:o,visit:function(e,t){var n=h||(m||Env.isDesktop)&&r()&&document.activeElement;return e?c(e,!0,t):n&&n.blur(),n?function(){r()&&document.activeElement!=e||c(n,!0)}:v},release:function(e){u(!0),e.off(E,n),e.off(E,i),e.off(p,u)},hintChangeFocus:function(){u(!0)},hintNoChangeFocus:function(){T=!0},get keyboardVisible(){return m},focusIfKeyboard:c}});;_Define(function(e){function t(e){var t=e.target,r=t._track;n.apply(t),r.onKey(r.lastEv,!0)}function n(){this._track&&(this.removeEventListener("blur",t),this._track=null)}function r(e,r,o){if(e.addEventListener("blur",t),e._track)e._track.lastEv=r,e._track.clear();else{var i={lastEv:r,onKey:o,clear:d.debounce(n.bind(e),100)};e._track=i,i.clear()}}function o(e,t){e=a(e);do switch(t){case"up":if(0!=e.scrollTop)return e.scrollTop=Math.max(0,e.scrollTop-20),!0;break;case"down":if(e.scrollTop+e.clientHeight<e.scrollHeight)return e.scrollTop=Math.min(e.scrollTop+20,e.scrollHeight-e.clientHeight),!0;break;case"left":case"right":}while(e!=document.body&&(e=a(e)));return!1}function i(e,t,n){var r=e.getBoundingClientRect(),o=n?n.getBoundingClientRect():{top:0,bottom:window.innerHeight||document.documentElement.clientHeight},i=t?r.height:0;return r.top-o.top>=-i&&r.bottom-i<=o.bottom}function a(e,t){var n=getComputedStyle(e),r="absolute"===n.position,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===n.position)return document.body;for(var i=e;i=i.parentElement;)if(n=getComputedStyle(i),(!r||"static"!==n.position)&&o.test(n.overflowY))return i;return document.body}function s(e){l&&c(),l=e,$(e.parentElement).addClass("nav-skipcontainer"),e.addEventListener("keydown",T,!0)}function c(){$(l.parentElement).removeClass("nav-skipcontainer"),l.removeEventListener("keydown",T,!0),l=null}var l,f=e.tabbable,u=e.FocusManager,d=e.Utils,h=e.event,v=e.keys,g=v.KEY_MODS,p=(e.EventsEmitter,function(e){var t=document.createElement("textarea");return t.className="keyboard-listener",t.value="-",t.setAttribute("tabIndex",-1),t.style.opacity=.1,t.style.position="fixed",t.style.width="2px",t.style.height="2px",t.style.overflow="hidden",t.setAttribute("autocomplete","off"),t.setAttribute("name",d.genID("qt")),e.appendChild(t),t}),b=!0,m=d.debounce(function(){b=!1},100),k={attach:function(e,t){t.el=e||document.body,t.$receiver=e&&u.canTakeInput(e)?e:new p(t.el),e=e||document,t.$toDestroy=[],h.addCommandKeyListener(e,function(e,n,r){if(!(0>r||0>n)){var o=g[n]+v.keyCodeToString(r);t.$onKey({event:e,value:o,repeating:b}),b=!0,m()}},t),h.addListener(t.$receiver,"input",function(e){var n=this.value.charCodeAt(this.value.length-1);t.$onKey({event:e,value:v.keyCodeToString(n)})},t),t.$onKey||(t.$onKey=y.bind(t)),t.scrollIntoView||(t.scrollIntoView=E)},detach:function(e){e.$toDestroy.forEach(function(e){e.destroy()})}},E=function(e,t,n,r,o){t=t||0,n=n||0,r=r||e.offsetWidth,o=o||e.offsetHeight;for(var i=e;i=i.parentElement;){var a=i==e.offsetParent?0:i.offsetTop,s=e.offsetTop+n-a,c=s+o;s<i.scrollTop?i.scrollTop=s:c-i.offsetHeight>i.scrollTop&&(i.scrollTop=c-i.offsetHeight),n=s-i.scrollTop;var l=i==e.offsetParent?0:i.offsetLeft,f=e.offsetLeft+t-l,u=f+r;f<i.scrollLeft?i.scrollLeft=f:u-i.offsetWidth>i.scrollLeft&&(i.scrollLeft=u-i.offsetWidth),t=f-i.scrollLeft,e=i}},y=function(e,t){var n=e.event;if(!n.defaultPrevented){var a=e.value,s=this.el,c=this,l=!(t||n.target==this.$receiver||n.target==s||"esc"==a);if(l)return void r(n.target,e,w.$onKey);var f=c.getCurrentElement(s);if(f){c.shifted=a.startsWith("shift-"),c.shifted&&(a=a.replace("shift-",""));var u;switch(a){case"up":u=c.getPrev(f,s,"vertical");break;case"down":u=c.getNext(f,s,"vertical");break;case"right":u=c.getNext(f,s,"horizontal");break;case"left":u=c.getPrev(f,s,"horizontal");break;case"tab":u=c.getPrev(f,s,"tab");break;case"shift-tab":u=c.getNext(f,s,"tab");break;case"esc":c.blur(n.target);break;case"space":case"return":if(!c.shifted){c.onenter(f,n);break}case"f10":case"contextmenu":c.onRightClick&&c.onRightClick(f,n)}if(u){if((u==f||!i(u,!0,c.getRoot()))&&a.indexOf("tab")<0&&o(u,a))return n.preventDefault();if(u!=f)return c.scrollIntoView(u),c.shifted?c.shiftTo(u,f):c.moveTo(u,f),n.preventDefault()}Env.isDesktop||n.preventDefault()}}},T=function(e){var t=parseInt(e.keyCode);if(!v.MODIFIER_KEYS[t])if(c(),e.shiftKey||e.ctrlKey||e.altKey||!(t==v.esc||41>t&&t>36))(t==v.enter||t==v.space)&&(e.stopPropagation(),e.preventDefault());else{var n=v.keyCodeToString(t);e.target.blur(),w.$onKey({event:e,value:n},!0),u.focusIfKeyboard(w.$receiver,!0)}},w={moveTo:function(e,t,n){$(w.lastEl).removeClass("nav-focused"),w.lastEl=e;var r=e.parentElement.navBehaviour;if(r===!1)w.delegate=!1;else{var o;if(r)o=r.detect(e);else for(var i in x)if(o=x[i].detect(e)){r=x[i],e.parentElement.navBehaviour=r;break}r?(w.delegate=r,w.delegate.root=o):(w.delegate=!1,e.parentElement.navBehaviour=!1)}if(u.canTakeInput(e))u.focusIfKeyboard(e,!0),n||s(e);else if(!n||Env.isDesktop||"mouse"!=n&&u.keyboardVisible){if(f.isTabbable(e)&&$(e).addClass("nav-focused"),$(e).hasClass("modal")||$(e).closest(".modal").length)return u.hintChangeFocus();u.focusIfKeyboard(w.$receiver,!0)}},blur:function(e){e.className.indexOf("ace_text-input")>-1?s(e):u.canTakeInput(e)&&e!=this.$receiver?(u.focusIfKeyboard(this.$receiver,!0),e.blur()):(u.focusIfKeyboard(this.$receiver,!0),w.pop())},onenter:function(t,n){if(u.canTakeInput(t));else{if("SELECT"==t.tagName)return e.Overflow.openSelect(n,t),!0;if(u.activeElement==w.$receiver)return $(t).addClass("nav-focused"),u.focusIfKeyboard(w.$receiver,!0),$(t).trigger({type:"click",which:1}),!0}},onRightClick:function(t,n){if(u.canTakeInput(t));else{if("SELECT"==t.tagName)return e.Overflow.openSelect(n,t),!0;if(u.activeElement==w.$receiver)return $(t).addClass("nav-focused"),u.focusIfKeyboard(w.$receiver,!0),$(t).trigger({type:"contextmenu"}),!0}},scrollIntoView:E,attach:function(){window.addEventListener("mousedown",function(e){w.setFocused(u.activeElement||e.target,"mouse")}),window.addEventListener("focusin",function(e){w.setFocused(e.target,"focus")}),this.stack=[{root:document.body}],k.attach(null,w)},setFocused:function(e,t){if(l&&c(),e!=w.lastEl&&e!=w.$receiver)do{if(f.isTabbable(e)){w.moveTo(e,w.getCurrentElement(document.body),t);break}e=e.parentElement}while(e)},addBehaviour:function(e,t){x[e]=t},stack:null,addRoot:function(e,t,n){if(this.stack){var r={close:t,root:e,base:w.getCurrentElement()};this.stack.push(r);var o=w.getElements()[0];return n||(r.escapes=[o]),this.setFocused(o,"root"),r}},getRoot:function(){return this.stack[this.stack.length-1].root},canEscape:function(e){var t;return(t=this.stack[this.stack.length-1])&&(t=t.escapes)&&t.indexOf(e)>-1},hasStack:function(){return this.stack.length>1},removeRoot:function(e){if(this.stack)for(var t=this.stack.length-1;t>0;t--)if(this.stack[t].root==e){var n=this.stack[t].base;this.stack.splice(t),this.checkAttached(n)&&this.setFocused(n,"root");break}},outsideRoot:function(e){var t=w.getRoot();do{if(e.parentElement==t)return!1;e=e.parentElement}while(e);return!0},checkAttached:function(e){for(var t=e;t;)t=t.parentNode;return t==document},pop:function(){if(this.stack.length>1){var e=this.stack.pop();return e.close(),w.checkAttached(e.base)&&this.setFocused(e.base,"root"),e}},getElements:function(){return w.getRoot().querySelectorAll(K)},getNext:function(e,t,n){var r;if(this.delegate&&this.delegate[n]&&(r=this.delegate.getNext(e,t,n,this.getNext.bind(this))))return r;var o=this.getElements(t),i=I(o,e);do r=o[++i];while(r&&!f.isVisible(r));return r?r:!b&&w.canEscape(e)?void w.pop():f.isVisible(e)?e:this.getNext(null,t)},getPrev:function(e,t,n){var r;if(this.delegate&&this.delegate[n]&&(r=this.delegate.getPrev(e,t,n,this.getPrev.bind(this))))return r;var o=this.getElements(t),i=I(o,e);do r=o[--i];while(r&&!f.isVisible(r));return r?r:!b&&w.canEscape(e)?void w.pop():f.isVisible(e)?e:this.getNext(null,t)},getCurrentElement:function(e){return this.lastEl||e},shiftTo:d.noop},x=w.defaults={tabs:{vertical:!0,root:null,getPrev:function(e,t,n,r){return r(e,t)},getNext:function(e,t,n,r){for(var o=this.root.getElementsByTagName("a"),i=o.length;--i>0;)if(f.isVisible(o[i]))return r(o[i],t)},detect:function(e){var t=e.parentElement.parentElement;return t&&(" "+t.className+" ").indexOf(" tabs ")>-1?t:void 0}},fileview:{horizontal:!0,root:null,getPrev:function(e,t,n,r){for(var o=this.root.children,i=-1;++i<o.length;)if(f.isTabbable(o[i]))return r(o[i],t)},getNext:function(e,t,n,r){for(var o=this.root.children,i=o.length;--i>0;)if(f.isTabbable(o[i])){var a=r(o[i],t);return a&&a.className.indexOf("file-item")>-1?a:o[i]}},detect:function(e){return(" "+e.parentElement.className+" ").indexOf(" fileview ")>-1&&e.parentElement}}},C=["input","select","textarea","a[href]","button","[tabindex]"],K=C.join(","),I=Array.prototype.indexOf.call.bind(Array.prototype.indexOf);e.Navigation=w,e.KeyListener=k});;_Define(function(t){function e(t,e){var n=!1;this.close=function(){},this.read=function(i){n?o(i.bind(null,void 0,null)):t.readFile(e,i),n=!0}}function n(t){var e=t.reduce(function(t,e){return t+e.length},0);if(!t.length)return null;var n=new Uint8Array(e),i=0;for(var r in t){var o=t[r];n.set(o,i),i+=o.length}return n}function i(t,e){var i,r,s,u,c=[];this.close=function(){u||s||(r?t.writeFile(e,n(c)):i=!0,s=!0)},this.write=function(t,e){var n=u;s?n={code:"ECLOSED"}:n||c.push(t),o(e&&e.bind(null,n))},t.writeFile(e,"",function(t){r=!0,i&&(s=!1,this.close()),u=t})}function r(){var t=this;for(var e in r.prototype)t[e]||(t[e]=r.prototype[e]);t.lstat=t.lstat||t.stat,t.delete=t.delete||function(e,n,i){i=i||{error:!1},t.stat(e,function(r,o){if(i.error)return n();if(r)return i.error=r,n(r);if("dir"==o.type){var u=s(function(){return i.error?n(i.error):void t.rmdir(e,n)});u.increment(),t.readdir(e,function(r,o){return i.error?n():r?(i.error=r,n(r)):(o.forEach(function(n){u.increment(),t.delete(e+"/"+n,u.decrement,i)}),void u.decrement())})}else t.unlink(e,n)})},t.moveFile=t.moveFile||function(e,n,i){t.rename(e,n,function(r){r?u.copyFile(e,n,t,null,function(n){n||t.delete(e),i&&i(n)}):i()})},t.getFiles=t.getFiles||function(e,n){t.readdir(e,function(i,r){if(n){if(i)return n(i);if(!r.length)return n(null,r);var o=[],u=function(t){return function(e,n){n&&"dir"==n.type&&"/"!=t[t.length-1]&&(t+="/"),o.push(t),l.decrement(e)}},c=function(t){t?n(t):n(null,o)},l=s(c);l.increment();for(var a in r)l.increment(),t.stat(e+r[a],u(r[a]));l.decrement()}})}}var o=t.Utils.setImmediate,s=t.Utils.createCounter,u=t.FileUtils,c=u.normalizeEncoding;r.prototype.readlink=function(t,e){o(function(){e(t)})},r.prototype.symlink=function(t,e,n){this.copyFile(t,e,n,!1)},r.prototype.getRoot=function(){return"/"},r.prototype.getDisk=function(){return this.id},r.prototype.isEncoding=function(t){return"utf8"===c(t)?"utf8":void 0},r.prototype.openReadableStream=function(t){return new e(this,t)},r.prototype.openWritableStream=function(t){return new i(this,t)},t.BaseFs=r}),_Define(function(t){function e(t){var e=null,i=t,r=Object.create(t);return r.setFilter=function(t){return t?void("string"==typeof t?(t=n.globToRegex(t),e=function(e,i){return n.isDirectory(e)||(i+e).match(t)}):e=t):void(e=null)},r.getFiles=function(t,n){e?i.getFiles(t,function(i,r){if(i||!e)return n(i,[]);var o=[];for(var s in r)e(r[s],t)&&o.push(r[s]);n&&n(i,!i&&o)}):i.getFiles(t,n)},r}var n=t.FileUtils;t.FindFileServer=e}),_Define(function(t){"use strict";function e(t,e){var c=t;e=e||"/";var l=["utf8"];r(c+"/encodings","",function(t,e){this.$encodingList=null,t||(l=e)}.bind(this)),this.icon="storage",this.readFile=function(t,e,n){var i,s=function(t,e){console.assert(t||e||""===e),n&&n(t,e)};e&&("function"==typeof e?(s=e,e=null):i=e.constructor===String?e:e.encoding),i?r(c+"/open",{path:t,encoding:i},s):o(c+"/open",t,s)},this.getDisk=function(){return"local"},this.getFiles=function(t,e){r(c+"/files",{path:t,appendSlash:!0},e)},this.fastGetOid=function(t,e){r(c+"/fastGetOid",{path:t},e)},this.readdir=function(t,e){r(c+"/files",{path:t},e)},this.writeFile=function(t,e,n,i){var r;n&&("function"==typeof n?(i=n,n=null,r=null):r="string"==typeof n?n:n.encoding);var o=new FormData;o.set("encoding",r),o.set("content",new Blob([e]),t),s(c+"/save?path="+t.replace(/\//g,"%2F"),o,i)},this.mkdir=function(t,e){r(c+"/new",{path:t},e)},this.delete=function(t,e){r(c+"/delete",{path:t},e)},this.unlink=this.rmdir=this.delete,this.rename=function(t,e,n){r(c+"/rename",{path:t,dest:e},n)},this.copyFile=function(t,e,n,i){r(c+"/copy",{path:t,dest:e,overwrite:i},n)},this.moveFile=function(t,e,n,i){r(c+"/move",{path:t,dest:e,overwrite:i},n)},this.getRoot=function(){return e},this.stat=function(t,e,n){!n&&e&&"function"==typeof e&&(n=e,e=null),r(c+"/info",{path:t,isLstat:!!e},n&&function(t,e){e&&(e=i.createStats(e)),n(t,e)})},this.isEncoding=function(t){if(l.indexOf(t)>-1)return t;var e=l.map(u).indexOf(u(t));return e>-1?l[e]:!1},this.getEncodings=function(){return l},this.lstat=function(t,e){this.stat(t,!0,e)},this.href=c+"/root/",n.call(this)}var n=t.BaseFs,i=t.FileUtils,r=t.request,o=t.requestBuffer,s=t.sendBuffer,u=i.normalizeEncoding;t.RESTFileServer=e,Env.canLocalHost&&i.registerFileServer("rest","REST HTTP Fileserver",function(t){var n=Env._server,i="/";return t&&(t.address&&(n=t.address,n.startsWith("http")||(n="http://"+n)),t.root&&(i=t.root)),window.rfs=new e(n,i)},[{name:"address",caption:"Address",type:"text",value:Env._server||"http://localhost:8000"},{name:"root",caption:"Root Directory",value:"/",type:"text"}])}),_Define(function(t){function e(t,n){var i=["readFile","writeFile","readdir","stat","lstat","mkdir","unlink","rmdir","rename","symlink","readlink"],o=[];i.forEach(function(t){this[t]=function(){o.push({method:t,args:Array.prototype.slice.apply(arguments,[0])}),this.load()}},this),e.super(this),this.$url=t,this.$inject=function(){var t=n();t.id=this.id,r.replaceServer(this,t),this.$isStub=t,this.$inject=null,i.forEach(function(e){this[e]=t[e].bind(t)},this),o.forEach(function(e){t[e.method].apply(t,e.args)}),n=i=o=null}.bind(this)}var n=t.Utils,i=t.Utils.noop,r=t.FileUtils,o=t.BaseFs;n.inherits(e,o),e.prototype.$isStub=!0,e.prototype.load=function(){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("id",this.id),t.src=this.$url,t.onload=this.$inject,document.body.appendChild(t),this.load=i},t.StubFileServer=e}),_Define(function(t){var e,n=t.Utils.noop,i=t.FileUtils,r=t.StubFileServer,o=t.BaseFs;t.getBrowserFileServer=function(){if(e)return e;var i=e;return window.LightningFS?(i=e=new LightningFS("grace"),i.promises._initPromise.then(function(){i.promises._mutex={_has:!0,has:function(){return this._has},acquire:function(){return this._has=!0,!0},wait:n,release:function(){return this._has=!1,!0},_keepAlive:function(){this._keepAliveTimeout=!0},_stopKeepAlive:function(){this._keepAliveTimeout&&(this._keepAliveTimeout=null)}},i.promises._deactivate=n}),o.call(i)):i=new r("./libs/js/lightning-fs.js",t.getBrowserFileServer),i.icon="memory",i.id="inApp",i.cachedFs=i,i},i.registerFileServer("inApp","In-Memory FileSystem",t.getBrowserFileServer)});;_Define(function(t){function e(t,o,s,i,n){if(e.super(this,[t||""]),this.id=i?i:h.genID("m"),i&&u[i])throw new Error("Creating doc with existing id");this.setPath(o);this.session=new r(this,s);n?this.orphan=n:u[this.id]=this,this.session.setOptions(p.$defaults),this.dirty=!1,this.safe=!1,this.options={}}function o(t){return t.filter(function(t){return"removeFolds"!=t.action})}function s(t){var e=Number(g.maxUndoHistory);return isNaN(e)?t:t.slice(-e)}function i(t){var e=t.getUndoManager();return{content:t.getValue(),selection:t.getSelection().toJSON(),scrollTop:t.getScrollTop(),scrollLeft:t.getScrollLeft(),history:e.$undoStack?{undo:s(e.$undoStack).map(o),redo:e.$redoStack.map(o),m:e.$maxRev,b:e.$redoStackBaseRev!==e.$rev?e.$redoStackBaseRev:""}:null,folds:t.getAllFolds().map(function(t){return{start:{row:t.start.row,column:t.start.column},end:{row:t.end.row,column:t.end.column},placeholder:t.placeholder}}).filter(function(t){return t.start.row>t.end.row?!1:!0})}}function n(t,e){if(t.setValue(e.content),e.content){t.selection.fromJSON(e.selection),t.setScrollTop(e.scrollTop),t.setScrollLeft(e.scrollLeft);try{e.folds.forEach(function(e){t.addFold(e.placeholder,d.fromPoints(e.start,e.end))})}catch(o){console.error("Fold exception: "+o)}}if(e.history){var s=t.$undoManager;s||t.setUndoManager(s=new ace.UndoManager),s.$undoStack=e.history.undo||[],s.$redoStack=e.history.redo||[],s.$maxRev=e.history.m,s.$redoStackBaseRev=e.history.b?e.history.b:e.history.m,s.$syncRev()}}var r=t.EditSession,a=t.Document,h=t.Utils,l=t.FileUtils,c=t.Notify,u=Object.create(null),d=t.Range,p=t.Docs||(t.Docs={}),g=t.registerAll({},"documents");h.inherits(e,a),e.prototype.getPath=function(){return this.shadowDoc?this.path+"~~"+this.shadowDoc:this.path},e.prototype.setPath=function(t){if(!t)return this.path="temp:///"+this.id.substring(0),void this.setDirty();if(t=l.normalize(t),t!=this.path){if(p.forPath(t)){this.shadowDoc=1;for(var e;e=p.forPath(t+"~~"+this.shadowDoc);)if(this.shadowDoc++,e==this)throw new Error("Infinite Looping caught!!");this.allowAutoSave=void 0}this.path=t}},e.prototype.getSavePath=function(){return this.isTemp()?null:this.path},e.prototype.getEncoding=function(){return this.encoding||l.encodingFor(this.getSavePath(),this.getFileServer())},e.prototype.getFileServer=function(){return l.getFileServer(this.fileServer,!0)},e.prototype.save=function(t){var e,o=this.getFileServer(),s=this;this.session.$undoManager&&(e=this.session.$undoManager.startNewGroup());var i=this.session.getValue();o.writeFile(this.path,i,this.getEncoding(),function(o){o||void 0==e||s.setClean(e,i),t&&t(s,o)})},e.prototype.refresh=function(t,e,o){function s(){i.getFileServer().readFile(i.getSavePath(),i.getEncoding(),function(s,n){s&&"ENOENT"!=s.code?(i.setDirty(),t(i,s),c.error("Failed to load "+i.getPath()+" "+s.code)):p.setValue(i,n,t,e,o)})}if(this.isTemp())return!1;var i=this;return s(),!0},e.prototype.isTemp=function(){return this.path.startsWith("temp://")},e.prototype.serialize=function(){var t=i(this.session);return t.lastSave=this.lastSave,t._LSC=this._LSC,t.dirty=this.dirty,t.options=this.options,t.flags=this.flags,t.fileServer=this.fileServer,t.encoding=this.encoding,t.allowAutoSave=this.allowAutoSave,t.editorOptions=this.editorOptions,t.factory=this.factory,t},e.prototype.unserialize=function(t){var e=t;this._LSC=e._LSC,this.encoding=e.encoding,this.fileServer=e.fileServer,this.allowAutoSave=e.allowAutoSave,this.flags=e.flags,this.options=e.options,this.session.setOptions(this.options||{}),this.editorOptions=e.editorOptions,this.lastSave=e.lastSave,this.$fromSerial=!0,n(this.session,e),this.$fromSerial=!1,this.dirty=e.dirty},e.prototype.isReadOnly=function(){return this.editorOptions&&this.editorOptions.readOnly},e.prototype.setValue=function(t,e){a.prototype.setValue.apply(this,[t,e]);var o=this.session.$undoManager;o&&1===o.$undoStack.length&&0===o.$redoStack.length&&1===o.$undoStack[0].length&&this.session.$undoManager.reset(),e&&!this.isTemp()&&this.setClean(null,t)},e.prototype.updateValue=function(t,e){var o=p.generateDiff(this.getValue(),t),s=this;for(var i in o)s.applyDelta(o[i]);this.getSize()!==t.length?(console.error("Generate diff failed length check"),this.setValue(t,e)):e&&!this.isTemp()&&this.setClean(null,t)},e.prototype.getSize=function(){var t=this.session.getLength();if(1>t)return 0;for(var e=this,o=e.getNewLineCharacter().length*(t-1);t>0;)o+=e.getLine(--t).length;return o},e.prototype.clearHistory=function(){this.session.getUndoManager().reset()},e.prototype.abortChanges=function(t){for(var e=this.session.getUndoManager();e.canUndo()&&(!t||e.getRevision()>this.lastSave);)e.undo()},e.prototype.getDeltas=function(t){return this.session.getUndoManager().getDeltas(t||0)},e.prototype.getRevision=function(){var t=this.session.getUndoManager();return t.startNewGroup()},e.prototype.redoChanges=function(){for(var t=this.session.getUndoManager();t.canRedo();)t.redo();f(this)};var f=h.delay(function(t){var e=t.session.getUndoManager().$undoStack;e&&(e=e.length>0?Number(e[e.length-1][0].id):0,t.lastSave===e&&t.dirty&&(t.dirty=!1,p.$updateIcon(t.id)))},0);e.prototype.onChange=function(){var t=this;t.$fromSerial||(t.session.$fromUndo&&f(t),t.safe&&(t.safe=!1),t.dirty||t.setDirty(!0),t.allowAutoSave&&p.$autoSave(),p.$sessionSave())},e.prototype.setDirty=function(t){t||(this.lastSave=null),this.dirty=!0,p.$updateIcon(this.id)},e.prototype.setClean=function(t){var e=this;e.lastSave=t||e.getRevision(),e._LSC=e.getChecksum(),e.dirty=!1,e.safe=!1,p.$sessionSave(),p.$updateIcon(this.id)},e.prototype.getChecksum=function(t){return(t||this.session.getValue()).length},e.prototype.isLastSavedValue=function(t){return this._LSC===t.length},e.prototype.fork=function(t){var o=new e("",this.getSavePath(),this.options.mode,void 0,t),s=this.serialize();return s.history=JSON.parse(JSON.stringify(s.history)),o.unserialize(s),o},e.prototype.cloneSession=function(){var t=this.session,e=new r(this,t.getMode()),o=t.$undoManager;return e.setUndoManager(o),e.setTabSize(t.getTabSize()),e.setUseSoftTabs(t.getUseSoftTabs()),e.setOverwrite(t.getOverwrite()),e.setBreakpoints(t.getBreakpoints()),e.setUseWrapMode(t.getUseWrapMode()),e.setUseWorker(t.getUseWorker()),e.setWrapLimitRange(t.$wrapLimitRange.min,t.$wrapLimitRange.max),e.$foldData=t.$cloneFoldData(),this.clones=this.clones||[],this.clones.push(e),e},p.$jsonToSession=n,p.$sessionToJson=i,t.Doc=e,t.Docs=p,t.docs=u});;_Define(function(e){"use strict";function o(){m=Math.max(5e5,T.parseSize(l.maxStoreSize)),v=Math.min(m/10,Math.max(5e3,T.parseSize(l.maxDocCacheSize))),h=Math.min(m,Math.max(1e5,T.parseSize(l.maxDocDataSize)))}function n(e){for(var o={},n=e.length;n-->0;){var t=e[n][0];if(!t)return[n,"Empty delta"];if(o[t.id])return[n,"Duplicate id "+t.id];o[t.id]=!0}return!1}function t(e,o,t){var a,r,i,s=o.$undoStack;if(n(s))return!1;if(0===t)a=s;else for(i=s.length;i--;){if(r=s[i][0],r.id==t){a=s.slice(i+1);break}if(r.id<t)break}if(a)return a.forEach(function(o){e.redoChanges(o,!0)}),!0;if(s=o.$redoStack,n(s))return!1;for(i=s.length;i--;){if(r=s[i][0],r.id==t){a=s.slice(i);break}if(r.id>t)break}return a?(a.forEach(function(o){e.undoChanges(o,!0)}),!0):!1}function a(e){var o;if(g.hasOwnProperty("getKeys"))o=JSON.parse(g.getKeys());else{o=[];for(var n=0;n<g.length;n++)o.push(g.key(n))}return o=o.filter(function(o){return o.startsWith(e)&&/^\d+$/.test(o.substring(e.length))})}function r(o){var n=$(k.modal({header:"<i class='material-icons close-icon'>error</i><h5 class='center'>Error Loading Documents</h5>",dismissible:!1,body:["<h6>There seems to have been an error during the previous start.</br>Choose documents to load</h6><form>"].concat(Object.keys(o).map(function(e){return"<input data-id='"+e+"' type='checkbox'"+(o[e]?"":" checked")+"></input><span>"+(o[e]||"Temporary "+e)+"</span>"})).concat(["</form>"]).join(""),footers:["Load All","Proceed"]},function(){n.find("input").off(),n.find(".modal-load_all").off(),n.find(".modal-proceed").off()}));n.find(".modal-load_all").click(function(){n.modal("close"),C.removeBreakpoint("loadDocuments"),N.fromJSON(o,!0)}).addClass("red"),n.find(".modal-proceed").click(function(){n.modal("close");for(var e=[],t=n.find("input"),a=t.length;a-->0;)t[a].checked||(e.push(a),delete o[t[a].getAttribute("data-id")]);for(var r in e){for(var i,s=e[r];i=N.hasBlob(s);)N.removeBlob(i);g.removeItem(s)}C.removeBreakpoint("loadDocuments"),N.fromJSON(o,!0)}),e.styleCheckbox(n)}function i(e,o,n,t){var a,r,i=!0,s=!0;n&&"object"==typeof n&&(t=n,n=void 0),t&&(t.mode&&(a=t.mode),t.data&&(r=t.data),t.hasOwnProperty("select")&&(i=t.select),s=!t.noSave);var c;return o&&"object"==typeof o?(c=o,o=void 0,n=c.getSavePath(),c.options.mode||(a=y.getModeForPath(n||e||"").mode,"ace/mode/text"!=a&&c.session.setMode(a))):(a||(a=y.getModeForPath(n||e||"").mode),c=new A(o,n,a)),c.session.$undoManager||c.session.setUndoManager(new ace.UndoManager),r&&Object.assign(c,r),c.getPath()||(console.error("Bad factory: path cannot be null"),c.setPath(null)),f.hasTab(c.id)||(e||(e=N.getName(c.id)),f.addTab(c.id,e,c.annotations)),s&&N.persist(),c.bound||(n&&N.restoreStash(n,c),c.onChange=A.prototype.onChange.bind(c),c.onChangeMode=function(){var e=c.session.getMode();e.$id!=c.options.mode&&(c.options.mode=e.$id,c.safe=!1,F())},c.session.on("change",c.onChange),c.session.on("changeMode",c.onChangeMode),c.bound=!0,S.trigger("createDoc",{doc:c})),void 0!==o&&n&&c.setClean(),i&&f.setActive(c.id,!0,!0),c.id}function s(e,o){var n=P[e];if(n.clones&&n.clones.length)return void console.error("This document is being used by a plugin");void 0===o&&(o=l.keepDocumentsOnClose);for(var t;t=N.hasBlob(e);)N.removeBlob(t);if(n.bound&&o&&!n.isTemp()&&n.getSavePath()&&N.stashDoc(n.getSavePath(),JSON.stringify(E.save(n))),g.getItem(e)?g.removeItem(e):n.safe&&console.error("Unsafe doc with safe flag"),n.bound){n.session.off("change",n.onChange),n.session.off("changeMode'",n.onChangeMode);try{S.trigger("closeDoc",{doc:n,id:e})}catch(a){console.error(a)}}delete P[e],N.persist(),f.hasTab(e)&&(f.removeTab(e),0===N.numDocs()&&N.createPlaceHolder()),n.session.destroy()}function c(e){i("unsaved*","",{mode:e?e.getOption("mode"):null})}var l=e.registerAll({allowAutoSave:!1,stashExpiryTime:"1day",keepDocumentsOnClose:!0,maxStoreSize:Env.isWebView?"50mb":"5mb",maxDocCacheSize:"20kb",maxDocDataSize:"2mb",maxUndoHistory:"Infinity",clearCache:!1,autosaveInterval:"1min",nextCleanTime:0},"documents");e.registerValues({clearCache:"Set to true to clear all cached content",allowAutoSave:"Enable autosave once a document has been saved once",stashExpiryTime:"If keepDocumentsOnClose is enabled, this specifies how long they should be kept",keepDocumentsOnClose:"Allows the editor to save your undo history when a document is closed",maxStoreSize:"Configures how much storage can be used in total for storing documents",maxDocCacheSize:"The maximum size of documents that must be cached for later opening. Useful if using a network file server",maxDocDataSize:"The maximum size of data that should be stored for a single document.",nextCleanTime:"no-user-config"},"documents");var u=e.ConfigEvents,d=e.configure;u.on("documents",function(e){switch(e.config){case"clearCache":e.newValue===!0&&(m=0),N.cleanBlobs(!0),d(l.nextCleanTime,Math.min(l.nextCleanTime,(new Date).getTime()+864e5),"documents"),e.preventDefault(),k.info("Cache cleared");case"maxStoreSize":case"maxDocDataSize":case"maxDocCacheSize":o();break;case"autosaveInterval":I=T.delay(N.saveDocs,Math.max(T.parseTime(l.autosaveInterval),5e3))}});var f,v,h,m,g=e.appStorage,p=e.getObj,b=e.putObj,y=e.modelist,S=(l.lastRun,e.AppEvents),D=e.Range,w=e.FileUtils,k=e.Notify,T=e.Utils,C=e.Recovery,x=e.State,z=10,B=5;o();var O={save:function(e){var o=e.serialize();if(e.isTemp()||e.getSize()<v)return o;o.checksum=e.getChecksum(o.content);var n=o.content;if(o.content="",n.length<h/2){var t=N.hasBlob(e.id,"content");if(t){var a=J[t];if(20>Math.abs(a.rev-e.getRevision()))return o}N.saveBlob(e.id,"content",n,z,{rev:e.getRevision()})}return o},load:function(e,o){if(!o.checksum)return e.unserialize(o);e.unserialize(o),delete o.history,e.savedState=o,e.savedUndos=e.session.$undoManager,e.session.setUndoManager(null);var n=N.hasBlob(e.id,"content");if(n){var t=N.restoreBlob(n);if(void 0!==t){var a=J[n].rev;if(e.$fromSerial=!0,O.$update(e,t,a))return delete e.savedUndos,delete e.savedState,void(e.$fromSerial=!1);e.$fromSerial=!1}}e.$needsRecoveryFromRefresh=!0},$update:function(e,o,n){e.setValue(o);var a=!0;try{a=t(e.session,e.savedUndos,n)||void 0}catch(r){e.clearHistory(),a=!1}e.getChecksum()!==e.savedState.checksum&&(a=null);var i=e.savedState;return e.session.selection.fromJSON(i.selection),e.session.setScrollTop(i.scrollTop),e.session.setScrollLeft(i.scrollLeft),a&&(e.session.setUndoManager(e.savedUndos),i.folds.forEach(function(o){e.session.addFold(o.placeholder,D.fromPoints(o.start,o.end))})),a},refresh:function(e,o){var n=null,t=!0,a=!1;if(e.isLastSavedValue(o)){e.$fromSerial=!0;var r=O.$update(e,o,e.lastSave);switch(r){case a:k.error("Error Loading "+e.getPath());case n:e.setValue(o,!0);break;case t:e.dirty=e.getRevision()!=e.lastSave;break;default:e.setClean()}e.$fromSerial=!1}else e.setValue(o,!0);delete e.$needsRecoveryFromRefresh,delete e.savedState,delete e.savedUndos},canRecover:function(e){var o=N.hasBlob(e,"content"),n=N.restoreBlob(o);return n&&n.length?!0:void 0},recover:function(e,o){var n=N.hasBlob(e,"content"),t=N.restoreBlob(n);t&&t.length&&o.setValue(t)}},E={save:function(e){return e.serialize()},load:function(e,o){e.unserialize(o)},refresh:function(e,o){e.setValue(o,!0),delete e.$needsRecoveryFromRefresh},canRecover:T.noop},M=O,P=e.docs,A=e.Doc,N=e.Docs;N.diffToAceDeltas=function(e,o,n){function t(e,o){var n=e.split(i);n.length>1?(a+=n.length-1,r=n[n.length-1].length):r+=n[0].length;var t={row:a,column:r};o&&s.push({action:o>0?"insert":"remove",lines:n,start:c,end:t}),0>o?(a=c.row,r=c.column):c=t}for(var a=o||0,r=n||0,i=/\r\n|\n|\r/g,s=[],c={row:a,column:r},l=0;l<e.length;l++)t(e[l][1],e[l][0]);return s},N.generateDiff=function(e,o,n,t){var a=new diff_match_patch;a.Diff_EditCost=50,a.Diff_Timeout=.4;var r=a.diff_main(e,o);return a.diff_cleanupEfficiency(r),N.diffToAceDeltas(r,n,t)},N.setValue=function(e,o,n,t,a){var r=w.filename(e.getPath());return void 0===o||null===o?(e.setDirty(),k.info("File deleted "+r),n&&n(e,{code:"ENOENT"})):(e.$needsRecoveryFromRefresh&&(M.refresh(e,o),H(e.id)),o.length===e.getSize()&&o===e.getValue()?e.dirty&&e.setClean():a&&e.dirty&&e.isLastSavedValue(o)||(t?e.updateValue(o,!0):(e.setDirty(),k.ask("File changed. Reload "+r+"?",function(){e.updateValue(o,!0)},function(){e._LSC=null,e.lastSave=null}))),void(n&&n(e)))};var R=0;N.tempSave=function(e,o,n){if(void 0===e){for(var t in P)!o&&P[t].safe||!P[t].bound||N.tempSave(t);return void F.cancel()}try{var a=P[e],r=M.save(a),i=JSON.stringify(r);if(i.length>h){if(a.warned||k.warn("The internal data of this file has exceeded the configured limits\nCurrent size: "+a.getPath()+"\n: "+Math.floor(i.length/1024)+"kb > MaxDocDataSize: "+Math.floor(h/1024)+"kb","clear-history-"+a.id),a.warned=!0,r.history.undo&&r.history.undo.length)r.history.undo=r.history.undo.slice(r.history.undo.length/2+1);else{if(!r.folds||!r.folds.length)return;r.folds=[]}i=JSON.stringify(r)}g.setItem(e,i),P[e].safe=!0}catch(s){if(!n){var c=L();if(1e6>c){for(var l=1e6-c;J.size>l;)N.cleanBlobs(!0);return void N.tempSave(e,!0,!0)}}3>R&&(k.error("Error caching current document"),R++),console.error(s)}},N.saveAs=function(e,o,n,t){var a=P[e];if(n=n||w.defaultServer,a.isTemp()?(a.setPath(o),f.setName(e,N.getName(e)),N.persist()):(e=i("","",o),N.$jsonToSession(P[e].session,N.$sessionToJson(a.session))),P[e].fileServer=n.id,a.encoding){var r=n.isEncoding(a.encoding);r?P[e].encoding="string"==typeof r?r:a.encoding:(P[e].encoding=w.encodingFor(o,n),k.info("Encoding reset to default"))}P[e].save(t)},N.rename=function(e,o,n){var t=N.forPath(e,n);return t?(t.setPath(o),f.setName(t.id,N.getName(t.id)),t.safe=!1,F(),N.persist(),!0):!1},N.setEncoding=function(e,o){var n=P[e],t=n.getFileServer().isEncoding(o);t?(n.encoding="string"==typeof t?t:o,n.isTemp()||k.ask("Reload file with new encoding "+o+"?",function(){n.refresh(function(){k.info("Refreshed")},!0,!0)}),F(e)):k.error("Encoding "+o+" not supported by this storage device")},N.saveDocs=function(e,o,n){if(void 0!==e){if(P[e].shadowDoc){var t=N.forPath(P[e].getSavePath(),P[e].getFileServer());t&&t.allowAutoSave&&(t.shadowDoc=P[e].shadowDoc,t.allowAutoSave=void 0,t.warned||(t.warned=!0,k.warn("Saving Duplicate Document.</br> Autosave turned off.",1e3))),P[e].shadowDoc=!1}void 0===P[e].allowAutoSave&&(P[e].allowAutoSave=l.allowAutoSave,P[e].allowAutoSave&&k.info("Autosave enabled")),P[e].save(o)}else{for(var a in P)(P[a].dirty||n)&&P[a].allowAutoSave&&!P[a].shadowDoc&&N.saveDocs(a,o);I.cancel()}},N.refreshDocs=function(e){var o=[];if(e)P[e].isTemp()||(o=[e]);else for(var n in P)P[n].isTemp()||o.push(n);T.asyncForEach(o,function(e,o,n){try{var t=P[e].refresh(n,!!P[e].forceReload,!0);P[e].forceReload=void 0,t||n()}catch(a){console.error(a),n()}},null,2)},N.dirty=function(e){P[e].setDirty()};var F=N.$sessionSave=T.delay(N.tempSave,5e3),I=N.$autoSave=T.delay(N.saveDocs,Math.max(T.parseTime(l.autosaveInterval),5e3));N.numDocs=function(){var e=0;for(var o in P)e++;return e},N.forPath=function(e,o){for(var n in P)if(P[n].getPath()==e){if(o&&o.getDisk()!==P[n].getFileServer().getDisk())continue;return P[n]}return null},N.addFlag=function(e,o,n){var t=P[e].flags||(P[e].flags={});t[o]=n,N.dirty(e),F()},N.createPlaceHolder=function(){function e(){s(o.id)}var o=P[i.apply(null,arguments)],n=T.eventGroup(S);n.once("createDoc",e),n.once("change",n.off,o.session),n.on("closeDoc",function(e){e.doc==o&&n.off()})},N.forSession=function(e){if(e){var o=e.getDocument();if(P[o.id])return o}},N.closeSession=function(e){var o=N.forSession(e);if(e==o.session){if(!(o.clones&&o.clones.length>0))return!1;var n=o.clones[0];o.clones[0]=e,o.session=n,o.bound&&(e.off("change",o.onChange),e.off("changeMode",o.onChangeMode),o.session.on("change",o.onChange),o.session.on("changeMode",o.onChangeMode))}return o.clones=o.clones.filter(function(o){return o==e?!1:!0}),e.destroy(),!0};var J=p("blobRegistry",{size:0}),j=(new Date).getTime()/1e3;if(l.nextCleanTime<j){if(l.nextCleanTime){var U=a("b");U.forEach(function(e){J[e]||g.removeItem(e)})}d("nextCleanTime",j+604800,"documents")}var V,_=e.appStorage,L=function(e){e=e||0;var o="Getting Quota Using String Concatenation";try{for(;;)localStorage["s"+e]=o,o+=o}catch(n){var t=o.length/2+(o.length>1e3?L(e+1):0);return localStorage.removeItem("s"+e),t}};N.saveBlob=function(e,o,n,t,a){var r=N.hasBlob(e,o);if(r&&N.removeBlob(r),!n)return!1;var i={id:e,type:o,pr:t||1,key:T.genID("b",J)};for(var s in a)i[s]||(i[s]=a[s]);"object"==typeof n&&(i.obj=!0);try{if(i.obj&&(n=JSON.stringify(n)),i.size=n.length,n.length>m)return!1;_.setItem(i.key,n)}catch(c){try{_.removeItem(i.key)}catch(c){}return!1}return J[i.key]=i,J.size+=i.size,J.size>m&&(V||(V=T.setImmediate(function(){V=null,N.cleanBlobs(!0)}))),b("blobRegistry",J),i.key},N.hasBlob=function(e,o){for(var n in J)if("size"!=n&&J[n].id==e&&(!o||J[n].type==o))return n},N.removeBlob=function(e){if(J.hasOwnProperty(e)){var o=J[e];return _.removeItem(o.key),J.size-=o.size,delete J[e],b("blobRegistry",J),!0}return!1},N.restoreBlob=function(e){if(J.hasOwnProperty(e)){var o=J[e],n=_.getItem(o.key);return n?(o.obj&&(n=JSON.parse(n)),n):(N.removeBlob(e),!1)}return!1},N.cleanBlobs=function(e){var o=m;if(e||!(J.size<o)){var n=[];V&&(clearTimeout(V),V=null);var t=(new Date).getTime(),a=1;for(var r in J)if("size"!=r){var i=J[r].size,s=J[r].pr,c=a*s/i;a+=T.getCreationTime(a)-t,n.push({key:r,score:c})}n[n.length-1].score*=2,n.sort(function(e,o){return e.score-o.score});for(var l=n.length/3||1,u=0;l>u;u++)N.removeBlob(n[u].key);J.size>o&&N.cleanBlobs(!0)}},N.allBlobs=function(e){var o=[];for(var n in J)"size"!=n&&J[n].id==e&&o.push(n);return o};var K={};N.registerFactory=function(e,o){K[e]=o},N.stashDoc=function(e,o){var n;return e&&!e.startsWith(":")&&(n=N.saveBlob("stashExpiry",e,o,B,{expiry:Math.floor((new Date).getTime()/1e3)})),n},N.cleanStash=function(){var e=(new Date).getTime();e-=T.parseTime(l.stashExpiryTime),e/=1e3;var o=N.allBlobs("stashExpiry");for(var n in o){var t=o[n];J[t].expiry<e&&N.removeBlob(t)}},N.restoreStash=function(e,o){var n=N.hasBlob("stashExpiry",e);if(n){var t=N.restoreBlob(n);N.removeBlob(n);try{var a=JSON.parse(t),r=o.getValue();N.$jsonToSession(o.session,a),a.content!=r&&o.updateValue(r)}catch(i){return null}return o}},N.initialize=function(e,o){f=e,S.on("changeTab",function(e){H(e.tab,!0)}),S.on("app-paused",function(){N.tempSave()}),S.once("app-loaded",function(){H(f.active)}),f.registerPopulator("m",N),S.once("documents-loaded",f.recreate.bind(f)),N.fromJSON(null,null,o)},N.toJSON=function(){var e={};for(var o in P)e[o]=P[o].isTemp()?null:P[o].getSavePath();return JSON.stringify(e)},window.routineCheck=a,N.fromJSON=function(e,o,n){function t(o,n,t){if(P[o])return t();var a=g.getItem(o);if(a)try{a=JSON.parse(a)}catch(r){a=null}return C.hasFailures(o)?k.ask("Proceed to load "+(e[o]||"Document "+o)+" ?",N.$loadData.bind(null,o,e[o],a),N.persist):N.$loadData(o,e[o],a),t()}var i=C.hasFailures("loadDocuments");if(!e&&(e=p("docs",null),i||!e||Math.random()>.8)){var s=a("m");if(s.length){e=e||{};for(var c in s)e.hasOwnProperty(s[c])||(e[s[c]]=null)}else if(!e)return S.triggerForever("documents-loaded")}if(i&&!o)return r(e);var l,u=Object.keys(e);if(n){var c=u.indexOf(n),d=!1;for(c>-1&&(d=t(n,c,function(){return!0})),c=0;!d&&c<u.length;c++)d=t(u[c],c,function(){return!0});l=function(e,o,n){setTimeout(t.bind(null,e,o,n),150)}}else l=t;C.breakpoint("loadDocuments",null,2e3),T.asyncForEach(u,l,function(){N.cleanStash(),N.persist(),S.triggerForever("documents-loaded")},2)},N.$loadData=function(e,o,n){if(C.setBreakpoint(e),n){if(n.factory){if(!K[n.factory])return console.error("Unknown factory "+n.factory),C.removeBreakpoint(e);var t=K[n.factory];P[e]=new t("",o,void 0,e)}else P[e]=new A("",o,void 0,e);M.load(P[e],n),P[e].safe=!0,i("",P[e],{mode:n.mode,select:!1,noSave:!0}),H(e)}else M.canRecover(e)?(P[e]=new A("",o,void 0,e),M.recover(e,P[e])):o&&(P[e]=new A("",o,void 0,e),P[e].isTemp()||(P[e].forceReload=!0)),P[e]&&i("",P[e],{select:!1});C.removeBreakpoint(e)},N.persist=function(){g.setItem("docs",N.toJSON())},N.addTabAnnotation=function(e,o){f.addAnnotation(e,o)},N.removeTabAnnotation=function(e,o){f.removeAnnotation(e,o)};var H=N.$updateIcon=function(e,o){(o||e==f.active)&&(P[e]&&P[e].dirty?P[e].allowAutoSave?$("#save i").css("color","orange"):$("#save i").css("color","red"):$("#save i").css("color","inherit"))};N.swapDoc=function(e){f.active!=e?f.setActive(e,!0,!0):x.ensure(l.disableBackButtonTabSwitch?"tabs":e)},N.openDoc=function(e,o,n){w.getDoc(e,o,function(e,o){if(o){var t="";if(n)return n(o);if("binary"==o)t="Binary file";else switch(o.code){case"ENOENT":t="File does not exist";break;case"EACCESS":t="Permission denied";break;case"ETOOLARGE":t="File Too Large";break;default:t=o.code}return k.error(t)}i(null,e),e.setClean(),n&&n(null,e)})},N.getName=function(e){var o=P[e];return o?o.isTemp()?"unsaved("+(f.indexOf(e)<0?f.numTabs():f.indexOf(e))+")":w.filename(o.getPath()):null};var G=function(){var e=g.getKeys&&"function"==typeof g.getKeys?function(){var e=JSON.parse(g.getKeys()),o={};return e.forEach(function(e){o[e]=g.getItem(e),o[e].length>100&&(o[e]=o[e].substring(0,100)+"...")}),o}():Object.create(g);e["!determinedQuota"]=L(),i("memory_dump",JSON.stringify(e),{mode:"ace/mode/json"})};N.getAnnotations=function(e){return f.getAnnotations(e)},N.getInfo=function(e){return P[e]?P[e].isTemp()?"<i>"+P[e].id+"</i>":P[e].getSavePath()||"<i>"+P[e].id+"</i>":null},e.$determineQuota=L,e.$inspect=G,e.Functions.newDoc=c,e.addDoc=i,e.closeDoc=s});;_Define(function(t){var e=t.Docs,i=t.Doc,s=t.Utils,o=e.$jsonToSession,n=e.$sessionToJson,h=t.registerAll({maximumCheckpoints:9},"documents");t.registerValues({maximumCheckpoints:"Checkpoints allow you to jump between locations in history quickly. Note: Checkpoints are always deleted when a document is closed. Also, saving a checkpoint might fail if a document is very large"},"documents");var c=15,r=5,p=s.noop;i.prototype.checkout=function(t,i){return i=i||e.restoreBlob(t.key),i?(this.stateID=t.name,this.setDirty(),o(this.session,i),this.session.once("change",function(){this.stateID==t.name&&(this.stateID=null)}.bind(this)),!0):(this.deleteCheckpoint(t.name),!1)},i.prototype.$loadCheckpoints=function(){return this.checkpoints||(this.checkpoints=e.restoreBlob(e.hasBlob(this.id,"checkpoints"))||[]),p(),this.checkpoints},i.prototype.gotoCheckpoint=function(t){if(this.$loadCheckpoints(),!this.checkpoints.length)return console.log("mdksksks"),!1;var e;return t?(t=t.toLowerCase(),console.log(t,this.checkpoints),e=this.checkpoints.find(function(e){return e.name==t})):e=this.checkpoints[this.checkpoints.length-1],e?(this.revertPoints||(this.revertPoints=[]),e.name==this.stateID?(this.revertPoints.push(this.checkpoints.pop()),t?console.log("alredy ther"):this.gotoCheckpoint()):(this.checkpoints.splice(this.checkpoints.indexOf(e),1),this.revertPoints.push(e),this.checkout(e)?e:(console.log("failed checkout"),t?!1:this.gotoCheckpoint()))):!1},i.prototype.returnFromCheckpoint=function(){if(!this.revertPoints||!this.revertPoints.length)return this.gotoCheckpoint();var t=this.revertPoints.pop();return this.checkpoints.push(t),t.name==this.stateID?this.returnFromCheckpoint():void this.checkout(t)},i.prototype.$clearRevertStack=function(){for(;this.revertPoints&&this.revertPoints.length;)this.checkpoints.push(this.revertPoints.shift())},i.prototype.saveCheckpoint=function(t,i){this.$clearRevertStack(),this.$loadCheckpoints(),t=t||s.genID("c"),t=t.toLowerCase();var o=this.checkpoints.filter(function(e){return e.name==t})[0];if(o)o.time=(new Date).getTime(),this.checkpoints.splice(this.checkpoints.indexOf(o),1);else if(o={name:t,time:(new Date).getTime()},this.checkpoints.length>=h.maximumCheckpoints){var p=this.checkpoints.splice(1,1);this.deleteCheckpoint(p[0].name)}this.checkpoints.push(o),this.stateID=o.name,this.session.once("change",function(){this.stateID==o.name&&(this.stateID=null)}.bind(this));var a=n(this.session);a.folds=[];var k=i?r:c,l=e.saveBlob(this.id,"cp-"+t,a,k,{dataType:"checkpoint"});return o.key=l,e.saveBlob(this.id,"checkpoints",this.checkpoints,c),o},i.prototype.deleteCheckpoint=function(t){this.$clearRevertStack(),this.$loadCheckpoints(),t=(t||"").toLowerCase();var i=this.checkpoints.filter(function(e){return e.name==t})[0];if(i){var s=i.key;e.removeBlob(s),this.checkpoints.splice(this.checkpoints.indexOf(i),1),e.saveBlob(this.id,"checkpoints",this.checkpoints,c)}}});;_Define(function(i){function t(i,t,e,s){this.orientation=e,this.size=t,this.options=s,this.$el=i,this.views=[]}t.VERTICAL=1,t.HORIZONTAL=2,t.prototype.render=function(){var i=this.orientation==t.VERTICAL?"top":"left",e=this.orientation==t.VERTICAL?"bottom":"right",s=this.orientation==t.VERTICAL?"height":"width",h=0,n=0;this.size=parseInt(this.$el.css(s));var o;for(var r in this.views)o=this.views[r],o.hidden||(h+=o["layout_"+s],n+=o.weight||0);this.size<h&&(this.size=h);var a=this.size-h,c=a/(n||1),d=0;for(r in this.views)if(o=this.views[r],!o.hidden){o[s]=o["layout_"+s]+(o.weight||0)*c;var l=d+o[s];o.weight?(o.$el.css(i,d),o.$el.css(e,this.size-l),o.$el.css(s,"auto")):d<this.size/2?(o.$el.css(i,d),o.$el.css(s,o[s]),o.$el.css(e,"auto")):(o.$el.css(e,this.size-l),o.$el.css(s,o[s]),o.$el.css(i,"auto")),d=l}this.onRender()},t.prototype.addChild=function(i,s,h,n){var o=this.orientation==t.VERTICAL?"height":"width",r=Object.create(e);return r.$el=i,r.parent=this,s?r["layout_"+o]=s:r.computeSize(o),r.weight=h,isNaN(n)?this.views.push(r):this.views.splice(n,0,r),r},t.prototype.onRender=function(){};var e={computeSize:function(i){var t=this.$el.children()[i]();this["layout_"+i]=t},hide:function(){this.hidden=!0,this.$el.fadeOut("fast"),this.parent.render()},show:function(){this.hidden=!1,this.$el.fadeIn(),this.parent.render()},toggle:function(){this.hidden?this.show():this.hide()}};i.LinearLayout=t});;_Define(function(e){"use strict";function t(e,a){function l(){return C[O.join(">")]}function c(i,c){var s=window.innerWidth<600;if(H[i]){H==y?b||(m=c,d(),o.add(k,M)):s&&$(l()).hide(),O.push(i);var h=H[i].childHier;H=h;var u=C[O.join(">")],f=!1;if(h["!update"]&&h["!update"].forEach(function(e){f=e(h)||f}),f&&u&&(u.onclick=null,u.remove(),u=null),!u){if(u=t.createElement(h,k),u.onclick=p,e){var g=$(u).find("input,textarea");n.trap($(u),!g.length)}C[O.join(">")]=u}document.body.appendChild(u),t.positionContainer(u,s?m:c,document.body,a,O.length>1&&!s),u.style.zIndex=++t.count+1100,b?$(u).show():$(u).fadeIn(),r.addRoot(u,x.close)}}function s(e){var n=l();b?$(n).hide():$(n).fadeOut(),r.removeRoot(n),--t.count,O.pop(),H=u()||y,0!=O.length||b||(h(),o.close(k),x.ondismiss&&x.ondismiss(e))}function d(){w||(w=document.createElement("div"),w.style.position="absolute",w.style.top=w.style.left=w.style.right=w.style.bottom=0,w.onclick=f,e&&n.trap($(w),!0)),document.body.appendChild(w),t.count++,w.style.zIndex=t.count+1100}function h(){t.count--,w.remove()}function u(){if(!O.length)return null;var e=y;for(var t in O){if(!e[O[t]])return null;e=e[O[t]].childHier}return e}function f(e){if(e.stopPropagation(),0==O.length)return h(),void console.error("handleBodyClick called without current Item");s(e);for(var t=g(e.target);H!=y&&l()!=t;)s(e)}function p(e){if(g(e.target)!=l())return f(e);e.stopPropagation();var t=g(e.target,!0);if(t){var i=t.getAttribute("id"),o=H[i];if(x.onclick&&x.onclick(e,i,t,o)||o.onclick&&o.onclick(e,i,t),"back"==i)s();else if(o.childHier)n.hintNoChangeFocus(),c(i,o.rebase?m:t,!0);else if(o.close!==!1)for(;O[0];)s()}}function g(e,t){for(var n;e;){if(e.getAttribute("id")==k)return t?n&&n.children[0]:e;n=e,e=e.parentElement}}function v(e){y&&(O.length<1?c("root",e.currentTarget):M.close()),e.stopPropagation()}void 0===e&&(e=!0),void 0===a&&(a="right");var m,y,H,w,b,k=i.genID("o"),C={},O=[],x=this,M={close:function(){for(;O[0];)s()}};x.show=function(e,t){c("root",e,t)},x.hide=M.close,x.onOverlayClick=function(e){for(var t=g(document.elementFromPoint(e.clientX,e.clientY));H!=y&&l()!=t;)s(e)},x.close=s,x.update=function(e){for(var n=C.root;O.length>1;)s();if(e&&(y={root:{childHier:e}}),H=u()||y,n){var i=t.createElement(e||y.root.childHier,k);n.innerHTML=i.innerHTML,l()==n&&t.positionContainer(n,m,document.body,a)}},x.createTrigger=function(t){e&&n.trap($(t),!0),$(t).on("click",v)},x.setHierarchy=function(e,t){var n=[].concat(O);if(O.length)for(b=!0;O.length;)s();e&&(y={root:{childHier:e}}),H=y;for(var i in C)(!t||t.test(i))&&(C[i].onclick=null,C[i].remove(),delete C[i]);if(b){for(var r=0;H[n[r]]&&r<n.length;r++)c(n[r],1>r?m:$(l()).find("#"+n[r])[0]);b=!1,0===O.length&&(x.ondismiss&&x.ondismiss(),o.close(k),h())}}}var n=e.FocusManager,i=(e.KeyListener,e.Utils),o=e.AutoCloseable,r=e.Navigation;t.count=0,t.createElement=function(e,t){var n=document.createElement("ul"),i=!0,o=!0;n.setAttribute("id",t),n.className="dropdown-content";var r=[];for(var a in e)e[a]&&"!"!=a[0]&&r.push(a);r=r.sort(function(t,n){var i=e[t].sortIndex||100,o=e[n].sortIndex||100;return o>i?-1:i>o?1:(e[t].isHeader?0:1)-(e[n].isHeader?0:1)||t.localeCompare(n)});for(var l in r){var c=r[l],s=document.createElement("li");if(s.className=e[c].className||"",e[c].isHeader)s.innerHTML=e[c].caption;else{var d=document.createElement("a");if(d.className="dropdown-item",e[c].icon){o&&(o=!1);var h=document.createElement("span");h.className="material-icons dropdown-icon",h.innerHTML=e[c].icon,d.appendChild(h)}else d.className+=" dropdown-item-noicon";if(d.setAttribute("href","#"),d.setAttribute("id",c),d.innerHTML+=e[c].caption||e[c],e[c].childHier||e[c].hasChild){i&&(i=!1);var u=document.createElement("span");u.className="dropdown-caret",u.innerHTML="<span class='material-icons'>play_arrow</span>",d.appendChild(u)}s.appendChild(d)}n.appendChild(s)}return i||(n.className+=" dropdown-has-caret"),o||(n.className+=" dropdown-has-icon"),n},t.defaultAlignment="right",t.clipWindow=function(e,t,n,i){var o=i?"top":"left",r=i?"bottom":"right",a=i?"Height":"Width",l=t,c=n||window["inner"+a];return e[o]<c-l?[e[o]]:e[r]>l?[void 0,c-e[r]]:[0,0]},t.positionContainer=function(e,n,i,o,r,a){o=o||t.defaultAlignment;var l=n.getBoundingClientRect(),c=l.height,s=l.bottom;e.style.height="initial",e.style.overflow="auto";var d=$(e).height()+20,h=i.clientHeight,u=i.clientWidth,f=$(e).width(),p=!1;r&&l.right>0&&u-l.right>f+10&&(e.style.right=u-l.right-f+"px",p=!0,e.style.left="auto");var g,v=s>d-(p?c:0)+10,m=h-s-(p?c:0)>d+15;if("below"==a||"above"!=a&&h-s>.8*(s-c)?m?g=s+5-(p?c:0):h-s>250?(d=h-s-25,$(e).css("height",d),g=s+5-(p?c:0)):v?g=s-d-c-10+(p?c:0):d>h-10?(d=h-20,$(e).css("height",d),g=10):g=h-d-10:v?g=s-d-c-10+(p?c:0):m?g=s+5+(p?c:0):d>h-10?(d=h-20,$(e).css("height",d),g=10):g=h-d-10,1.5*g>h?(e.style.bottom=h-g-d+"px",e.style.top="auto"):(e.style.top=g+"px",e.style.bottom="auto"),!p)if("right"==o||"responsive-right"==o&&window.innerWidth>400)e.style.right=u-Math.max(f+10,l.right-10)+"px",e.style.left="auto";else if("left"==o)e.style.left=Math.min(l.left+10,u-f-10)+"px",e.style.right="auto";else{var y="full"==o?20:"responsive-right"==o?Math.min(20,(u-f)/2):(u-f)/2;e.style.right=y+"px",e.style.left=y+"px"}},e.Overflow=t}),_Define(function(e){var t=e.Overflow;t.openSelect=function(e,n){e&&(n=n||e.target,e.preventDefault());for(var i=n.getElementsByTagName("option"),o=[],r=0;r<i.length;r++)o.push({value:i[r].value,caption:i[r].innerHTML});var a=new t(!1,"responsive-right");a.setHierarchy(o),a.show(n),a.onclick=function(e,t,i,o){n.value=o.value,$(n).trigger("change")},a.ondismiss=function(){a.setHierarchy(null)}}}),_Define(function(e){var t={more:!1},n={},i={icon:"more_vert",caption:"More",childHier:n,sortIndex:1e4},o=e.MainMenu=new e.Overflow(!0);o.setHierarchy(t),o.addOption=function(e,r,a){if(t[e])t[e]=r;else if(n[e])n[e]=r;else{var l=t;void 0===a&&(a=Object.keys(t).length>6),a&&(l=n),l[e]=r}Object.keys(n).length>0&&(t.more=i),o.setHierarchy(t)},o.extendOption=function(e,i){t[e]&&t[e].childHier?(Object.assign(t[e].childHier,i.childHier),o.addOption(e,t[e])):n[e]&&n[e].childHier?(Object.assign(n[e].childHier,i.childHier),o.addOption(e,n[e])):o.addOption(e,i)},o.removeOption=function(e){t[e]&&delete t[e],t.others[e]&&(delete t.others[e],Object.keys(n).length<1&&(t.more=!1)),o.setHierarchy(t)}});;_Define(function(e){function t(e){var t=document.createElement("form");for(var n in e){var a=e[n],r=document.createElement("label");r.innerText=a.caption;var i=document.createElement("input");i.setAttribute("type",a.type),i.setAttribute("name",a.name),i.setAttribute("value",a.value||""),t.appendChild(r),t.appendChild(i)}return t}function n(e,t){for(var n=[],a=0;a<t.children.length;a++){var r=t.children[a];"INPUT"==r.tagName&&(n[r.name]=r.value)}return n}function a(){}e.Form={create:t,parse:n,validate:a}});;_Define(function(t){function e(t,i,s){e.super(this),this.container=s||document.body,this.id=t,i&&(this.items=i)}function i(){i.super(this,arguments),this.$clear=function(t){this.items.length=0,this.trigger("clear",null,!0),this.hide(t)}.bind(this),this.$close=this.hide.bind(this)}var s=t.FocusManager,o=t.KeyListener,n=t.EventsEmitter,r=t.Utils;r.inherits(e,n),e.prototype.blur=function(t){this.selected=null,$(t).removeClass("selected")},e.prototype.moveTo=function(t,e){$(e).removeClass("selected"),this.selected=t,$(t).addClass("selected");var i=t.getAttribute("item-list-index");(i||0===i)&&this.trigger("moveSelect",this.getItem(i),!0)},e.prototype.selectAll=function(){},e.prototype.shiftTo=e.prototype.moveTo,e.prototype.getNext=function(t,e){var i=this.getElements(e),s=l(i,t);return i[s+1]||t},e.prototype.getElements=function(t){return t.getElementsByClassName("tabbable")},e.prototype.getCurrentElement=function(t){return this.selected?this.selected:t},e.prototype.getPrev=function(t,e){var i=this.getElements(e),s=l(i,t);return i[s-1]||i[0]},e.prototype.select=function(t){var e=this.selected;e&&$(e).removeClass("selected"),this.selected=this.getElementAtIndex(t),this.selected&&$(this.selected).addClass("selected"),this.trigger("select",{index:t,item:this.getItem(t)},!0)},e.prototype.getLength=function(){return this.items.length},e.prototype.blur=r.noop,e.prototype.getHtml=function(t){return this.items[t]},e.prototype.getItem=function(t){return this.items[t]},e.prototype.createItem=function(t){var e=document.createElement("li");return e.className=this.itemClass+" tabbable",e.setAttribute("tabIndex",0),e.innerHTML=this.getHtml(t),e},e.prototype.getElementAtIndex=function(t){return this.listEl.getElementsByClassName(this.itemClass)[t]},e.prototype.createElement=function(){var t=this.el=document.createElement("div");t.setAttribute("id",this.id),this.container.appendChild(t),t.className=this.containerClass,t.innerHTML="<div class='list-content'><h6 class='item-list-header'></h6><ul class='item-list-items'></ul></div><div class='modal-footer align-right'>"+(this.footer?this.footer.map(function(t){return'<a id="item-list-'+t.toLowerCase()+'" href="#!" class="tabbable waves-effect btn-flat">'+t+"</a>"}).join(""):"")+"</div>",this.listEl=t.getElementsByClassName("item-list-items")[0];var e=this;this.$el=$(this.el),this.$el.on("click","."+this.itemClass,function(t){s.focusIfKeyboard(e.$receiver),t.stopPropagation();var i=$(this).attr("item-list-index");e.select(i)}).on("click",function(t){s.focusIfKeyboard(e.$receiver),t.stopPropagation()}),this.footer&&this.footer.forEach(function(t){this.$el.on("click","#item-list-"+t.toLowerCase(),this["$"+t.toLowerCase()])},this),o.attach(this.el,this)},e.prototype.onenter=function(t){t.click()},e.prototype.getRoot=function(){return this.container},e.prototype.containerClass="modal modal-container",e.prototype.itemClass="item-list-item",e.prototype.headerText="",e.prototype.emptyText="No items",e.prototype.render=function(){this.el||this.createElement();var t=this.$el.find(".item-list-header")[0];t.innerHTML=this.headerText;var e=this.listEl;if(e.innerHTML="",this.selected&&$(this.selected).removeClass("selected"),this.selected=null,this.getLength()>0)for(var i=0;i<this.getLength();i++){var s=this.createItem(i);s.setAttribute("item-list-index",i),e.appendChild(s)}else s=document.createElement("li"),s.setAttribute("class","item-list-empty"),s.innerHTML=this.emptyText,e.appendChild(s)},i.prototype.getHtml=function(t){return(""+this.items[t]).substring(0,1e5).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},i.prototype.containerClass="modal bottom-list",i.prototype.itemClass="bottom-list-item",i.prototype.footer=["Clear","Close"],i.prototype.hide=function(t){t&&t.stopPropagation(),this.shown&&(this.shown=!1,this.trigger("dismiss",null,!0),this.$el.fadeOut(),this.lastFocus(),this.lastFocus=null)},i.prototype.blur=function(){this.hide()},i.prototype.show=function(){this.shown||(this.shown=!0,this.render(),this.$el.fadeIn(),this.$el.css("z-index",500),this.$el.css("position","absolute"),this.lastFocus=s.visit(this.$receiver))},r.inherits(i,e);var l=Array.prototype.indexOf.call.bind(Array.prototype.indexOf);t.BottomList=i,t.ItemList=e});;function PagerTab(t,e){var i=this,n=".tab a",a=t.find(n);a.each(function(){e.find($(this).attr("href")).hide()});var s=a.filter(".active");s.length<1&&(s=a.eq(0).addClass("active"));var r=e.find(s.attr("href"));r.show(),t.on("click",n,function(t){t.stopPropagation(),t.preventDefault(),this!=s[0]&&i.beforeClick($(this),s)!==!1&&(s.removeClass("active"),s=$(this),s.addClass("active"),r.hide(),r=e.find(s.attr("href")),r.show(),i.update())}),this.beforeClick=function(){},this.getActivePage=function(){return r},this.getActiveTab=function(){return s},this.goright=function(){prev=s.parent().prev(),prev.children("a").click()},this.goleft=function(){prev=s.parent().next(),prev.children("a").click()},this.delete=function(i){var a=e.children("#"+i);a.remove(),a=t.find(n).filter('[href="#'+i+'"]').parent(),a.remove()},this.select=function(e){t.find(n).filter('[href="#'+e+'"]').click()},this.update=function(t){t=t||s.attr("href");var e=this["owner-"+t];e&&e.update()},this.add=function(i,a,s,r){var o='<li class="tab center">                    <a href="#'+i+'">                        <i class="material-icons">'+a+"</i>                    </a>                </li>";s?s===!0?t.prepend(o):t.find(n).filter('[href="#'+s+'"]').before(o):t.append(o);var l=document.createElement("div");return l.setAttribute("id",i),l.style.display="none",e[0].appendChild(l),r&&(this["owner-#"+i]=r),l}}_Define(function(t){t.DocumentTab=function(e,i,n){var a=[],s=t.appStorage,r=t.Utils,o=(t.State,".tab a"),l=this,h=function(t){var e='<div id="tab-annotations" style="position:absolute;left:0;right:40px;height:\'\';top:0;">';for(var i in t)e+='<div style="float:left;margin-bottom:20px;margin-left:2px;border-radius:50%;max-width:30px;padding:4px;" class="'+t[i].className+'">'+(t[i].content||"")+"</div>";return e+"</div>"},f=function(t,e,i){return'<li draggable=true class="tab" data-file='+t+"><a href=#"+t+" >"+e+(i?h(i):"")+'<i class="material-icons close-icon">close</i></a></li>'},c=function(t,e){return'<li tabIndex=0 draggable=true class="file-item" data-file='+t+'><i class="material-icons">insert_drive_file</i><span style="margin-left:10px" class="filename">'+e+'</span><span class="dropdown-btn"><i class="material-icons">close</i></span></li>'},p=function(){e.on("mouseover",".tab",function(){e.find(".close-icon").hide(),$(this).find(".close-icon").fadeIn("fast")}).on("mouseleave",".tab",function(){$(this).find(".close-icon").fadeOut("slow")})};p(),this.setSingleTabs=function(t){t?e.addClass("singleTab"):e.removeClass("singleTab")},this.performClick=function(t){t.stopPropagation();var e=$(this).attr("data-file"),i=$(t.target),n=i.hasClass("close-icon");n?(t.preventDefault(),l.onClose(e)):l.setActive(e,!0)},this.listClick=function(t){var e=$(this).attr("data-file"),i=$(t.target),n=i.closest(".dropdown-btn").length>0||i.hasClass("dropdown-btn");n?l.onClose(e):l.setActive(e,!0,!0)},this.tabs=a,e.on("click",".tab",this.performClick),i.on("click","li",this.listClick);var d=!1;this.toJSON=function(){return a.filter(this.getOwner).join(",")},this.fromJSON=function(t){this.tabs=a=t.split(",").filter(this.getOwner)},this.persist=function(){s.setItem("tabs",this.toJSON()),d=!0};var u={};this.notifyPopulatorLoad=function(){if(!d){var t=s.getItem("tabs");t&&this.fromJSON(t)}},this.registerPopulator=function(t,e){u[t]=e,this.notifyPopulatorLoad()},this.recreate=function(){e.empty(),i.empty();for(var t,n=0;n<a.length;){var s=a[n],r=this.getOwner(s)||this,o=r.getName(s);if(o){var l=r.getAnnotations(s),t=f(s,o,l);e.append(t),t=c(s,o,l),i.append(t),n++}else a.splice(n,1)}this.active&&this.setActive(this.active,!1,!0)},this.setActive=function(t,a,s){var r=e.find(o).filter('[href="#'+t+'"]');if(s){var l=e[0],h=r.parent()[0];h&&(l.scrollLeft=Math.max(0,-l.clientWidth/2+h.clientWidth/2+h.offsetLeft))}if(a){var f=this.active;if(this.active=t,!this.afterClick(t,f))return void(this.active=f)}i.children(".activeTab").removeClass("activeTab");var c=i.children('[data-file="'+t+'"]');c.addClass("activeTab"),e.find(".active").removeClass("active"),r.addClass("active"),r.parent().addClass("active");var p=this.getOwner(t)||this,d=p.getInfo(t)||"&nbsp;";n.html(d)},this.getOwner=function(t){return u[t]||u[t[0]]},this.replaceTab=function(t,n,a){var s=e.find(o).filter('[href="#'+t+'"]').parent(),r=i.children('[data-file="'+t+'"]'),l=f(t,n,a);s.before(l),s.remove();var h=c(t,n,a);r.before(h),r.remove(),t==this.active&&this.setActive(t,!1,!1)},this.insertTab=function(t,e,i,n,s){t||0===t||(t=a.indexOf(this.active)),this.addTab(e,i,n,s),this.moveTab(t,e)},this.moveTab=function(t,n,s){var l=a.indexOf(n);if(r.assert(l>-1),s&&(t=l+t),l!=t&&!(t>=a.length&&l===a.length-1)){var h=e.find(o).filter('[href="#'+n+'"]').parent()[0];if(t<a.length-1){var f=e.children(".tab")[t>l?t+1:t];e[0].insertBefore(h,f)}else e[0].appendChild(h);var h=i.children('[data-file="'+n+'"]')[0];t<a.length-1?(f=i.children()[t>l?t+1:t],i[0].insertBefore(h,f)):i[0].appendChild(h),a.splice(t,0,a.splice(l,1)[0]),this.persist()}},this.removeTab=function(t){delete this.tempPopulators[t];var n=e.find(o).filter('[href="#'+t+'"]');n.parent().remove();var s=i.children('[data-file="'+t+'"]').remove();s.remove();var r=a.indexOf(t);if(0>r)throw new Error("Item not a child");a.splice(r,1),t==this.active&&a.length>0&&this.setActive(a[r-1]||a[r],!0,!1),this.persist()},this.hasTab=function(t){return a.indexOf(t)>-1},this.numTabs=function(){return a.length},this.indexOf=function(t){return a.indexOf(t)},this.addTab=function(t,n,s,r){if(this.hasTab(t))return this.replaceTab(t,n,s);this.getOwner(t)||(this.tempPopulators[t]={name:n,annotations:s,info:r});var o=f(t,n,s);e.append(o),o=c(t,n,s),i.append(o),a.push(t),this.persist()},this.tempPopulators={},this.setAnnotations=function(t,i){this.tempPopulators[t]&&(this.tempPopulators[t].annotations=i);var n=e.find(o).filter('[href="#'+t+'"]');n.children("#tab-annotations").remove(),i&&i.length&&n.append(h(i))},this.getAnnotations=function(t){return this.tempPopulators[t]&&this.tempPopulators[t].annotations},this.addAnnotation=function(t,e){this.tempPopulators[t]||(this.tempPopulators[t]={}),this.tempPopulators[t].annotations||(this.tempPopulators[t].annotations=[]);var i=this.tempPopulators[t].annotations;i.indexOf(e)<0&&(i.push(e),this.setAnnotations(t,i))},this.removeAnnotation=function(t,e){if(this.tempPopulators[t]&&this.tempPopulators[t].annotations){var i=this.tempPopulators[t].annotations,n=i.indexOf(e);n>-1&&(i.splice(n,1),this.setAnnotations(t,i))}},this.setName=function(t,e){this.tempPopulators[t]&&(this.tempPopulators[t].name=e),this.replaceTab(t,e,(this.getOwner(t)||this).getAnnotations(t))},this.getName=function(t){return this.tempPopulators[t]&&this.tempPopulators[t].name},this.getInfo=function(t){return this.tempPopulators[t].info}}});;!function(t,e){"use strict";function i(t,e){return this?(this.el=t[0],this.$el=t,this.el.Sidenav=this,this.id=this.$el.attr("id"),this.options=$.extend({},i.defaults,e),this.isOpen=!1,this.$state=a,this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight,this._dragTarget=$(".content")[0],this._createOverlay(),this._setupEventHandlers(),this._setupClasses(),this._updateType(),void i._sidenavs.push(this)):new i(t,e)}function s(t){var e=t.jquery?t[0]:t;return e.Sidenav}var n={edge:"left",draggable:!0,inDuration:200,outDuration:100,dragTargetWidth:30,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,minWidthPush:800,preventScrolling:!0},o=.4,a=0,h=1,r=2,l=3,d=4,p=5,g=function(t,e){throw this.$state===t&&e&&this[e](),"Error invalid State "+states[t]};i.prototype={isNot:g,_onWindowResize:function(){var t=this.$state!==a&&this.$state!==p;this._updateType()&&t&&this.open(),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight},_updateType:function(){var t=!this.options.pushElements||window.innerWidth<this.options.minWidthPush;return t==this.isOverlay?!1:(this.close(),t?this.el.classList.remove("sidenav-push"):this.el.classList.add("sidenav-push"),this.isOverlay=t,!0)},_createOverlay:function(){var t=document.createElement("div");t.classList.add("sidenav-overlay"),document.body.appendChild(t),this._overlay=t},_setupEventHandlers:function(){this.$onStartDragOpen=this._onStartDragOpen.bind(this),this.$onDragOpen=this._onDragOpen.bind(this),this.$onReleaseDragOpen=this._onReleaseDragOpen.bind(this),this.$onStartDragClose=this._onStartDragClose.bind(this),this.$onDragClose=this._onDragClose.bind(this),this.$onReleaseDragClose=this._onReleaseDragClose.bind(this),this.$close=this.close.bind(this),this._dragTarget.addEventListener("touchstart",this.$onStartDragOpen),this._dragTarget.addEventListener("touchmove",this.$onDragOpen,!0),this._dragTarget.addEventListener("touchend",this.$onReleaseDragOpen),this._dragTarget.addEventListener("touchstart",this.$onStartDragClose),this._dragTarget.addEventListener("touchmove",this.$onDragClose),this._dragTarget.addEventListener("touchend",this.$onReleaseDragClose),this._overlay.addEventListener("touchstart",this.$onStartDragClose),this._overlay.addEventListener("touchmove",this.$onDragClose),this._overlay.addEventListener("touchend",this.$onReleaseDragClose),this._overlay.addEventListener("click",this.$close),this.options.pushElements&&(this.$onWindowResize=this._onWindowResize.bind(this),window.addEventListener("resize",this.$onWindowResize))},_removeEventHandlers:function(){this._dragTarget.removeEventListener("touchstart",this.$onStartDragOpen),this._dragTarget.removeEventListener("touchmove",this.$onDragOpen,!0),this._dragTarget.removeEventListener("touchend",this.$onReleaseDragOpen),this._dragTarget.removeEventListener("touchstart",this.$onStartDragClose),this._dragTarget.removeEventListener("touchmove",this.$onDragClose),this._dragTarget.removeEventListener("touchend",this.$onReleaseDragClose),this._overlay.removeEventListener("touchstart",this.$onStartDragClose),this._overlay.removeEventListener("touchmove",this.$onDragClose),this._overlay.removeEventListener("touchend",this.$onReleaseDragClose),this._overlay.removeEventListener("click",this.$close),this.$onWindowResize&&window.removeEventListener("resize",this.$onWindowResize)},_startDrag:function(t){var i=t.targetTouches[0].clientX;this._startingXpos=i,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.clientWidth,this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,e.remove(this.el),this.el.style.visibility="visible",e.remove(this._overlay),t.stopPropagation()},_dragMoveUpdate:function(t){var e=t.targetTouches[0].clientX,i=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-e),this._xPos=e,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==i&&(this._verticallyScrolling=!0),t.stopPropagation()},_onStartDragOpen:function(t){this.options.draggable&&this.$state===a&&!this._verticallyScrolling&&(this.percentOpen=0,"right"==this.options.edge?t.targetTouches[0].clientX>window.innerWidth-this.options.dragTargetWidth&&(this._startDrag(t),this.$state=h):t.targetTouches[0].clientX<this.options.dragTargetWidth&&(this._startDrag(t),this.$state=h))},_onDragOpen:function(t){if(this.$state===h&&!this._verticallyScrolling){this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,i=e>0?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge===i&&(e=0);var s=e,n="translateX(-100%)";"right"===this.options.edge&&(n="translateX(100%)",s=-s),this.percentOpen=Math.min(1,e/this._width),this.el.style.transform=n+"translateX("+s+"px)",this.isOverlay?this.percentOpen>.2&&(this._overlay.style.display="block",this._overlay.style.opacity=this.percentOpen*o):("right"===this.options.edge&&(s=-s),this.options.pushElements.css("right"==this.options.edge?"margin-right":"margin-left",s+"px"))}},_onReleaseDragOpen:function(){this.$state==h&&(this.percentOpen>.2?this.open():(this.$state=p,this._animateOut(!0)),this._verticallyScrolling=!1)},_onStartDragClose:function(t){if(this.options.draggable&&this.$state===l&&!this._verticallyScrolling){t.stopPropagation(),this.percentOpen=1;var e;if(t.target==this._overlay)return this._startDrag(t),void(this.$state=d);e="right"==this.options.edge?window.innerWidth-t.targetTouches[0].clientX-this._width:t.targetTouches[0].clientX-this._width,e>-this.options.dragTargetWidth&&e<this.options.dragTargetWidth&&(this._startDrag(t),this.$state=d)}},_onDragClose:function(t){if(this.$state==d&&!this._verticallyScrolling){this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,i=e>0?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge!==i&&(e=0);var s=-e;"right"===this.options.edge&&(s=-s),this.percentOpen=Math.min(1,1-e/this._width),this.el.style.transform="translateX("+s+"px)",this.isOverlay?this._overlay.style.opacity=this.percentOpen*o:("right"==this.options.edge&&(s=-s),this.options.pushElements.css("right"==this.options.edge?"margin-right":"margin-left",this._width+s+"px"))}},_onReleaseDragClose:function(){this.$state==d&&(this.percentOpen<.8?this.close():(this.$state=r,this._animateIn(!0)),this._verticallyScrolling=!1)},_setupClasses:function(){"right"===this.options.edge&&this.el.classList.add("right-aligned")},_removeClasses:function(){this.el.classList.remove("right-aligned"),this.el.classList.remove("sidenav-push")},toggle:function(){this.isOpen===!0?this.close():this.open()},open:function(){if(this.$state==a||this.$state===d);else if(this.$state===p)e.remove(this.el),this.isOverlay?(e.remove(this._overlay),this._overlay.style.display="block"):e.remove(this.options.pushElements.toArray()),this.$state=a;else if(this.$state===l||this.$state===r)return;this.$state===a&&(this.percentOpen=0),this.isOpen=!0,this.$state=r,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),1!=this.percentOpen?this._animateIn():(this.$state=l,"function"==typeof this.options.onOpenEnd&&this.options.onOpenEnd.call(this,this.el))},close:function(t){if(this.$state==l||this.$state===h);else if(this.$state===r)e.remove(this.el),this.isOverlay||e.remove(this.options.pushElements.toArray()),this.$state=l;else if(this.$state===a||this.$state===p){if(!t)return;this.percentOpen=0,e.remove(this.el),e.remove(this._overlay),console.error("Sidenav invalid state")}this.$state===l&&(this.percentOpen=1),this.isOpen=!1,this.$state=p,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),0!=this.percentOpen?this._animateOut():(this._overlay.style.display="none",this.el.style.visibility="hidden",this.$state=a,"function"==typeof this.options.onCloseEnd&&this.options.onCloseEnd.call(this,this.el))},_animateIn:function(t){this._animateSidenavIn(t),this.isOverlay&&this._animateOverlayIn()},_animateSidenavIn:function(t){var i=this,s="left"===this.options.edge?-1:1;if(s="left"===this.options.edge?s+this.percentOpen:s-this.percentOpen,0===this.percentOpen&&(this.el.style.visibility="visible"),e.remove(this.el),e({targets:this.el,translateX:[100*s+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){i.$state=l,t||"function"!=typeof i.options.onOpenEnd||i.options.onOpenEnd.call(i,i.el)}}),!this.isOverlay){var n=this.options.pushElements.toArray();e.remove(n);var o={targets:n,duration:this.options.inDuration,easing:"easeOutQuad"},a=this.el.clientWidth;o["left"===this.options.edge?"marginLeft":"marginRight"]=[this.percentOpen*a+"px",a+"px"],e(o)}},_animateOverlayIn:function(){var t=0;this.percentOpen>.2?t=this.percentOpen:$(this._overlay).css({display:"block"}),e.remove(this._overlay),e({targets:this._overlay,opacity:[t*o,o],duration:this.options.inDuration,easing:"easeOutQuad"})},_animateOut:function(t){this._animateSidenavOut(t),this.isOverlay&&this._animateOverlayOut()},_animateSidenavOut:function(t){var i=this,s="left"===this.options.edge?-1:1,n="left"===this.options.edge?s+this.percentOpen:s-this.percentOpen;if(e.remove(this.el),e({targets:this.el,translateX:[100*n+"%",105*s+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){i.$state=a,i.el.style.visibility="hidden",t||"function"!=typeof i.options.onCloseEnd||i.options.onCloseEnd.call(i,i.el)}}),!this.isOverlay){var o=this.options.pushElements.toArray();e.remove(o);var h={targets:o,duration:this.options.outDuration,easing:"easeOutQuad"},r=this.$el.width();h["left"===this.options.edge?"marginLeft":"marginRight"]=[this.percentOpen*r+"px",0],e(h)}},_animateOverlayOut:function(){var t=this;e.remove(this._overlay),e({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){$(t._overlay).css("display","none")}})}},i.getInstance=s,i.defaults=n,i._sidenavs=[],t.Sidenav=i}(window,M.anime);;_Define(function(t){function e(t,e){var n=document.createElement("script");n.src=t,n.onload=function(){e()},document.body.appendChild(n)}function n(t,e){var n=document.createElement("link");n.href=t,n.setAttribute("rel","stylesheet"),n.onload=function(){e()},document.body.appendChild(n)}function i(t,e){this.onLoad=t,this.delay=void 0==e?30:0,this.load=this.next.bind(this),this.deps=[]}var o=t.FileUtils.extname;i.prototype.add=function(){this.deps.push.apply(this.deps,arguments)},i.prototype.next=function(){if(this.deps.length<1)return this.onLoad&&this.onLoad();this.started||(this.started=!0);var t=this.deps.shift();if("string"==typeof t)switch(o(t)){case"css":t={style:t};break;case"js":t={script:t};break;default:throw new Error("Unknown dependency "+t)}if(t.id&&(this[t.id]=!0),t.ignoreIf)return this.next();if(t.name&&console.debug(t.name),t.func)setTimeout(function(){try{t.func()}catch(e){try{console.error(e),t.error&&t.error(e)}catch(n){console.error(n)}}this.next()}.bind(this),this.delay);else if(t.script)e(t.script,this.load);else{if(!t.style)throw new Error("Unknown dependency "+t);n(t.style,this.load)}},i.define=function(t,e,n){var o=[],r=new i(function(){r=null,n=e&&e()||n,o.forEach(function(t){try{n.apply(t[0],t[1])}catch(e){console.error(e)}}),e=r=t=o=void 0});return t.forEach(function(t){r.add(t)}),function(){return o?(o.push([this,arguments]),void(r.started||r.next())):n.apply(this,arguments)}},t.Imports=i});;_Define(function(e){function t(e,t,n,r){var i=this.mode||(r&&r.session.$mode.$id||"").split("/").pop(),a=g.prettier,o=Object.assign({filepath:"a."+("javascript"===i?"js":"markdown"==i?"md":i),endOfLine:t.eol,tabWidth:t.indent_size,useTabs:"	"==t.indent_char,plugins:prettierPlugins},a,t.options);try{e=prettier.format(e,o),n(e)}catch(s){n(e,null,!1),f.error(s)}}function n(e){return function(t,n,r,i){n=Object.assign(n,g.js_beautify,n.options),n.options=void 0;try{r(window[e](t,n),null,i&&i.trimmed)}catch(a){r(t,null,!1),f.error(a)}}}function r(e,t){var n=e.session.$mode.$id||"";if(n=n.split("/").pop(),t){var r=a(e.getCursorPosition().row);if(""!==r)return r}return n}function i(e){for(var t in b){var n=m.parseList(g[t+"_modes"]);if(n.indexOf(e)>-1)return b[t].bind({mode:e})}return null}function a(e){var t=editor.session.getState(e);if("object"==typeof t&&(t=t[0]),t.substring){if("js-"==t.substring(0,3))return"javascript";if("css-"==t.substring(0,4))return"css"}return""}function o(e,t,n,r,i,a,o){var s;s="object"==typeof t?!t[0]||t[0].start?t:u.diffToAceDeltas(t,a?0:r.row,a?0:r.column):u.generateDiff(a?e.getValue():e.getTextRange(i),t,a?0:r.row,a?0:r.column);var l=i.start;e.markUndoGroup();for(var d=0;d<s.length;d++)e.doc.applyDelta(s[d]);0<s.length&&(l=s[s.length-1].end),a||o&&n.setSelectionRange(w.fromPoints(n.cursor,n.cursor))}function s(e,t,n,s){var l=e.getSelection(),d=e.session,m=l.getRange(),c=!1,p=m.start;if(m.start.row===m.end.row&&m.start.column===m.end.column){m.start.row=0,m.start.column=0;var _=e.session.getLength()-1;m.end.row=_,m.end.column=e.session.getLine(_).length,c=!0}var h,w=!1,y={};if(!n){d.getUseSoftTabs()?(y.indent_char=" ",y.indent_size=d.getTabSize()):(y.indent_char="	",y.indent_size=1);var v=d.getLine(m.start.row);h=v.match(/^\s*/)[0],m.start.column<h.length?m.start.column=0:w=!0}if(null!=s)for(var j in s)y[j]=s[j];var x=d.getTextRange(m);if(n)return x=x.replace(/ +$|(\S ) +(\S)/gm,"$1$2").replace(/((?:\r\n|\n|\r){3})(?:\r\n|\n|\r)*/g,"$1"),o(d,x,l,p,m,c,t),!0;var S=d.doc.getNewLineCharacter(),k=r(e,!1);if(("html"==k||"php"==k||"svg"==k)&&!c){var C=r(e,!0);if(-1!==["javascript","css"].indexOf(C)){for(var I=!0,P=m.start.row;P<m.end.row;P++)if(a(P)!=C){I=!1;break}I&&(k=C)}}var q,L=u.forSession(d);return L&&L.flags&&L.flags.formatter?(q=b[L.flags.formatter],y.options=L.flags.formatOptions):q=i(k),q?(q(x,y,function(e,n,r){r!==!1&&(e=e.replace(/\r\n|\r|\n/g,"$&"+h).trim()),0===m.end.column&&(e+=S+h),o(d,e,l,n||p,m,c,t)},{baseIndent:h,trimmed:w,cursor:p,editor:e,session:d,range:m,isSegment:!c}),!0):g.autoIndentFallback?e.autoIndent():(f.warn("Unable to find beautifier for this file"),!1)}function l(e){var t=e.editor;if("insertstring"===e.command.name&&"}"===e.args){var n=r(t,!0);if("javascript"!==n&&"css"!==n)return;var i=t.getSelection(),a=i.getRange(),o=a.end,s=t.session.getTokenAt(o.row,o.column);if(s&&s.type.indexOf("paren")>-1&&-1===s.type.toString().indexOf("comment")){var l=a.start;l.column--,i.setSelectionRange(w.fromPoints(l,l)),t.jumpToMatching(!0);var d=i.getRange(),m=d.end;m.column++,l=d.start,l.column--,i.setSelectionRange(w.fromPoints(l,m)),t.execCommand("beautify",!0)}}}var d=e.Imports,m=e.Utils,f=e.Notify,u=e.Docs,c={brace_style:"collapse",break_chained_methods:!1,comma_first:!1,content_unformatted:["pre"],e4x:!1,end_with_newline:!1,eval_code:!1,extra_liners:["head","body","html"],indent_empty_lines:!1,indent_inner_html:!1,indent_level:0,indent_scripts:"normal",inline:void 0,jslint_happy:!1,keep_array_indentation:!1,max_preserve_newlines:3,operator_position:"before-newline",preserve_newlines:!0,space_after_anon_function:!1,space_after_named_function:!1,space_before_conditional:!0,space_in_empty_paren:!1,space_in_paren:!1,unescape_strings:!1,unformatted:"",unformatted_content_delimiter:"",unindent_chained_methods:!1,wrap_attributes:"auto",wrap_attributes_indent_size:void 0,wrap_line_length:0},p={arrowParens:"always",bracketSpacing:!1,embeddedLanguageFormatting:"auto",insertPragma:!1,jsxBracketSameLine:!1,jsxSingleQuote:!1,proseWrap:"preserve",printWidth:80,quoteProps:"as-needed",semi:!0,singleQuote:!1,trailingComma:"es5",vueIndentScriptAndStyle:!1},g=e.registerAll({js_beautify_modes:"json,javascript,jsoniq",css_beautify_modes:"css",html_beautify_modes:"html,xml,elixir,handlebars,django",prettier_js_modes:"jsx,typescript,tsx,jssm,jsp",prettier_css_modes:"less,sass",prettier_md_modes:"markdown",prettier_php_modes:"php",autoIndentFallback:!0,js_beautify:c,prettier:p},"formatting");e.registerValues({"!root":"Configure how your code is formatted. You can also add flags fl-formatter, fl-formatOptions control how each document is formatted. See document.flags",autoIndentFallback:"Allows the editor to attempt auto indentation if no formatter is found"},"formatting"),e.registerValues({brace_style:"(collapse|expand|end_expand)[,preserve-inline]|none (default:collapse)",indent_scripts:"Sets indent level inside script tags keep|separate|normal (default:normal)",wrap_line_length:" Maximum characters per line (0 disables) [250]",wrap_attributes:"Wrap attributes to new lines [auto|force|force_aligned|force_expand_multiline|aligned_multiple|preserve|preserve_aligned] (default:auto)",wrap_attributes_indent_size:'Indent wrapped attributes to after N characters (default:[indent_size]) (ignored if wrap_attributes is "aligned")',inline:"List of tags to be considered inline tags",unformatted:"List of tags (defaults to inline) that should not be reformatted",content_unformatted:"List of tags (defaults to pre) whose content should not be reformatted",extra_liners:"List of tags (defaults to [head,body,/html] that should have an extra newline before them.",unformatted_content_delimiter:'Keep text content together between this string [default:""]',indent_empty_lines:"Keep indentation on empty lines"},"formatting.js_beautify"),e.registerValues({arrowParens:"Include parentheses around a sole arrow function parameter.\n--->always\nAlways include parens. Example: `(x) => x`\n--->avoid\nOmit parens when possible. Example: `x => x`",bracketSpacing:"Include spaces in object literals",embeddedLanguageFormatting:"Control how Prettier formats quoted code embedded in the file.\n--->auto\nFormat embedded code if Prettier can automatically identify it.\n--->off\nNever automatically format embedded code.",insertPragma:"Insert @format pragma into file's first docblock comment.",jsxBracketSameLine:"Put > on the last line instead of at a new line.",jsxSingleQuote:"Use single quotes in JSX.",printWidth:"Specify how long you want your lines to be",proseWrap:"How to wrap prose.\n--->always\nWrap prose if it exceeds the print width.\n--->never\nDo not wrap prose.\n--->preserve\nWrap prose as-is.",quoteProps:"Change when properties in objects are quoted.\n--->as-needed\nOnly add quotes around object properties where required.\n--->consistent\nIf at least one property in an object requires quotes, quote all properties.\n--->preserve\nRespect the input use of quotes in object properties.",singleQuote:"Use single quotes instead of double quotes.",semi:"Print semicolons.",trailingComma:"Print trailing commas wherever possible when multi-line.\n--->es5\nTrailing commas where valid in ES5 (objects, arrays, etc.)\n--->none\nNo trailing commas.\n--->all\nTrailing commas wherever possible (including function arguments).",vueIndentScriptAndStyle:"Indent script and style tags in Vue files.",editorconfig:"no-user-config"},"formatting.prettier");var _={script:"./tools/format/prettier.js",ignoreIf:window.prettier},b={prettier_js:d.define([_,"./tools/format/parser-babel.js"],null,t),prettier_css:d.define([_,"./tools/format/parser-postcss.js"],null,t),prettier_md:d.define([_,"./tools/format/parser-markdown.js"],null,t),prettier_php:d.define([_,"./tools/format/parser-php.js"],null,t),js_beautify:d.define(["./tools/format/beautify.min.js"],null,n("js_beautify")),html_beautify:d.define([{script:"./tools/format/beautify.min.js",ignoreIf:window.js_beautify},{script:"./tools/format/beautify-css.min.js",ignoreIf:window.css_beautify},"./tools/format/beautify-html.min.js"],null,n("html_beautify")),css_beautify:d.define(["./tools/format/beautify-css.min.js"],null,n("css_beautify"))};_=null;var h=e.libConfig,w=e.Range,y=e.Editor;h.defineOptions(y.prototype,"editor",{autoBeautify:{set:function(e){e?this.commands.on("afterExec",l):this.commands.off("afterExec",l)},value:!1},htmlBeautify:{set:function(e){return e?(this.commands.addCommand({name:"beautify",bindKey:{mac:"Command-B",win:"Ctrl-B"},exec:s,readOnly:!1}),void this.commands.addCommand({name:"removeBlank",bindKey:{mac:"Command-Shift-B",win:"Ctrl-Shift-B"},exec:function(e){s(e,!1,!0)},readOnly:!1})):(this.commands.removeCommand("beautify"),void this.commands.removeCommand("removeBlank"))},value:!1}}),e.beautifiers=b,e.Beautify=s,e.getBeautifier=i});;_Define(function(e){function t(e){this.$options=ace.Editor.prototype.$options,this.editor=null,d=e}var i=["enableSnippets","enableLiveAutocompletion","enableBasicAutocompletion","enableIntelligentAutocompletion","enableArgumentHints"],o=e.appStorage,n=ace.require("ace/ext/themelist").themes.map(function(e){return e.theme}),r=e.docs,s=e.Docs,a=e.Notify,l=e.registerAll({perEditorTheming:!0,perEditorCompletion:!1},"splitEditors");e.registerValues({theme:{doc:"Editor syntax highlight theme. When applicationTheme is set to editor, this also configures the applicationTheme",values:n},wrap:{values:["free(use windowWidth as limit)","printMargin","off","[number]"]},cursorStyle:"ace, smooth, slim, smooth slim, wide",foldStyle:"markbegin, markbeginend, manual",lineSpacing:"normal|wide|wider|narrow"},"editor"),e.registerValues({perEditorTheming:"Allow dialog/splits editors to have separate themes",perEditorCompletion:"Allow dialog/splits editors to have separate completion settings"},"splitEditors");var d,p={firstLineNumber:1,foldStyle:"markbegin",indentedSoftWrap:!0,navigateWithinSoftTabs:!1,newLineMode:"auto",overwrite:!1,tabSize:4,useSoftTabs:!0,useWorker:!0,wrap:"off"},u={theme:"ace/theme/cobalt",hideNonLatinChars:!1,readOnly:!1,wrap:!1,htmlBeautify:!0,autoBeautify:!0,enableSnippets:!0,enableLiveAutocompletion:!1,enableArgumentHints:!0,enableBasicAutocompletion:!0,enableIntelligentAutocompletion:!0};t.prototype.add=function(e){e.setOptions(this.options)},t.prototype.options=u,t.prototype.setOption=function(e,t,n){var h;if(e.startsWith("session-")&&(e=e.substring(8),h=!0),!A[e])return void this.editor.setOption(e,t);if(!A[e].test(t))return""!=t&&a.warn("Invalid Value "+t+" for "+e),!1;var m,f=this.$options[e]&&"session"===this.$options[e].forwardTo;if(f){if("default"===t&&(t=p[e]),this.editor.session.setOption(e,t),h){if(m=s.forSession(this.editor.session),!m)return;return t===p[e]?delete m.options[e]:m.options[e]=t,void s.tempSave(m.id)}n||o.setItem(e,t),p[e]=t;for(var c in r)m=r[c],m.options.hasOwnProperty(e)||m.session.setOption(e,t)}else{if(h){if(!u.hasOwnProperty(e))return!1;if(this.editor.setOption(e,t),m=s.forSession(this.editor.session),!m)return;return t==u[e]?m.editorOptions&&delete m.editorOptions[e]:(m.editorOptions||(m.editorOptions={},this.editor.editorOptions=m.editorOptions),m.editorOptions[e]=t),void s.tempSave(m.id)}var g=1==d.length||!("mode"==e||l.perEditorCompletion&&i.indexOf(e)>-1||l.perEditorTheming&&"theme"===e);(g||this.editor===d[0])&&(n||o.setItem(e,t),u[e]=t),g?d.forEach(function(i){i.setOption(e,t)}):this.editor.setOption(e,t)}},t.prototype.getOption=function(e){return e.startsWith("session-")?(e=e.substring(8),this.editor.getOption(e)):"mode"==e?this.editor.session.getOption(e):p.hasOwnProperty(e)?p[e]:u.hasOwnProperty(e)?u[e]:this.editor.getOption(e)},t.prototype.getOptions=function(){return this.editor.getOptions()},t.prototype.setOptions=function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)};var h=/^true|false$/,m=/^\d+(\.\d+)?$/,f=/[^'"\n\r]+/,c={test:function(e){return f.test(e)}},g=/(line|text|fullLine|screenLine)/,b=Object.assign({},c),w=/(auto|windows|unix|default)/,y=/(off|free|printMargin|\d+|default)/,v=/(markbegin|markbeginend|manual)/,O=/(wide|wider|normal|narrow)/,S={test:function(e){return 0===e||e>0&&1>=e}},E={test:function(e){return h.test(e)||"always"==e}},A={animatedScroll:h,autoBeautify:h,htmlBeautify:h,behavioursEnabled:h,copyWithEmptySelection:h,cursorStyle:b,displayIndentGuides:h,dragDelay:m,dragEnabled:h,enableAutoIndent:h,enableBasicAutocompletion:h,enableBlockSelect:h,enableIntelligentAutocompletion:h,enableLiveAutocompletion:h,enableArgumentHints:h,enableMultiselect:h,enableSnippets:h,enableTabCompletion:h,fadeFoldWidgets:h,firstLineNumber:m,fixedWidthGutter:h,focusTimeout:m,foldStyle:v,fontFamily:f,fontSize:m,hideNonLatinChars:h,highlightActiveLine:h,highlightGutterLine:h,highlightSelectedWord:h,hScrollBarAlwaysVisible:h,indentedSoftWrap:h,keyboardHandler:f,highlightErrorRegions:h,keepRedoStack:h,showErrorOnClick:h,lineSpacing:O,maxPixelHeight:m,mergeUndoDeltas:E,navigateWithinSoftTabs:h,newLineMode:w,overwrite:h,printMargin:m,printMarginColumn:m,readOnly:h,relativeLineNumbers:h,scrollableGutter:h,scrollPastEnd:S,scrollSpeed:m,selectionStyle:g,showFoldWidgets:h,showGutter:h,showInvisibles:h,showLineNumbers:h,showPrintMargin:h,tabSize:m,theme:c,tooltipFollowsMouse:h,useSoftTabs:h,useTextareaForIME:h,useWorker:h,vScrollBarAlwaysVisible:h,wrap:y,wrapBehavioursEnabled:h};for(var L in A){var W=o.getItem(L);null!==W&&void 0!==W&&"undefined"!=W&&"null"!==W&&(A[L].test(W)?("true"==W?W=!0:"false"==W?W=!1:"undefined"==W?W=void 0:"null"==W?W=null:isNaN(W)||(W=parseFloat(W)),ace.Editor.prototype.$options[L]&&"session"===ace.Editor.prototype.$options[L].forwardTo?p[L]=W:u[L]=W):o.removeItem(L))}p.hasOwnProperty("mode")&&(console.error("mode set in defaults"),delete p.mode),t.prototype.validator=A,s.$defaults=p,e.EditorSettings=t});;_Define(function(e){function o(){return E}function n(e){return e?v.filter(function(o){return o.session===e})[0]:u}function r(e,o,n){var r=e;if(u!=r){g.assert(v.indexOf(r)>-1,"Please use set viewPager.getEditorWindow");var i=u;u=r;var t=o.env&&o.env.editor;E.editor=t||r,f.trigger("changeEditor",{oldEditor:i,editor:t||r}),m.swapDoc(n)}}function i(e){if(e=e.editor||e,u!=e){g.assert(v.indexOf(e)>-1,"Please use set viewPager.getEditorWindow");var o=u;u=e,E.editor=e;var n=m.forSession(e.session);n&&m.swapDoc(n.id),f.trigger("changeEditor",{oldEditor:o,editor:e})}}function t(e){var o=u,r=e.session;if(v.length>1){var i=m.forSession(o.session);i&&i.session!==o.session&&m.closeSession(o.session),n(r)&&(r=e.cloneSession())}E.session=e.session;var t=Object.assign({},o.editorOptions,e.editorOptions);for(var s in t){var d=e.editorOptions&&e.editorOptions.hasOwnProperty(s)?e.editorOptions[s]:E.options[s];o.setOption(s,d)}o.editorOptions=e.editorOptions,o.setSession(r)}function s(e){var o=v.indexOf(e);if(o>-1){if(f.trigger("closeEditor",{editor:e}).defaultPrevented)return;v.splice(o,1),e===u&&(u=null,i(v[0]))}m.forSession(e.session)&&m.closeSession(e.session);try{e.setSession(null)}catch(n){console.error(n)}p.focusIfKeyboard(u.textInput.getElement()),e.destroy()}function d(e){function o(){e.renderer.scrollBarV.setVisible(!1),n=null}var n,r=function(r){n?clearTimeout(n):e.renderer.scrollBarV.setVisible(!0),n=setTimeout(o,r?3e3:1e3)},i=function(e){e.stopPropagation()};["ontouchstart","ontouchmove","ontouchend","onmousemove"].forEach(function(o){e.renderer.scrollBarV.element[o]=i}),e.renderer.scrollBarV.$minWidth=25,e.renderer.scrollBarV.width=25,e.renderer.scrollBarV.element.style.width="25px",e.session.on("changeScrollTop",r),e.on("changeSession",function(e){e.oldSession&&e.oldSession.off("changeScrollTop",r),e.session&&e.session.on("changeScrollTop",r),r()}),e.renderer.scrollBarV.setVisible(!0)}function a(){var o=this.$mouseHandler.mousedownEvent;o&&(new Date).getTime()-o.time<e.FOCUS_RESIZE_WINDOW&&this.renderer.scrollCursorIntoView(null,.1)}function c(o,n){var r=document.createElement("div");r.className="editor",o.appendChild(r);var i=ace.edit(r);i.renderer.setScrollMargin(5,5,0,0),d(i),i.setAutoScrollEditorIntoView(!1),i.$blockScrolling=1/0,E.add(i);for(var t=0,s=S.length;s>t;t++)n&&S[t].mainOnly||i.commands.addCommand(S[t]);return i.renderer.on("resize",a.bind(i)),n||(v.push(i),i.renderer.on("themeLoaded",function(o){i==v[0]&&e.setTheme(o.theme)}),i.renderer.on("changeCharacterSize",function(){i==v[0]&&E.setOption("fontSize",i.getFontSize())})),f.trigger("createEditor",{editor:i,isMain:!n}),i}function l(e,o){Array.isArray(e)||(e=[e]),o&&e.forEach(function(e){e.mainOnly=!0}),S.push.apply(S,e);for(var n in v)for(var r in e)v[n].commands.addCommand(e[r])}var u,f=e.AppEvents,g=(e.libConfig,e.Functions,e.docs,e.Utils),m=e.Docs,h=e.EditorSettings,p=e.FocusManager,v=[],E=new h(v),S=[],O=Object.create(null);O.init=g.noop,O._editors=v,O.getSettingsEditor=o,O.setSession=t,O.findEditor=n,O.addCommands=l,O.$focusEditor=r,O.forEach=v.forEach.bind(v),O.setEditor=i,O.getEditor=n,O.createEditor=c,O.closeEditor=s,e.Editors=O,e.getEditor=n});;_Define(function(e){function t(i){function c(t){h||i==n()||(h={el:t,func:function(){d(t),o(i,t,v)}},e.showClickable(t),t.addEventListener("mousedown",h.func))}function d(){e.hideClickable(h.el),h.el.removeEventListener("mousedown",h.func),h=null}var l=i.container;if(this.mainEditor=i,!l)throw"Error: first argument should be a parentNode";this.id=r.genID("v");var u,v=!1,f=l;this.views=this.sharedViews;var h;this.enter=function(e,o){var n=f.parentNode;if(r.assert(n,"No parent node"),e&&this.views[e]){var w=this.views[e].element.parentNode,g=this.views[e];if(w){if(w!=n)return o.stopPropagation(),!1;v!=e&&(v=e)}else{if(u&&u.onExit)try{u.onExit(i,this)}catch(o){console.error("host exit threw exception ",o)}else u||i.setSession(a);if(f.remove(),h&&d(f),f=g.element,c(f),f.host=this,u=g,v=e,n.appendChild(f),g.onEnter){try{g.onEnter(i,this)}catch(o){console.error("host enter threw exception force removing tab"),console.error(o),s.error("Plugin error: "+e),t.forceClose(e,this.views[e])}o.stopPropagation()}}g&&g.swapDoc&&g.swapDoc(v,o),o&&o.preventDefault()}else if(v){if(u&&u.onExit)try{u.onExit(i,this)}catch(o){console.error("host exit threw exception ",o)}f.remove(),h&&d(f),f=l,u=null,v=!1,n.appendChild(f),i&&i.resize()}},this.exit=function(){this.enter(null)},this.onChangeTab=function(e){v&&!this.views[e.tab]?this.exit():this.views[e.tab]&&this.enter(e.tab,e)}.bind(this),this.onChangeEditor=function(){n()!=i&&!h&&v&&c(f)},this.remove=function(e){var t=this.views;delete t[e],e==v&&this.exit()},this.add=function(e,t){var i=this.views;if(i.hasOwnProperty(e))throw"Error id already taken";i[e]=t}}var i=e.Editors,o=i.$focusEditor,n=e.getEditor,r=e.Utils,a=new ace.EditSession(""),s=e.Notify;e.showClickable=function(){},e.hideClickable=function(){},t.prototype.sharedViews={};var c=function(){var t=i.createEditor(new DocumentFragment,!0);return t.container.remove(),t.renderer.freeze(),{editor:t,element:t.container,onEnter:function(o){t.viewPager=o.viewPager,t.viewPager.editor=t,t.renderer.unfreeze(),i.getSettingsEditor().editor=t,e.AppEvents.trigger("changeEditor",{editor:t,oldEditor:o,isEmbedded:!0})},onExit:function(o){t.viewPager.editor=null,t.viewPager=null,t.renderer.freeze(),i.getSettingsEditor().editor=o,e.AppEvents.trigger("changeEditor",{oldEditor:t,editor:o,isEmbedded:!0})}}},d=function(e){return e||(e=document.createElement("div"),e.style.height="100%",e.style.width="100%",e.className="toolWindow"),{element:e}};i.getTabWindow=function(i,o,r,a,s){l||t.init();var c=n().viewPager,u=d(el);return u.autoClose=a===!0,u.onClose=!u.autoClose&&a,u.setActive=function(){DocsTab.setActive(i,!0,!0)},c.add(i,u),void 0!==s&&e.DocsTab.insertTab(e.DocsTab.indexOf(s)+1,i,o,null,r),e.DocsTab.addTab(i,o,null,r),u},i.getEditorWindow=function(i,o,r,a,s){l||t.init();var d=n().viewPager,u=c();return u.autoClose=a===!0,u.onClose=!u.autoClose&&a,u.setActive=function(){e.DocsTab.setActive(i,!0,!0)},d.add(i,u),void 0!==s&&e.DocsTab.insertTab(e.DocsTab.indexOf(s)+1,i,o,null,r),e.DocsTab.addTab(i,o,null,r),u},i.closeTabWindow=function(t){e.DocsTab.removeTab(t),i.forEach(function(e){e.viewPager.remove(t)})};var l;t.init=function(){var o=e.AppEvents;o.on("closeTab",function(e){var t=e.id,o=n().viewPager,r=o.views[t];r&&((r.autoClose||r.onClose&&r.onClose()!==!1)&&i.closeTabWindow(t),e.preventDefault())}),o.on("changeTab",function(e){n().viewPager.onChangeTab(e)}),o.on("closeEditor",function(e){e.editor.viewPager.exit()}),o.on("createEditor",function(e){e.isMain&&!e.editor.viewPager&&(e.editor.viewPager=new t(e.editor))}),o.on("changeEditor",function(){i.forEach(function(e){e.viewPager.onChangeEditor()})}),i.forEach(function(e){e.viewPager=new t(e)}),l=!0},t.forceClose=function(e,t){if(t&&!t.autoClose&&t.onClose)try{t.onClose()}catch(o){}i.closeTabWindow(e)},e.getEditor=function(e){if(e||!l)return n(e);var t=n();return t.viewPager.editor||t},e.getHostEditor=function(e){return l?e.viewPager.mainEditor:e},e.getMainEditor=n,e.ViewPager=t});;_Define(function(t){var e=t.appStorage,l=t.AppEvents,r=t.Utils,o=(t.SettingsDoc,t.getMainEditor),n={gotoend:"Ctrl-End",goToNextError:"Alt-E|F4",goToPreviousError:"Alt-Shift-E|Shift-F4","Return from Checkpoint":"Ctrl-Alt-J",toggleSplitSelectionIntoLines:"Ctrl-Alt-L",selectall:"Ctrl-A",centerselection:null,gotoline:"Ctrl-L",fold:"Alt-L|Ctrl-F1",unfold:"Alt-Shift-L|Ctrl-Shift-F1",toggleFoldWidget:"F2",toggleParentFoldWidget:"Alt-F2",foldall:null,foldOther:"Alt-0",unfoldall:"Alt-Shift-0",findnext:"Ctrl-K",findprevious:"Ctrl-Shift-K",selectOrFindNext:"Alt-K",selectOrFindPrevious:"Alt-Shift-K",find:"Ctrl-F",overwrite:"Insert",selecttostart:"Ctrl-Shift-Home",gotostart:"Ctrl-Home",selectup:"Shift-Up",golineup:"Up",selecttoend:"Ctrl-Shift-End",selectdown:"Shift-Down",golinedown:"Down",selectwordleft:"Ctrl-Shift-Left",gotowordleft:"Ctrl-Left",selecttolinestart:"Alt-Shift-Left",gotolinestart:"Alt-Left|Home",selectleft:"Shift-Left",gotoleft:"Left",selectwordright:"Ctrl-Shift-Right",gotowordright:"Ctrl-Right",selecttolineend:"Alt-Shift-Right",gotolineend:"Alt-Right|End",selectright:"Shift-Right",gotoright:"Right",selectpagedown:"Shift-PageDown",pagedown:null,gotopagedown:"PageDown",selectpageup:"Shift-PageUp",pageup:null,gotopageup:"PageUp",scrollup:"Ctrl-Up",scrolldown:"Ctrl-Down",selectlinestart:"Shift-Home",selectlineend:"Shift-End",togglerecording:"Ctrl-Alt-E",replaymacro:"Ctrl-Shift-E",jumptomatching:"Ctrl-\\|Ctrl-P",selecttomatching:"Ctrl-Shift-\\|Ctrl-Shift-P",expandToMatching:"Ctrl-Shift-M",passKeysToBrowser:null,removeline:"Ctrl-D",duplicateSelection:"Ctrl-Shift-D",sortlines:"Ctrl-Alt-S",togglecomment:"Ctrl-/",toggleBlockComment:"Ctrl-Shift-/",modifyNumberUp:"Ctrl-Shift-Up",modifyNumberDown:"Ctrl-Shift-Down",replace:"Ctrl-H",undo:"Ctrl-Z",redo:"Ctrl-Shift-Z|Ctrl-Y",copylinesup:"Alt-Shift-Up",movelinesup:"Alt-Up",copylinesdown:"Alt-Shift-Down",movelinesdown:"Alt-Down",del:"Delete",backspace:"Shift-Backspace|Backspace",cut_or_delete:"Shift-Delete",removetolinestart:"Alt-Backspace",removetolineend:"Alt-Delete",removetolinestarthard:"Ctrl-Shift-Backspace",removetolineendhard:"Ctrl-Shift-Delete",removewordleft:"Ctrl-Backspace",removewordright:"Ctrl-Delete",outdent:"Shift-Tab",indent:"Tab",blockoutdent:"Ctrl-[",blockindent:"Ctrl-]",splitline:null,transposeletters:"Alt-Shift-X",touppercase:"Ctrl-U",tolowercase:"Ctrl-Shift-U",expandtoline:"Ctrl-Shift-L",joinlines:null,invertSelection:null,openCommandPallete:"F1",modeSelect:null,addCursorAbove:"Ctrl-Alt-Up",addCursorBelow:"Ctrl-Alt-Down",addCursorAboveSkipCurrent:"Ctrl-Alt-Shift-Up",addCursorBelowSkipCurrent:"Ctrl-Alt-Shift-Down",selectMoreBefore:"Ctrl-Alt-Left",selectMoreAfter:"Ctrl-Alt-Right",selectNextBefore:"Ctrl-Alt-Shift-Left",selectNextAfter:"Ctrl-Alt-Shift-Right",splitIntoLines:"Ctrl-Alt-L",alignCursors:"Ctrl-Alt-A",findAll:"Ctrl-Alt-K",beautify:"Ctrl-B",beautifyEndExpand:"Ctrl-Alt-B",removeBlank:"Ctrl-Shift-B",expandSnippet:"Tab",startAutocomplete:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space",toggleFullscreen:"F11",swapTabs:"Alt-Tab",newFile:"Ctrl-N",save:"Ctrl-S",saveAs:"Ctrl-Shift-S",openClipboard:"Ctrl-Shift-V",run:"F7","Add Split":"F10","Add Split Vertical":"F9","Remove Split":"F8"};t.registerValues({keyBindings:"Configure ace commands. Note: These bindings are overriden by the vim/emacs/sublime/vscode keymaps. Also some plugins like emmet,etc might override the bindings with default bindings. This does not show their commands either. Use the command menu for that"}),t.saveBindings=function(l){var r={},o=t.getBindings(l);for(var i in o){var s=o[i];(i||n[i])&&"no-user-config"!=t.getConfigInfo("keyBindings."+i)&&(!s||n[i]&&s.toLowerCase()==n[i].toLowerCase()||(r[i]=s))}e.setItem("keyBindings",JSON.stringify(r))},t.setBinding=function(e,l,s,a,d){var f=(s.commands,l.split("|"));f.forEach(function(t){var l=(s.editor||s).commands.commandKeyBinding,r=t.toLowerCase(),o=l[r];o?Array.isArray(o)?(!e&&n[d]&&(e="passKeysToBrowser"),e?o.indexOf(e)<0&&o.push(e):(o=o.filter(function(t){return t.name==d||t==d}),o.length||(o=""))):e&&(o!=e&&o.name!=e?o=[o,e]:(o==d||o.name==d)&&(o=n[d]?"passKeysToBrowser":"")):o=e,l[r]=o}),a||(i||(i=r.delay(function(){t.saveBindings(o()),i=null},3e3)),i())},t.restoreBindings=function(l){var r=e.getItem("keyBindings");if(r){r=JSON.parse(r);for(var o in r)t.setBinding(o,r[o],l,!0,n[o])}},t.getBindings=function(e,l){var r={};e.editor&&(e=e.editor);var o=e.commands.commandKeyBinding,n={};for(var i in o){var s=o[i];Array.isArray(s)||(s=[s]);var a,d=s.length-1,f=s[d];if("string"!=typeof f&&(f=f.name),a=[i.split("-").map(function(t){return t&&t[0].toUpperCase()+t.substring(1)}).join("-")],"no-user-config"!==t.getConfigInfo("keyBindings."+f))if(r[f])for(var g in a){var c=a[g];("|"+r[f]+"|").indexOf(c)<0&&(r[f]+="|"+c)}else r[f]=a.join("|");if(l)for(var C=0;d>C;C++){var h=s[C];"string"!=typeof h&&(h=h.name),h!=f&&(n[h]=(n[h]||"")+"<"+a+":"+f+">")}}var p=e.commands.byName;for(var u in p)"no-user-config"!=t.getConfigInfo("keyBindings."+u)&&(r.hasOwnProperty(u)||(r[u]=""));return sorted={},Object.keys(r).sort(function(t,e){return!r[t]&&r[e]?1:!r[e]&&r[t]?-1:r[t]||r[e]?t.toLowerCase().localeCompare(e.toLowerCase()):0}).forEach(function(t){sorted[t]=r[t]}),l&&(sorted.$shadowed=n),sorted};var i;l.on("createEditor",function(e){t.restoreBindings(e.editor)})});;_Define(function(e){var n=function(e,n,t,i){function o(n){var t=e.substring(b),i=n.exec(t);return i?(b+=i[0].length,!0):!1}function r(i){var o=function(){switch(x){case h:case g:return"JSON";case y:case p:return"OBJECT";case v:return"KEY";case m:case f:return"ARRAY";case d:case w:switch(k[k.length-1]){case m:return"ARR_VALUE";case y:return"OBJ_VALUE";case h:return"ROOT_VALUE"}throw"Bad State"}}();i?n(o,b,e):t(o,b,e)}function a(){if(r(),!k.length)throw new Error("Unexpected end of state");x=k.pop(),s()}function s(){for(;A.test(e[b]);)b++}function c(n){return e[b]==n}function u(n){b++,i(n,b,e)}function l(e,n){if(x=e,k.push(n),b==O)throw"Unexpected end of input"}var f=1,p=2,d=4,g=5,h=7,v=9,y=6,m=10,w=11,b=0,O=e.length,x=g,k=[],j=/^\d+(?:\.\d*)?/,C=/^(\")(?:[^\"\n\\]|\\.)*(\1)/,E=/^(?:true|false)/,S=/^null/,A=/\s/;this.getState=function(){return{stack:k.slice(0),pos:b,json:e}},this.setState=function(n){k=n.stack.slice(0),b=n.pos,e=n.json},this.insertAfter=function(n,t){e=e.slice(0,b)+n+e.slice(b),O+=n.length,t&&(b+=n.length)},this.insert=function(n,t){e=e.slice(0,t)+n+e.slice(t),b+=n.length,O+=n.length},this.walk=function(){for(;O>=b;)switch(x){case w:a();continue;case d:if(r(!0),o(j)||o(C)||o(S)||o(E)){a();continue}if(c("{")){l(p,w);continue}if(c("[")){l(f,w);continue}throw new Error("Unexpected token "+e[b]);case g:r(!0),l(d,h);continue;case h:if(b!=O)throw"Unexpected tokens "+e.substr(b,10);b+=1;break;case p:r(!0),u("{"),s(),x=c("}")?y:v;continue;case v:if(r(!0),!o(C))throw"Expected string";if(r(),s(),!c(":"))throw"Expected colon";u(":"),s(),l(d,y);continue;case y:if(c(",")&&(u(","),i("SEP",b),s(),c('"'))){x=v;continue}if(!c("}"))throw"Expected }";u("}"),a();continue;case f:r(!0),u("["),s(),c("]")||c[","]?x=m:l(d,m);continue;case m:if(c(",")&&(u(","),s(),!c("]"))){l(d,m);continue}if(!c("]"))throw"Expected ]";u("]"),a();continue;default:throw"Unknown state "+x}if(x!=h)throw"Counter Erorr";r()}};n.stripComments=function(e){var n=/(\\)|(\"|\')|(\/\*)|(\*\/)|(\/\/)|(\n)/g,t=[],i=[],o=!1,r="",a=-1,s=!1,c=null,u=e.indexOf("{");n.lastIndex=u;for(var l=0;;){if(c=n.exec(e),!c){if(!o){var f=e.lastIndexOf("}");f>-1&&t.push(e.slice(u,f+1))}break}if(c[3])o||r||(l=c.index,t.push(e.substring(u,l)),o=!0);else if(c[4])o&&(u=c.index+2,i.push(e.substring(l,u)),o=!1);else{if(o)continue;c[5]?o||s||r||(l=c.index,t.push(e.substring(u,l)),s=!0):c[6]?s&&(u=c.index,i.push(e.substring(l,u)),s=!1):c[2]?a!=c.index&&(r=c[2]==r?"":c[2]):c[1]&&r&&a!=c.index&&(a=c.index+1)}}return t.join("")},e.JSONWalker=n}),_Define(function(e){function n(){var n=u.parseList(C.projectConfigFile);u.asyncForEach(n,function(n,t,i){j.getConfig(n,function(n){if(i(),n){var t=E(n),o=JSON.parse(t);e.withoutStorage(r.bind(null,o))}})})}function t(e){var n=e.split("|");return n.every(function(e){return/^(Ctrl-)?(Alt-)?(Shift-)?(((Page)?(Down|Up))|Left|Right|Delete|Tab|Home|End|Insert|Esc|Backspace|Space|Enter|.|F1?[0-9])$/i.test(e)})}function i(e,n){return e.length==n.length&&!e.some(function(e,t){return e!==n[t]})}function o(e){return Array.isArray(e)?"arr":e&&"object"==typeof e?"obj":"primitive"}function r(e,n,t,a){if(n||(n=t?v[t]:v),!n)return g.warn("Unknown group "+t),!0;var s=t?t+".":t="",c=!1;for(var u in e){var d=e[u],h=u.lastIndexOf(".");if(h>-1){var y=u.split(".");do{var m={};m[y.pop()]=d,d=m}while(y.length>1);u=y[0]}if(S[s+u])S[s+u].updateValue(d,a);else if(n.hasOwnProperty(u)){var w=o(n[u]);if(o(d)==w){var b=n[u];if("arr"==w){if(i(d,b))continue;f(u,d,t)}else{if("obj"==w){r(d,b,s+u,a)&&(c=!0);continue}if(d==b)continue;l(u,d,t)}try{if(!p.trigger(t,{config:u,oldValue:b,newValue:d,overwrite:a}).defaultPrevented)continue}catch(O){g.error("Unknown error setting "+u)}c=!0,"arr"==w?f(u,b,t):l(u,b,t)}else g.error("Invalid Value Type "+o(d)+" for "+n[u]+" "+s+u),c=!0}else g.warn("Unknown option "+u+" in group "+t),c=!0}return c}function a(e,n,t){var i=0;do{if(e=e[n[i]],!e)return t&&(t.lastPathSegment=i),t;++i}while(i<n.length);return e}function s(e,n,t){for(var i=0;i<n.length-1;++i)e=e[n[i]]||(e[n[i]]={});e[n[i]]=t}function c(){var e={},n=Object.keys(v).sort();e.application=void 0,e.documents=void 0,e.editor=void 0,e.files=void 0;for(var t,i={},o=0;o<n.length;o++){var r,c=n[o];if(k(c)!==m){if(c.indexOf(".")>0){var u=c.split(".");if(r=u.pop(),t=a(e,u,i),t==i){g.warn("Orphaned group "+c);continue}}else r=c,t=e;var l=v[c];t[r]={};for(var f in l)k(c+"."+f)!=m&&(t[r][f]=l[f])}}for(var p in S)s(e,p.split("."),Object.assign(a(e,p.split("."))||{},S[p].getValue()));return e}var u=e.Utils,l=e.configure,f=e.configureArr,p=e.ConfigEvents,d=e.appStorage,g=e.Notify,h=e.setBinding,v=e.allConfigs,y=e.MainMenu,m="no-user-config",w=e.Docs,b=e.Editors.getSettingsEditor,O=e.AppEvents,x=e.getBindings,k=e.getConfigInfo,j=e.FileUtils,C=e.appConfig,E=e.JSONWalker.stripComments;y.addOption("clear-settings",{icon:"warning",caption:"Reset Configuration",sortIndex:1e3,onclick:function(){var n=e.Notify;n.prompt("<h6>CLEAR ALL CONFIGURATION VALUES FROM DISK</h6>        <small><span class='blue-text'>Warning:</span> This operation is mostly harmless if you know what you are doing.</small>        <p style='font-size:1rem'>You can either specify        <ol> <li><span class='red-text'>true</span> to clear all values or</li><li>A comma separated string list of namespaces. Nested namespaces must be specified separately. Example\n<small><code>search, editor, keyBindings.intellisense</code></small></li></ol></p><p style='font-size:1rem'> <span class='red-text'>Restart</span> immediately after unless previous configuration might be rewritten back.</p>",function(e){if(e){var i,o,r=v;"true"==e?(i=t,o="all your configuration"):(i=u.parseList(e),o="all your configurations in\n"+i.join(",\n")),n.ask("This will reset "+o+"\n   Continue?",function(){for(var e in i){var t=i[e];if("keyBindings"==t)d.removeItem("keyBindings");else{var o=t+".",a=r[t];"editor"==t&&(o="",a=S.editor.getValue());for(var s in a)d.removeItem(o+s)}}n.info("Restart Immediately to Apply Changes")})}},!0,{complete:function(e){var n=e.split(",").pop();return t.filter(function(e){return e.toLowerCase().indexOf(n.toLowerCase())>-1})},update:function(e,n){var t=e.value.lastIndexOf(",")+1;e.value=e.value.substring(0,t)+n}});var t=u.mergeList(Object.keys(v),Object.keys(S))}},!0),O.on("fully-loaded",function(){n(),j.on("change-project",n)}),p.on("application",function(e){switch(e.name){case"projectConfigFile":e.newValue&&n()}}),j.registerOption("files",["file"],"load-config-file",{caption:"Load As Configuration",extension:"json",icon:"build",onclick:function(n){n.preventDefault(),j.getDocFromEvent(n,function(n){if(n){var t=E(n),i=JSON.parse(t);e.withoutStorage(r.bind(null,i))}},!0,!0)}}),e.validateKey=t;var S={editor:{getValue:function(){return Object.assign({},b().getOptions(),w.$defaults)},updateValue:function(e,n){var t,i=b();for(var o in e)"mode"!=o&&i.getOption(o)!=e[o]&&i.setOption(o,e[o],!n)===!1&&(t=!0);return t}},keyBindings:{updateValue:function(n,i){var o=!1,r=b(),a=x(r);for(var s in n){var c=n[s];"$shadowed"!=s&&("object"!=typeof c?a.hasOwnProperty(s)&&(c?(t(c)||(g.warn("Unknown keystring "+c),o=!0),a[s]!=c&&h(s,c,r,!i)):h("",a[s],r,!i,s)):e.Config.apply(c,null,"keyBindings."+s))}return o},getValue:function(){return x(b(),!0)}}},A={apply:r,getJson:c,setHandler:function(e,n){S[e]=n}};e.Config=A}),_Define(function(e){function n(e){var n=m(e.doc||""),t=e.values?"Possible values: "+m(e.values.join(",")):"",i=e.default?"Default: "+e.default:"";return n=n&&i?n+"    ":n+i,n+(n.length+t.length>15?"\n":". ")+t}function t(e,n){return void 0===n?"undefined":n}function i(e,n){return"undefined"===n?void 0:n}function o(e){function t(e){var t=c(e);if(t){t="object"==typeof t?n(t):m(t);var o=t.split("\n");if(o.length>1){var a=[];for(var s in o)a.push(i.indent+"/*"+o[s]);a.push(i.indent+"*/\n"),r="\n"+a.join("\n")}else r="\n"+i.indent+"/*"+t+"*/\n"}}var i,o=[],r="",a=new d(e,function(e,n,r){switch(e){case"KEY":var a=r.lastIndexOf("\n",n)+1;o.push({type:"key",pos:n,indent:u.repeat(n-a)});break;case"OBJECT":if(!o.length)return;var s=o.map(function(e){return e.name}).join(".");i=o[o.length-1],i.handled=!0,t(s)}},function(e,n,r){switch(e){case"KEY":return i=o[o.length-1],void(i.name=r.slice(i.pos+1,n-1));case"OBJ_VALUE":if(!o.length)return;var a=o.map(function(e){return e.name}).join(".");if(i=o.pop(),i.handled)return;t(a)}},function(e,n,t){if(r)switch(e){case"]":case"}":var i=t.lastIndexOf("\n",n);a.insert(r,i),r="";break;case",":case"{":case"[":a.insertAfter(r,!0),r=""}});try{a.walk()}catch(s){console.error(s);var l=a.getState();console.error(s.message+"\n"+l.json.substring(Math.max(0,l.pos-10),l.pos)+"<!here>"+l.json.substring(l.pos,l.pos+10))}return w+a.getState().json+";"}function r(){var e=arguments;r.super(this,["","config.json","ace/mode/javascript",e[3],e[4],e[5]]),e[3]||this.refresh(null,!0)}var a=e.Docs,s=e.Doc,c=e.getConfigInfo,u=e.Utils,l=e.MainMenu,f=e.addDoc,p=e.AppEvents,d=e.JSONWalker,g=d.stripComments,h=e.Config,v=e.getBeautifier,y=/(.{50})(.{0,30}$|.{0,20}([\.,]|(?= ))) ?/g,m=function(e){return e.replace(y,"$1$2\n")},w=m("/** Grace configuration is in the form of a single tree. Any configuration you load is automatically used to update the tree. Arrays are overwritten. Any thing you add before the first brace and after the last brace is ignored (to allow eslint javascript syntax checks). Comments are allowed. Beside that, the only supported syntax is JSON primitives(keys must be wrapped with double quotes). You can specify options as either single path e.g application.applicatonTheme or as nested objects. Since the configuration does not remember history except by reset or overwrite, it is more easier to just add a project configuration for options you expect to change often. Note: The options will be kept as long as the editor is open even if you close the project. Beside the projectConfig, 3 other files are loaded by grace, autocompletion.filesToLoad, autocompletion.tagsToLoad and application.lintFilter. None is compulsory. */\nvar _CONFIG_ = ");u.inherits(r,s),r.prototype.save=function(){p.on("fully-loaded",function(){var n;try{n=JSON.parse(g(this.getValue()),i)}catch(t){return void e.Notify.error("Syntax Error "+t.message)}this.dirty=h.apply(n,null,null,!0),this.dirty||this.setClean()}.bind(this))},r.prototype.refresh=function(e,n,i){if(n!==!1){var r=this;return p.on("fully-loaded",function(){var s=JSON.stringify(h.getJson(),t);v("json")(s,{"end-expand":!0,wrap_line_length:20},function(t){t=o(t),a.setValue(r,t,e,n,i)})}),!0}},r.prototype.getSavePath=function(){return null},l.addOption("load-settings",{icon:"settings",caption:"Global Configuration",close:!0,onclick:function(){f(null,new r)}},!0),r.prototype.factory="settings9",a.registerFactory("settings9",r),e.SettingsDoc=r,e.stripComments=g});;_Define(function(e){function n(){r[t].isTemp()?(m.hintChangeFocus(),s.saveAs(t)):c.saveDocs(t)}function o(e){return r[e]?(t=e,r[e]!=c.forSession(l().session)&&d.setSession(r[e]),!0):!1}var t,c=e.Docs,i=e.Functions,a=e.Notify,r=e.docs,s=e.FileUtils,d=(e.Utils,e.Editors),l=e.getEditor,f=e.addDoc,m=(e.SettingsDoc,e.FocusManager),u=e.State,p=e.appConfig;i.switchToDoc=function(n,o,d,m,h,C){var v;if(m&&"object"==typeof m&&(v=c.forSession(m)),v||(v=c.forPath(n,C)||c.forPath("/"+n,C)),!v){var k;if(C?k=[C]:(k=[s.getProject().fileServer],r[t]&&r[t].getFileServer()!=k[0]&&k.unshift(r[t].getFileServer())),!m||m===!0){if(v===!1)return;var S=function(){var e=k.pop();e&&c.openDoc("/"+n,e,g)},g=function(e,n){n?i.switchToDoc(n.getPath(),o,d,null,h):S()};return void(m?S():a.ask("Open "+n,S))}"string"!=typeof m&&(m=m.getValue()),v=r[f(null,m,n,{data:{fileServer:k[0].id,encoding:s.encodingFor(n,k[0])}})],v.setDirty(),v.refresh()}if(e.SplitEditors&&e.SplitEditors.hasEditor(v)?u.ensure(p.disableBackButtonTabSwitch?"tabs":v.id):c.swapDoc(v.id),o){var D=l();D.exitMultiSelectMode&&D.exitMultiSelectMode(),D.getSession().unfold(o);var b=D.getSelection();d?(D.getSession().unfold(d),b.setSelectionRange({start:o,end:d})):b.moveCursorToPosition(o),D.centerSelection()}h&&h(v.session)},e.DocumentCommands=[{name:"newFile",bindKey:{win:"Ctrl-N",mac:"Command-Alt-N"},exec:i.newDoc},{name:"Undo All Changes",exec:function(){r[t].saveCheckpoint("last undo"),r[t].abortChanges(),a.info("Automatic checkpoint added")}},{name:"Redo All Changes",exec:function(){r[t].redoChanges()}},{name:"Save Checkpoint",exec:function(e,n){function o(e){var o=r[t].saveCheckpoint(e);a.info(o.key?"Saved":"Could not save checkpoint"),n&&n.cb&&n.cb(o.key)}doc.$clearRevertStack(),n&&n.name?o(n.name):a.prompt("Enter name",o,doc.$loadCheckpoints()[0],null,doc.$loadCheckpoints().map(function(e){return e.name}))}},{name:"Goto Checkpoint",exec:function(e,n){function o(e){var o=r[t].gotoCheckpoint(e);n&&n.cb&&n.cb(o)}doc.$clearRevertStack();doc.stateID||a.warn("Current state not saved"),n&&n.name?o(name):a.prompt("Enter name",o,doc.$loadCheckpoints()[0],doc.$loadCheckpoints().map(function(e){return e.name}))}},{name:"Toggle Checkpoint",exec:function(){var e="auto-checkpoint-",n=doc.stateID=="cp-"+e+1||c.hasBlob(t,"cp-"+e+1)?1:2;r[t].saveCheckpoint(e+(3-n)),r[t].gotoCheckpoint(e+n),r[t].deleteCheckpoint(e+n)}},{name:"Goto Checkpoint and Delete",exec:function(e,n){function o(e){var o=r[t].gotoCheckpoint(e);r[t].deleteCheckpoint(e),n&&n.cb&&n.cb(o)}doc.$clearRevertStack();n&&n.name?o(name):(doc.stateID||a.warn("Current state not saved"),a.prompt("Enter name",o,"checkpoint",doc.$loadCheckpoints().map(function(e){return e.name})))}},{name:"Delete Checkpoint",exec:function(e,n){function o(e){r[t].deleteCheckpoint(e),n&&n.cb&&n.cb(res)}doc.$clearRevertStack();n&&n.name?o(name):a.prompt("Enter name",o,r[t].stateID,doc.$loadCheckpoints().map(function(e){return e.name}))}},{name:"Return from Checkpoint",bindKey:"Ctrl-Alt-J",exec:function(){r[t].returnFromCheckpoint()}},{name:"save",bindKey:{win:"Ctrl-S",mac:"Command-S"},exec:n},{name:"saveAs",bindKey:{win:"Ctrl-Shift-S",mac:"Command-Shift-S"},exec:function(){s.saveAs(t)}}];var h={save:{icon:"save",caption:"Save",close:!0,sortIndex:1,onclick:function(){n()}},refresh:{icon:"refresh",sortIndex:10,caption:"Refresh file",close:!0,onclick:function(){r[t].refresh(function(e){e&&!e.dirty&&a.info("refreshed")})}},find:{icon:"search",sortIndex:9,caption:"Find",childHier:{"find-in-file":{caption:"Find in File",close:!0,onclick:function(){l().execCommand("find")}},"goto-file":{caption:"Goto Line",close:!0,onclick:function(){l().execCommand("gotoline")}},"find-refs":{caption:"Find References",close:!0,onclick:function(){var e=l(),n=e.smartCompleter;n=e[n.name]||n,n.findRefs&&n.findRefs(e)}},rename:{caption:"Rename Variable",close:!0,onclick:function(){var e=l(),n=e.smartCompleter;n=e[n.name]||n,n.rename&&n.rename(e)}},jumpToDef:{caption:"Jump To Definition",close:!0,onclick:function(){var e=l(),n=e.smartCompleter;n=e[n.name]||n,n.jumpToDef&&n.jumpToDef(e)}}}},format:{caption:"Format",icon:"edit",close:!0,onclick:function(){l().execCommand("beautify")}}},C=e.MainMenu;for(var v in h)C.addOption(v,h[v]);C.addOption("console",{caption:"Show Console",icon:"bug_report",close:!0,sortIndex:1e3,onclick:function(){eruda._entryBtn.show(),eruda._devTools.toggle()}},!0),d.addCommands(e.DocumentCommands),e.getActiveDoc=function(){return r[t]},e.setDoc=o});;_Define(function(e){function t(e){var t=document.createElement("div");for(var a in e){var n=e[a],o="string"==typeof n?n:n.icon,r=n.caption||"<i class='material-icons'>"+o+"</i>",l=document.createElement("button");l.innerHTML=r,n.className&&(l.className=n.className),l.setAttribute("id",a),t.appendChild(l)}return t}function a(){c.once("copy",function(e){b.set(e.text)}),c.getCopyText()}function n(){a(),c.execCommand("cut")}function o(){b.get(0,function(e){c.execCommand("paste",e)})}function r(e){var t=$(e.target).closest("button")[0];if(t){var a=t.getAttribute("id");N[a]&&N[a].onhold&&c.execCommand(N[a].onhold),e.preventDefault()}}function l(e){var t=$(e.target).closest("button")[0];if(t){var r=t.getAttribute("id");switch(r){case"a-right":case"a-left":case"a-up":case"a-down":Y.go(r.slice(2));break;case"find":case"gotoline":case"openCommandPallete":g.hintChangeFocus();case"save":case"undo":case"redo":case"indent":case"outdent":case"toggleFullscreen":c.execCommand(r);break;case"shift":case"ctrl":case"alt":Y.click(r,t);break;case"esc":Y.esc();break;case"copy":a();break;case"cut":n();break;case"paste":o();break;default:g.hintChangeFocus(),c.execCommand(r)}e.stopPropagation()}}function i(e){var t=document.createElement("div");for(var a in e){var n=e[a].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"\\'"),o="",r=null;n.indexOf("--N--")>-1&&(r=n.split("--N--"),o=r[0],n=r[r.length-1].replace());var l="<button value='";if(n.indexOf("--L--")>-1?(n=n.replace("--L--",""),l+=n+"' class='scroll-point'>"):l+=n+"'>",o=o||n.replace("--C--","").replace(/--S--/g,"").replace("--W--","").replace(/\t/g,"<i class='material-icons'>keyboard_tab</i>").replace(/\n/g,"&rdsh;"),l+=o+"</button>",$(t).append(l),r){var i=o.replace(/&\w+;/g,"-").length;$(t).children().last().css("font-size",60/i)}}return t}function s(e){var t=$(this).attr("value");if("	"==t)return Y.go("tab");var a=g.activeElement||c.textInput.getElement();a.blur();var n=a.value;if(void 0!==n){var o=a.selectionStart,r=a.selectionEnd,l=n.substring(o,r),i=/[\w\$\-]+$/.exec(n.substring(0,o));t.indexOf("--W--")>0&&i?(n=n.substring(0,i.index)+n.substring(o),o-=i[0].length,r-=i[0].length,t=t.replace(/--W--/g,i[0])):t=t.replace(/--W--/g,""),t=t.replace(/--S--/g,l);var s=t.indexOf("--C--");t=t.replace("--C--","");var d=n.substring(0,o)+t+n.substring(r,n.length);a.value=d,0>s&&(s=t.length),a.selectionStart=a.selectionEnd=o+s,a.dispatchEvent(new InputEvent("input",{data:t})),e.stopPropagation()}}var c,d=setTimeout,u=function(e,t){"use strict";function a(e){e.originalEvent.touches&&(e=e.originalEvent.touches[0]),i=e.clientY,o=(new Date).getTime(),l=i,r=e.clientX,c=!1,d=!1}function n(a){if(!d&&!c){var n=a.timeStamp;a.originalEvent.touches&&(a=a.originalEvent.touches[0]);var u=a.clientY,f=a.clientX;if(500>n-o){var h=u-l,p=f-r,g=Math.abs(u-i);if(Math.abs(p)>Math.abs(h))Math.abs(p)>3*Math.abs(h)&&(d=!0);else if(g>s.distanceThreshold){var m=Math.abs(h/(n-o));(m>s.swipeThreshold||g>s.dragThreshold)&&(c=!0,0>h&&!e.hasClass("closed")?(e.addClass("closed"),t(!0)):h>0&&e.hasClass("closed")&&(e.removeClass("closed"),t(!1)))}}r=f,l=u,o=n}}var o=0,r=0,l=0,i=0,s={swipeThreshold:.7,distanceThreshold:30,dragThreshold:100,failThreshold:100},c=!1,d=!1;return{start:a,move:n}},f=function(e,t,a){"use strict";function n(e){return e&&e.originalEvent&&e.originalEvent.changedTouches?"touch-"+e.originalEvent.changedTouches[0].identifier:"repeat"}function o(o){var r=$(o.target).closest("button");if(r.length){r.addClass("pressed"),d.push(r);var l,i,u=r.attr("id");if(/a\-/.test(u))u=u.slice(2),i=e.go,l=t.characterBarRepeatingKeyIntervalMs;else{if(!/undo|redo/.test(u))return/shift|alt|ctrl/.test(u)?e.startHold(u,n(o),r):void 0;i=a,l=t.characterBarRepeatingActionIntervalMs}if("touch-1"==n(o)&&(c={id:"touch-1",key:u,func:i,time:(new Date).getTime()}),!s){var f=function(){i(u),h=.7*h+.3*l,s=setTimeout(f,h)},h=t.characterBarRepeatingKeyStartDelayMs;s=setTimeout(f,h),h=5*l}}}function r(){e.remove(),l()}function l(){if(s){for(var e in d)d[e].removeClass("pressed");clearTimeout(s),s=null}}function i(a){var o=n(a);e.remove(o),c&&(new Date).getTime()-c.time<t.characterBarRepeatingKeyStartDelayMs&&(c.func(a),c=null),setTimeout(e.update),l()}var s,c,d=[];return{end:i,start:o,cancel:r}},h=function(){"use strict";function e(e){if(!a)return void(a={x:e.target.scrollLeft,vel:0,orig:e.target.scrollLeft+20,t:(new Date).getTime(),max:0,detected:!1,dir:0});if(!a.cancelled){var o=a.detected,r=e.target.scrollLeft,l=r-a.x;if(l*a.dir<0)return o&&(clearTimeout(n),n=null),void(a=null);var i=(new Date).getTime(),s=i-a.t,c=Math.abs(l)/s;a={x:r,t:i,vel:c,max:Math.max(c,a.max),dir:l,orig:a.orig,detected:a.detected},n?c>.2&&(clearTimeout(n),n=setTimeout(t,2*s)):a.max>.6&&(a.detected=e.target,n=setTimeout(t,2*s))}}function t(){n=null;for(var e=a.detected.getElementsByClassName("scroll-point"),t=a.detected.scrollLeft,o=(a.detected.clientWidth,2*a.dir),r=t+o,l=0;l<e.length;l++){var i=e[l].offsetLeft;if(!(t>i)){r=i;break}o=i}var s;s=a.dir>0&&o<a.orig?r:a.dir<0&&r>a.orig?o:r-t>t-o?o:r,Math.abs(s-t-2*a.dir-20)<150&&(a.detected.scrollLeft=s-2*a.dir-20),a.cancelled=!0}var a=null,n=null;return{onScroll:e,cancel:function(){n&&(clearTimeout(n),n=null),a=null}}},p=function(e,t,a,n){"use strict";function o(e){var t=0;return(_.shift||S.shift)&&(t|=E.KEY_MODS.shift),(_.ctrl||S.ctrl)&&(t|=E.KEY_MODS.ctrl),(_.alt||S.alt)&&(t|=E.KEY_MODS.alt),e&&(_={},B()),t}function r(e){D||(D=!0,m!=g.textInput.getElement()&&$(m).removeClass("mod-key-enabled"),e&&(_={},S={},B()),x.activeElement==b&&K(m),x.activeElement!=g.textInput.getElement()&&g.renderer.visualizeBlur(),b.blur(),m=null)}function l(){b=document.createElement("textarea"),b.style.opacity=.1,b.style.width="50px",b.style.height="50px",b.style.top="0px",b.style.right="0px",b.setAttribute("name","mod-key-input"),b.style.position="absolute",k.addListener(b,"input",function(e){var t=b.value;t.startsWith(w)?(t=t[w.length],h(E[t.toLowerCase()],/[A-Z]/.test(t)?E.KEY_MODS.shift:0,t)):w.slice(0,-1)==t&&h(E.Backspace),c(),e.stopPropagation(),e.preventDefault()}),document.body.appendChild(b),k.addListener(b,"blur",i),k.addCommandKeyListener(b,function(e,t,a){h(a,t),c(),e.stopPropagation(),e.preventDefault()})}function i(e){if(!D){var t=(new Date).getTime();!e||a>t-N?v++:t-N>2*a&&(v=0),L||v>1?r(!0):(u(),N=t)}}function s(e,t,a){a=!!a;var n=e.indexOf(t);a===0>n&&(a?e.push(t):e.splice(n,1))}function c(){b.value="",b.value=w+C,b.selectionStart=b.selectionEnd=w.length,d(c)}function u(){D||(v=0,b.focus(),m==g.textInput.getElement()?(g.renderer.showCursor(),g.renderer.visualizeFocus()):$(m).addClass("mod-key-enabled"))}function f(){var e="shift-"==E.KEY_MODS[o()],t=e&&(m||x.activeElement)!=g.textInput.getElement();return D?void(t||(D=!1,L=!1,b||l(),m=x.activeElement,m&&m!=b||(m=g.textInput.getElement()),x.hintChangeFocus(),u(),c(),setTimeout(u,100))):t?r():K(b)}function h(e,t,a){if(t|=o(e>-1),o()||(/A-Za-z/.test(a)?r():(d(r),$(b).one("keyup",r))),t){if(m!=g.textInput.getElement()){var n=A[E.KEY_MODS[t]+E[e]];return void(n?(n(),r(!0)):(L=!0,p(m,e,E.KEY_MODS[t]),v=0,N=0,L=!1))}var l=O.findKeyCommand(t,E[e]);L=!0,l&&l.exec?l.exec(g):l=g.keyBinding.onCommandKey(null,t,e),L=!1,l?(N=0,v=0):("double_tap"==S.shift||"double_tap"==S.ctrl||"double_tap"==S.alt)&&i()}}function p(e,t,a){if(document.createEventObject){var n=document.createEventObject();n.keyCode=t,a&&a.split("-").map(function(e){e&&(n[e+"Key"]=!0)}),e.fireEvent("onkeydown",n),n.keyCode=t}else if(document.createEvent){var n=document.createEvent("Events");n.initEvent("keydown",!0,!0),n.which=t,n.keyCode=t,a&&a.split("-").map(function(e){e&&(n[e+"Key"]=!0)}),e.dispatchEvent(n)}}var g,m,v,b,y,w="\n\na,",C="\n\n",E=n.keys,x=n.FocusManager,k=n.event,M={},_={},S={},K=x.focusIfKeyboard,T=function(e,t){var n=(new Date).getTime();n-(M[e]||0)<a?(S[e]="double_tap",n=0):"double_tap"==S[e]?(_[e]=S[e]=!1,n=0):_[e]=_[e]?!1:!0,M[e]=n,(_[e]||S[e])&&f(),o()||r(),B(t,e)},D=!0,N=0,L=!1,B=function(t,a){if(t){var n=t.className.split(" ");return s(n,"mod-key-held",S[a]),s(n,"mod-key-active",(_[a]||"esc"==a)&&!S[a]),s(n,"mod-key-inactive",!(S[a]||_[a]||"esc"==a)),void(t.className=n.join(" ").replace("  "," "))}for(var o=e.find(".mod-key"),r=0;r<o.length;r++)B(o[r],o[r].getAttribute("id"))},O=new n.HashHandler,I=function(e){var t=m.value,a=m.selectionStart,n=m.selectionEnd;return 1>e?t.substring(0,a):2>e?t.substring(a,n):t.substring(n)},A={"ctrl-c":function(){y.text=I(1)},"ctrl-v":function(){var e=y.text,t=m.selectionStart;m.value=I(0)+e+I(2),m.selectionStart=m.selectionEnd=t+e.length},"ctrl-a":function(){m.selectionStart=0,m.selectionEnd=m.value.length},"ctrl-x":function(){y.text=I(1);var e=m.selectionStart;m.value=I(0)+I(2),m.selectionStart=m.selectionEnd=e}},P=!1,Y=function(e){var t=x.activeElement;t==b?t=m:t||(t=g.textInput.getElement());var a=E[e],n=E.KEY_MODS[o(!0)];if(t.blur(),"left"==e||"right"==e){var l=[t.selectionStart,t.selectionEnd],i="left"==e?1:-1;if(n){if("shift-"==n){var s=P?1:0;if(l[s]>=i&&(l[s]-=i),l[0]>l[1]){var c=l[0];P=!0,l[0]=l[1],l[1]=c}else P&&l[0]==l[1]&&(P=!1)}}else l[0]==l[1]?l[0]>=i&&(l[0]-=i,l[1]=l[0]):1>i?l[0]=l[1]:l[1]=l[0];t.selectionStart=l[0],t.selectionEnd=l[1]}if(p(t,a,n),m!=g.textInput.getElement()){if(n&&"shift-"!=n)return;r(!0),B()}};return O.bindKeys(t),B(),{open:f,close:function(){r(!0)},click:T,esc:function(){var e=x.activeElement||g.textInput.getElement();p(e,27,E.KEY_MODS[o(!0)])},go:Y,setEditor:function(e){g=e},setClipboard:function(e){y=e},remove:function(e){if(e)for(var t in S)S[t]==e&&(S[t]=!1);else for(var t in S)"double_tap"!=S[t]&&(S[t]=!1);o(!1)||r(),B()},startHold:function(e,t,a){S[e]||(S[e]=t,setTimeout(function(){S[e]&&D&&(f(),B(a[0],e))},250))}}},g=e.FocusManager,m=e.registerAll({showCharacterBar:!Env.isDesktop&&"toggle",toolbarPosition:"below",enableModKeys:!Env.isDesktop&&"shift,ctrl,alt",enableArrowKeys:!Env.isDesktop,enableLockScrolling:!0,characterBarRepeatingKeyIntervalMs:20,characterBarRepeatingActionIntervalMs:100,characterBarRepeatingKeyStartDelayMs:700,characterBarDoubleClickIntervalMs:500,characterBarChars:["	",">","</","<","/","=","{--S--}","</>--N--<--W----C--></--W-->","--L--@",":","*","+","-","(",")","[","]","{","}","_--L--","func--N----L--function(){\n	--C--}","class--N--class --W-- {\n--C--}","--S--"]},"toolbars");e.registerValues({toolbars:"All the positioning options need restart",characterBarChars:"characters to show on character bar\nIt's a bit similar to snippets. But with a different syntax\n--S-- represents selected text,\n--C-- shows where to insert cursor. Currently this must be on the last line\n<caption>--N-- denotes the display caption(must come before any other text example: func--N----L--function(){	--C--}) , \n--L-- a point to lock character bar scrolling see .lockScrolling\n--W-- represents the word before the cursor - Using it will delete the word\n",showCharacterBar:"true,false,toggle",toolbarPosition:"above,below,toggle(implies below)",enableModKeys:"true,false,toggle, or list of keys[shift,ctrl,alt,esc[,toggle]] (show modifier buttons)",enableLockScrolling:"allows character bar to jump to clamp scroll",enableArrowKeys:"true,false,toggle(show directional keys)"},"toolbars");var v=e.ConfigEvents;v.on("toolbars",function(e){switch(e.config){case"characterBarChars":i(e.newValue)}});var b,y,w,C,E,x,k,M,_,S=function(e,t){if(t){if(y)throw"Error: multiple top bars";y=e,w=$(T("top")),w.addClass("top-bar"),w[0].appendChild(y[0])}else E||(C=[],E=$(T("bottom")),E.addClass("bottom-bar")),C.push(e),E[0].appendChild(e[0]),C.length>1&&!x&&(x=K(E[0]),e[0].style.display="none");e.addClass("fill_box")},K=function(e){e.className+=" edge_box-1-0";var t=document.createElement("button");t.style.paddingLeft="10px",t.className="tool-swapper side-1",t.innerHTML='<i class="material-icons">swap_horiz</i>',e.insertBefore(t,e.firstChild);var a=0,n=C[0];return t.onclick=function(e){n.hide(),a=(a+1)%C.length,n=C[a],n.show(),e.stopPropagation()},t},T=function(e){var t=document.createElement("div");return t.style[e]="0",t.className="toolbar sidenav-pushable",g.trap($(t),!0),t},D=function(){$("#toolbar-toggle").click(function(e){k.toggle(),k.hidden?(this.style.bottom="10px",$("#toolbar-toggle").html('<i class="material-icons">keyboard_arrow_up</i>')):(this.style.bottom=E.css("height"),$("#toolbar-toggle").html('<i class="material-icons">keyboard_arrow_down</i>')),e.stopPropagation()}),g.trap($("#toolbar-toggle"),!0)},N={save:{icon:"save",onhold:"saveAs"},undo:{icon:"undo"},redo:"redo",openCommandPallete:{icon:"more_horiz"},find:"search",gotoline:{icon:"call_made",className:""},startAutocomplete:{icon:"fast_forward"},esc:{caption:"esc",className:"mod-key"},shift:{caption:"shift",className:"mod-key"},ctrl:{caption:"ctrl",className:"mod-key"},"a-left":{icon:"arrow_backward",className:""},"a-up":"arrow_upward","a-down":"arrow_downward","a-right":"arrow_forward",alt:{caption:"alt",className:"mod-key"},paste:{icon:"content_paste",onhold:"openClipboard",className:"scroll-point"},copy:"content_copy",cut:"content_cut",blockindent:"format_indent_increase",blockoutdent:"format_indent_decrease",togglerecording:"fiber_manual_record",replaymacro:"replay",toggleFullscreen:"fullscreen"};if(m.enableArrowKeys||m.enableModKeys){if(m.enableModKeys){if(m.enableModKeys!==!0&&"toggle"!==m.enableModKeys){var L=m.enableModKeys.replace(/^\s*|\s*$/,"").split(/\s*,\s*/);L.indexOf("shift")<0&&delete N.shift,L.indexOf("ctrl")<0&&delete N.ctrl,L.indexOf("alt")<0&&delete N.alt,L.indexOf("esc")<0&&delete N.esc}}else delete N.shift,delete N.ctrl,delete N.alt,delete N.esc;if(m.enableArrowKeys||(delete N["a-left"],delete N["a-right"],delete N["a-down"],delete N["a-up"]),"above"==m.toolbarPosition){_={};var B=["startAutocomplete","esc","shift","ctrl","a-left","a-down","a-up","a-right","alt"];for(var O in B)N[B[O]]&&(_[B[O]]=N[B[O]],delete N[B[O]]);B=null}else N.esc?N.esc.className+=" scroll-point":N.shift?N.shift.className+=" scroll-point":N.ctrl?N.ctrl.className+=" scroll-point":N["a-left"]&&(N["a-left"].className+=" scroll-point")}var I,A=function(e){c.execCommand(e)};m.enableLockScrolling&&(I=h());var P,Y,W,F="ontouchstart"in window?"touchstart":"mousedown",H="ontouchend"in window?"touchend":"mouseup",z="ontouchmove"in window?"touchmove":"mousemove";m.toolbarPosition&&(P=$(t(N)));var R;_&&(R=$(t(_))),Y=p(R||P,{"Ctrl-V":o,"Ctrl-C":a,"Ctrl-X":n},parseInt(m.characterBarDoubleClickIntervalMs),e),Y.setClipboard(b),(P||R)&&(W=f(Y,m,A,N,l)),P&&(P.on("click",l),P.on(F,W.start),I&&P.on(F,I.cancel),P.on(H,W.end),P.on("scroll",W.cancel),P.on("contextmenu",r),I&&P.on("scroll",I.onScroll),S(P,"above"==m.toolbarPosition)),R&&(R.on("click",l),R.on(F,W.start),R.on(H,W.end),R.on("scroll",W.cancel),S(R));var j;if(m.showCharacterBar&&(j=$(i(m.characterBarChars)),j.on("mousedown","button",s),I&&j.on("scroll",I.onScroll),I&&j.on(F,I.cancel),S(j)),"toggle"==m.showCharacterBar||"toggle"==m.toolbarPosition||1==m.enableModKeys||m.enableModKeys&&m.enableModKeys.indexOf("toggle")>-1||"toggle"==m.enableArrowKeys?D():($("#toolbar-toggle").detach(),$("#status-filename").css("left","10px")),E){var V=u(E,function(){E.css("height","auto"),k.computeSize("height"),k.parent.render(),$("#toolbar-toggle").css("bottom",E.css("height"))});x||(C[0][0].style.paddingLeft="30px"),E.on(F,V.start),E.on(z,V.move),E.click(function(e){e.stopPropagation()})}e.FileUtils.on("clear-temp",function(){Y.close(!0)}),S=K=T=D=y=null,e.CharBar={setEditor:function(e){c=e,Y.setEditor(e)},setClipboard:function(e){b=e,Y.setClipboard(e)},setTools:function(e){var a=t(e);P&&P.html(a.innerHTML)},init:function(e){w&&(document.body.insertBefore(w[0],e.views[1].$el[0]),M=e.addChild(w,40,0,1)),E&&(document.body.appendChild(E[0]),k=e.addChild(E,40,0)),e.render()},setChars:function(e){var t=i(e);j&&j.html(t.innerHTML)}}});;_Define(function(e){"use strict";function t(){0>D||a.swapDoc(D)}function i(e){function t(){var t=_.isOpen&&_.isOverlay;t&&c.remove(_.id),g(e),t&&c.add(_.id,_)}var i=d[e];if(j.trigger("beforeCloseTab",{id:e,doc:i}).defaultPrevented)return!1;j.trigger("closeTab",{id:e,doc:i});return i?i.dirty?(y.ask(a.getName(i.id)+" has unsaved changes. Close without saving?",function(){t()}),!1):(t(),!0):!1}function n(){F=$("#viewroot")[0];var t=new l($(document.body),window.innerHeight,l.VERTICAL);I=t.addChild($("#action_bar"),56),t.addChild($("#viewroot"),0,1),t.addChild($("#status-bar"));var n={marginTop:0,marginBottom:0};ace.Editor.prototype.getPopupMargins=function(e){return e?{marginTop:0,marginBottom:n.marginBottom}:n};var o=ace.require("ace/ext/emmet");if(o.load=e.Imports.define(["./libs/js/emmet.js"],null,function(e){window.emmet=window.emmetCodeMirror.emmet,e&&e()}),t.onRender=function(){j.trigger("view-change"),n.marginTop=parseInt(F.style.top),n.marginBottom=parseInt(F.style.bottom)+50},T.createTrigger($("#action_bar .dropdown-trigger")[0]),window.innerHeight<105){var r=function(){r&&(window.innerHeight>105&&window.removeEventListener("resize",r),r=null),t.render()};window.addEventListener("resize",r)}E.init(t),j.on("changeEditor",function(e){E.setEditor(e.editor)}),t.render(),b.enableKeyboardNavigation&&x.attach();var s=e.Autocomplete,p=s.prototype.blurListener;s.prototype.blurListener=function(){C.activeElement!=L.textInput.getElement()&&p.apply(this,arguments)},j.on("keyboard-change",function(e){if(e.isTrusted)if(e.visible)b.autoHideTabs&&!I.$forcedOpen&&window.innerHeight<parseInt(b.autoHideTabs)&&I.hide(),$(document.body).addClass("virtual-keyboard-visible");else{var t=s.for(m());t.activated&&t.detach()}e.visible||(b.autoHideTabs&&!I.$forcedClose&&I.show(),$(document.body).removeClass("virtual-keyboard-visible"))}),e.styleClip($("#status-filename")),S=new k($("#menu"),$("#opendocs"),$("#status-filename").children()),S.$hintActiveDoc=h,C.trap($("#menu"),!0),C.trap($("#status-filename"),!0),S.setSingleTabs(b.singleTabLayout),S.afterClick=R,S.onClose=i;var g=new PagerTab($("#selector"),$("#side-menu")),w={};$(".toggleBelow").click(function(e){e.stopPropagation(),"none"==$(this).next().css("display")?(v(this.id+":shown",!0),$(this).next().show(),$(this).children(".material-icons").text("keyboard_arrow_up")):(v(this.id+":shown",!1),$(this).next().hide(),$(this).children(".material-icons").text("keyboard_arrow_down"))}).each(function(e,t){b[t.id+":shown"]=!0,B(t.id+":shown"),w[t.id+":shown"]="no-user-config",b[t.id+":shown"]||t.click()}),e.registerValues(w),w=null;var y=!1;_=new Sidenav($("#side-menu"),{draggable:!0,edge:"left",minWidthPush:600,pushElements:$(".content"),onOpenStart:function(){C.hintChangeFocus()},onOpenEnd:function(){"#settings"==g.getActiveTab().attr("href")&&g.update("#settings"),_.isOverlay&&(Env.isDesktop||(C.keyboardVisible?(y=C.activeElement,y&&y.blur()):document.activeElement.blur()),x.addRoot(_.el,_.close.bind(_)),c.add(this.id,_)),f.trigger("sidenav-open")},onCloseStart:function(){try{f.activeFileBrowser&&f.activeFileBrowser.menu.hide()}catch(e){console.error(e)}},onCloseEnd:function(){_.isOverlay&&(x.removeRoot(_.el),c.close(this.id)),f.exitSaveMode(),y&&(C.focusIfKeyboard(y,!1,!0),y=null)}}),$(".sidenav-trigger").click(_.toggle.bind(_)),e.DocsTab=S,e.SideView=_,e.SideViewTabs=g,e.viewRoot=F;var D,A,O=b.currentTab;(A=window.location.href.indexOf("#m"))>=0&&(O=window.location.href.substring(A+2)),a.initialize(S,O);var N;a.numDocs()<1&&(N=a.createPlaceHolder("welcome","Welcome To Grace Editor",{select:!1})),d[O]||(D=O,O=Object.keys(d)[0]),u.init();var L=u.createEditor(F);u.setEditor(L),S.setActive(O,!0,!0),D&&v("currentTab",D,"application"),j.triggerForever("app-loaded"),j.on("documents-loaded",function(){f.loadServers(),a.refreshDocs()})}var a=e.Docs,o=e.Recovery.setBreakpoint,r=e.Recovery.removeBreakpoint,s=e.State,c=e.AutoCloseable,l=e.LinearLayout,d=e.docs,u=e.Editors,p=e.Utils,f=(e.SettingsDoc,e.FileUtils),g=e.closeDoc,m=e.getEditor,b=e.appConfig,v=e.configure,h=e.setDoc,w=e.getActiveDoc,y=e.Notify,C=e.FocusManager,T=e.MainMenu,E=e.CharBar,k=e.DocumentTab,j=e.AppEvents,x=e.Navigation,B=e.register;e.registerAll({currentTab:null,disableOptimizedFileBrowser:!1,disableBackButtonTabSwitch:!1,backButtonDelay:"700ms",enableFloatingRunButton:"auto",enableSplits:window.innerHeight>700,autoHideTabs:500,enableKeyboardNavigation:Env.isDesktop,enableGit:!0,inactiveFileDelay:"5min",projectConfigFile:"grace.json"}),e.registerValues({currentTab:"no-user-config",autoHideTabs:"Automatically hide tabs when keyboard visible if window height is less than this value in pixels. Set to 0 to disable.",projectConfigFile:" A file which contains configuration relative to project folder. Multiple comma separated files are allowed",enableFloatingRunButton:{"default":"auto",values:["true","small","center","auto",!1]},inactiveFileDelay:"How long after saving is necessary for a file to be considered inactive for 'Close inactive tabs' menu option"});var S;o("start-app",function(){y.error("Error During Previous Load!!! If issue persists, contact developer"),eruda._entryBtn.show()}),j.once("app-loaded",function(){r("start-app")}),Env.isWebView||s.ensure("noexit",!0),s.addListener(function(e){if(S.getOwner(e))return!b.disableBackButtonTabSwitch&&S.hasTab(e)?(e!=S.active&&a.swapDoc(e),!0):!1;switch(e){case"tabs":return!0;case"noexit":var t=p.parseTime(b.backButtonDelay);y.info("<span>Press <b>BACK</b> again to exit.<span>",t),j.trigger("app-paused");var i=s.exit(!1);return setTimeout(function(){j.trigger("app-resumed"),i(),s.ensure("noexit",!0),s.ensure(b.disableBackButtonTabSwitch?"tabs":S.active)},.7*t),!0}},function(e){return"tabs"==e||"noexit"==e||S.hasTab(e)});var D,F,_,I;e.LayoutCommands=[{name:"toggleFullscreen",bindKey:"F11",exec:function(){I.toggle(),I.$forcedOpen=!I.hidden}},{name:"swapTabs",bindKey:{win:"Alt-Tab",mac:"Command-Alt-N"},exec:t}],u.addCommands(e.LayoutCommands),T.addOption("close",{icon:"close",sortIndex:3,caption:"Close",childHier:{"close-current":{icon:"close",sortIndex:-1,caption:"Close current tab",close:!0,onclick:function(){i(e.DocsTab.active)}},"close-except":{icon:"clear_all",caption:"Close others",close:!0,onclick:function(){for(var t=e.DocsTab,n=t.tabs.length;n-->0;)t.tabs[n]!=e.DocsTab.active&&i(t.tabs[n])}},"close-all":{icon:"clear_all",caption:"Close all",close:!0,onclick:function(){for(var t=e.DocsTab,n=t.tabs.length;n-->0;)i(t.tabs[n])}},"close-inactive":{icon:"timelapse",caption:"Close inactive tabs",close:!0,onclick:function(){var t=(new Date).getTime()-p.parseTime(b.inactiveFileDelay);p.asyncForEach(e.DocsTab.tabs.slice(0),function(n,a,o){o(),n==e.DocsTab.active||!d[n]||d[n].dirty||d[n].isTemp()||p.getCreationDate(d[n].id)<t&&d[n].getFileServer().stat(d[n].getSavePath(),function(e,a){a&&a.mtimeMs<t&&a.size===d[n].getSize()&&i(n)})})}}}});var R=p.guardEntry(function(e,t){D=t;var i=j.trigger("changeTab",{oldTab:D,tab:e}).defaultPrevented;return i||h(e)?(v("currentTab",e,"application"),s.ensure(b.disableBackButtonTabSwitch?"tabs":e),!0):!1});Object.defineProperties(window,{fs:{get:function(){return w().getFileServer()}},doc:{get:w},editor:{get:m},gUtils:{value:p},fUtils:{value:f}}),$(document).ready(n)}),_Define(function(e){"use strict";function t(t){switch(t.config){case"applicationTheme":a($(".editor-primary"),!0);break;case"appFontSize":switch(t.newValue){case"small":case"medium":case"big":n($(document.body.parentElement),/font$/),document.body.parentElement.className+=" "+t.newValue+"font";break;default:t.preventDefault()}break;case"singleTabLayout":e.DocsTab.setSingleTabs(t.newValue)}}function i(e){var t=document.createElement("div");t.className=e,document.body.appendChild(t);var i=window.getComputedStyle(t),n={background:i.background||i.backgroundColor,color:i.color,font:i.font||i.fontFamily};return t.remove(),n}function n(e,t){e.each(function(){this.className=this.className.split(" ").filter(function(e){return!t.test(e)}).join(" ")})}function a(e,t){t||e.addClass("editor-primary");var i=l;if(n(e,/theme|^ace/),i.isDark&&"editor"==s.applicationTheme&&!i.isBlack)e.addClass(i.className),e.addClass("theme-dark");else switch(s.applicationTheme){case"blue-devel":i.isDark?(e.addClass("theme-dark"),e.addClass("theme-blue-dark")):e.addClass("theme-blue");default:i.isDark?(e.addClass("app-theme-dark"),e.addClass("theme-dark")):e.addClass("app-theme-light")}}var o=e.ConfigEvents,r=e.AppEvents,s=e.registerAll({applicationTheme:"editor",appFontSize:"medium",singleTabLayout:!1});e.registerValues({applicationTheme:"editor , application",appFontSize:"Font size for UI - small|medium|big"}),o.on("application",t),r.once("app-loaded",function(){document.body.parentElement.className+=" "+s.appFontSize+"font",$(".splash-screen").fadeOut(),setTimeout(function(){$(".splash-screen").detach()},700)});var c=["ace-tomorrow-night-bright","ace-terminal-theme","ace-vibrant-ink","ace-clouds-midnight","ace-kr-theme","ace-merbivore-soft","ace-ambiance","ace-twilight","ace-merbivore"],l={className:"ace-tm",background:"white"};e.setTheme=function(e){var t=window.getComputedStyle?i(e.cssClass):null;l={className:e.cssClass,background:t&&t.background,style:t,color:t&&t.color,isDark:e.isDark,isBlack:c.indexOf(e.cssClass)>-1};var n=$(".editor-primary");a(n,!0)},e.styleCheckbox=function(e){e=e.find("[type=checkbox]").addClass("checkbox").addClass("filled-in");for(var t=0;t<e.length;t++){var i=e.eq(t);i.next().is("span")||i.after("<span></span>")}e.next().click(function(e){$(this).prev().click(),e.stopPropagation(),e.preventDefault()})},e.styleClip=function(e){e=$(e);var t=e.filter(".clipper");t.add(e.find(".clipper")).each(function(e,t){var i=t.innerText;t.innerText="";var n=[i],a=n.length-1;n.reverse().forEach(function(e,i){var n=document.createElement("span");n.className="clipper-text",n.innerText=(a>i?"/":"")+e,t.appendChild(n)})})},e.watchTheme=a}),_Define(function(e){"use strict";var t=e.AppEvents,i=e.appConfig,n=e.Functions,a=e.Utils,o=(e.getEditor,new e.Imports(function(){e.BootList=o=null,t.triggerForever("fully-loaded")}));e.BootList=o,t.on("documents-loaded",o.load),o.add({name:"Material Colors",style:"./libs/css/materialize-colors.css"}),o.add({name:"Inbuilt Fonts",func:function(){var t=["Anonymous Pro","Courier Prime",{name:"Fira Code",types:["Regular","Bold"],formats:["woff","woff2","ttf"]},"Hack",{name:"Inconsolata",types:["Regular","Bold"]},"JetBrains Mono",{name:"Roboto Mono",types:["Regular","Bold"]},{name:"PT Mono",types:["Regular"]},"Source Code Pro","Ubuntu Mono",{name:"Nova Mono",types:["Regular"]}];e.registerValues({fontFamily:"Font used by the editor and search results. Bundled fonts include "+t.map(function(e){return e.name||e}).join(", ")+" as well as any System fonts.\n"})}}),o.add("./prefs/linter_options.js",{script:"./document/auto_settings.js"}),o.add({script:"./libs/js/splits.js"},{script:"./ui/splits.js"},{script:"./preview/previewer.js"},{name:"Creating run manager",script:"./preview/modes.js"},{name:"Enhanced Clipboard",script:"./tools/enhanced_clipboard.js"},{func:function(){var e=$("#runButton"),a=i.enableFloatingRunButton;if(a)switch(e.click(n.run),a){case"center":e.addClass("centerV");break;case"small":e.removeClass("btn-large");break;case"auto":var o=!0,r=function(t){t.visible?o&&t.isTrusted&&(e.addClass("slide-out"),o=!1):o||(e.removeClass("slide-out"),o=!0)};t.on("keyboard-change",r)}else e.detach()}}),o.add("./libs/css/completion.css",{script:"./ui/overlayMode.js"},{script:"./ui/rangeRenderer.js"},"./autocompletion/ui.js","./autocompletion/base_server.js",{name:"Tags",script:"./autocompletion/tags/tags.js"},{script:"./autocompletion/loader.js"},{name:"AutoCompletion",script:"./autocompletion/manager.js"});var r=e.Overflow;o.add({name:"SearchBox and Status",func:function(){var i=e.getEditor,n=a.delay(function(){var e=i();e&&e.commands.recording?$("#togglerecording").addClass("blink"):$("#togglerecording").removeClass("blink")},100),o=function(e){(e.editor||e).on("changeStatus",n)};t.on("changeEditor",n),t.on("createEditor",o),e.Editors.forEach(o),o=null,ace.config.loadModule("ace/ext/searchbox",function(n){function a(t){var i=e.FocusManager.visit(e.FocusManager.activeElement);t||(o=!1);var n=c.element,a=c.editor.container,s=a.getBoundingClientRect();if(s.height<300){o||($(".content")[0].appendChild(c.element),o=!0);var d=$("#viewroot")[0].getBoundingClientRect();if(s.top-d.top>100){if(1==l)return i();l=1,n.style.top=d.top+"px",n.style.bottom="auto",c.alignContainer(c.ALIGN_NONE)}else{if(s.bottom<d.bottom-100){if(4==l)return i();l=4,c.alignContainer(c.ALIGN_NONE)}else{if(3==l)return i();l=3,c.alignContainer(c.ALIGN_BELOW)}n.style.bottom=window.innerHeight-d.bottom+"px",n.style.top="auto"}return n.style.right="auto",n.style.left=0,i()}var u=$(".content").width(),p=0,f=0;if(5>l&&(n.style.top=0,n.style.bottom="auto",l=5),s.width<300||o&&c.active)o||($(".content")[0].appendChild(c.element),o=!0),n.style.top=s.top+"px",l=7;else if(o&&(a.appendChild(n),o=!1,n.style.top=0),p=s.left,f=u-s.right,0==p){if(6===l)return i();l=6}c.alignContainer(c.ALIGN_ABOVE);var g=r.clipWindow(s,300,u,!1);0==s[0]&&!o,void 0==g[0]?(n.style.right=g[1]-f+"px",n.style.left="auto"):(n.style.right="auto",n.style.left=g[0]-p+"px"),i()}var o,s=n.SearchBox,c=i().searchBox||new s(i()),l=0;ace.config.loadModule("ace/ext/statusbar",function(e){var o=e.StatusBar,r=r||new o(i(),$("#status-bar")[0]);c.editor!=i()&&c.setEditor(n),a(),t.on("changeEditor",function(e,t,i){return function(n){var a=n.editor;$(a.container).addClass("active_editor"),n.oldEditor&&($(n.oldEditor.container).removeClass("active_editor"),n.oldEditor.renderer.off("resize",i)),t.setEditor(a),t.updateStatus(a),e.setEditor(a),a.renderer.on("resize",i),i()}}(c,r,a))})})}}),o.add({script:"./libs/js/touchhold.js",ignoreIf:!0},{script:"./ui/recycler.js",ignoreIf:i.disableOptimizedFileBrowser},{script:"./views/fileBrowser.js"},{script:"./views/recyclerBrowser.js",ignoreIf:i.disableOptimizedFileBrowser},{name:"Creating File Browsers",func:function(){function n(e){var t=e.project.rootDir;t==r.NO_PROJECT?c.close():(c.fileServer=e.project.fileServer,c.setRootDir(t),c.rename(c.hier[0],e.project.name))}function a(){"stop"==$("#find_file_cancel_btn").text()?(c.stopFind(),$("#find_file_cancel_btn").text("refresh")):c.cancelFind()}function o(){$("#search_text").val()&&c.findFile($("#search_text").val(),null,function(){$("#find_file_cancel_btn").text("refresh")}),$("#find_file_cancel_btn").text("stop")}var r=e.FileUtils;t.triggerForever("filebrowsers");e.FileBrowser;i.disableOptimizedFileBrowser||(e.FileBrowser=e.RFileBrowser),r.initialize(e.SideView,e.SideViewTabs);var s=e.RHierarchy||e.Hierarchy,c=new s($("#hierarchy"),"");c.id="projectView",r.ownChannel("project",c,"files"),r.addBrowser(c),n({project:r.getProject()}),r.on("change-project",n),$("#find_file_btn").click(o),$("#search_text").change(o),$("#find_file_cancel_btn").click(a)}}),o.add({name:"Swipe And Drag",script:"./libs/js/mobile-drag.js"},{script:"./libs/js/drag-tabs.js"},{script:"./libs/js/hammer.min.js",ignoreIf:!1},{script:"./libs/js/scroll-behaviour.js"},{func:function(){var t=e.SideViewTabs,i=e.DocsTab,n=new Hammer($("#side-menu")[0],{inputClass:Hammer.TouchMouseInput,recognizers:[[Hammer.Swipe,{threshold:3,direction:Hammer.DIRECTION_HORIZONTAL}]]}),a=!1;n.on("hammer.input",function(e){if(e.isFirst){a=!0;var t=e.target;if("INPUT"==t.tagName)return n.stop();if(t=t.parentElement,t&&t.parentElement&&"selector"==t.parentElement.id||"selector"==t.id)return n.stop()}if(a){var i,o=e.target;if(e.velocityX<-.5){do{if(i=window.getComputedStyle(o),("scroll"==i.overflow||"auto"==i.overflow||"scroll"==i.overflowX||"auto"==i.overflowX)&&o.scrollWidth-o.scrollLeft>o.offsetWidth)return n.stop();o=o.parentElement}while(o);a=!1}else if(e.velocityX>.5){do{if(i=window.getComputedStyle(o),("scroll"==i.overflow||"auto"==i.overflow||"scroll"==i.overflowX||"auto"==i.overflowX)&&o.scrollLeft>0)return n.stop();o=o.parentElement}while(o);a=!1}}}),n.on("swipeleft",function(){t.goleft()}),n.on("swiperight",function(){t.goright()}),window.MobileDragDrop.polyfill({holdToDrag:650,noDebug:!0,tryFindDraggableTarget:function(e){var t=e.target;do if(t.getAttribute&&"true"===t.getAttribute("draggable"))return t;while((t=t.parentNode)&&t!==document.body)},dragImageTranslateOverride:MobileDragDrop.scrollBehaviourDragImageTranslateOverride});var o=new e.DragTabs($("#menu")[0],{selectors:{tab:".tab"}});o.on("end",function(e){void 0!==e.newIndex&&i.moveTab(e.newIndex,e.dragTab.getAttribute("data-file"))});var r=new e.DragList($("#opendocs")[0],{selectors:{tab:".file-item"}});r.on("drag",function(e){void 0!==e.newIndex&&i.moveTab(e.newIndex,e.dragTab.getAttribute("data-file"))})}}),o.add({script:"./tools/splitEditors.js",ignoreIf:!i.enableSplits},{name:"Split Editors",func:function(){e.SplitEditors&&e.SplitEditors.init()}}),o.add({script:"./src-min-noconflict/ext-options.js"},{script:"./prefs/settings-menu.js"},{name:"Create Settings Menu",func:function(){function t(){n.render(),i.find("button").addClass("btn btn-group").parent().addClass("btn-group-container"),e.styleCheckbox(i)}var i=$("#settings"),n=e.createSettingsMenu(i);e.SideViewTabs["owner-#settings"]={update:t},$("#settings_tab").show()}}),o.add({name:"Git Integration",script:"./tools/git/git.js",ignoreIf:!i.enableGit}),o.add("./core/storage/databasestorage.js",{name:"Diff Tooling",script:"./tools/diff/diff.js"}),o.add({name:"Missing colons",script:"./tools/fix_colons.js"}),o.add({name:"Custom Keybindings",func:function(){var t=e.Editors;t.forEach(function(t){e.restoreBindings(t)});var i=e.AppEvents;i.on("createEditor",e.restoreBindings)}});var s=e.registerAll({useRecyclerViewForSearchResults:!0},"search");o.add({script:"./ui/recycler.js",ignoreIf:s.useRecyclerViewForSearchResults&&!e.RecyclerRenderer},{script:"./libs/js/brace-expansion.js"},{script:"./search/searchList.js"},{script:"./search/searchResults.js"},{script:"./search/searchReplace.js"},{script:"./search/searchTab.js"},{name:"Creating Search Panel",func:function(){var t=new e.SearchTab($("#search_container"),$("#searchModal"));t.init(e.SideView)}})});